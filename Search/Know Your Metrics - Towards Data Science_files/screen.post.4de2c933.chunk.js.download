(window.webpackJsonp=window.webpackJsonp||[]).push([[21,5],{"./node_modules/@babel/runtime/helpers/construct.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/setPrototypeOf.js");function o(t,n,a){return!function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?e.exports=o=function(e,t,n){var o=[null];o.push.apply(o,t);var a=new(Function.bind.apply(e,o));return n&&r(a,n.prototype),a}:e.exports=o=Reflect.construct,o.apply(null,arguments)}e.exports=o},"./node_modules/@babel/runtime/helpers/isNativeFunction.js":function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},"./node_modules/@babel/runtime/helpers/wrapNativeSuper.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),o=n("./node_modules/@babel/runtime/helpers/setPrototypeOf.js"),a=n("./node_modules/@babel/runtime/helpers/isNativeFunction.js"),i=n("./node_modules/@babel/runtime/helpers/construct.js");function s(t){var n="function"==typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!a(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return i(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},s(t)}e.exports=s},"./src/WatchBounds.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return c}));var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i={updateWatchedBounds:function(){},watchedBounds:new Map},s=a.createContext(i),l=function(e){var t=new Map,n=a.useState(t),r=o()(n,2),i=r[0],l=r[1],c={offset:{left:0,right:0,top:0,bottom:0}},u={watchedBounds:i,updateWatchedBounds:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c;l((function(r){var o=new Map(r);return o.set(e,{ref:t,opts:n}),o}))}};return a.createElement(s.Provider,{value:u},e.children)},c=function(e){var t=e.children,n=e.className,r=e.name,o=e.type,i=e.offset,l=a.useContext(s).updateWatchedBounds,c=a.useRef(null);return a.useEffect((function(){l&&l(r,c,{type:o,offset:i})}),[]),a.createElement("div",{className:n,ref:c},t)}},"./src/components/analytics/ParselyReporter.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(a),s=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),l=n.n(s),c=n("./node_modules/react/index.js"),u=n("./node_modules/react-redux/es/index.js"),m=n("./src/components/session/RequireFlag.tsx"),d=n("./src/components/session/WithFlag.tsx"),p=n("./src/components/session/WithViewer.tsx"),g=n("./src/framework/source/SourceContext.tsx"),f=n("./src/util/hooks/useScript.tsx"),h=n("./src/util/hooks/useTimer.tsx");function b(){var e=Object(h.a)();return function(t){var n=t.resource,r=t.callback,o=t.max,a=t.ms;return function t(n){var r=n.resource,o=n.callback,a=n.max,i=n.ms,s=n.tries;if(s<a)try{o(r())}catch(n){e((function(){return t({resource:r,callback:o,max:a,ms:2*i,tries:s+1})}),i)}}({resource:n,callback:r,max:o||Number.POSITIVE_INFINITY,ms:a||1,tries:0})}}n.d(t,"a",(function(){return E}));function y(e){var t=e.currentLocation,n=e.referrer,r=e.referrerSource,o=function(e){return e?e.mediumMemberAt?"member":"user":"visitor"}(e.viewer);return x(t,n,r,o),null}var x=function(e,t,n,r){var a=Object(f.a)("//d1z2jf7jlzjs58.cloudfront.net/keys/medium.com/p.js",{id:"parsely-cf"}),i=o()(a,2),s=i[0],l=i[1],u=b();c.useEffect((function(){s&&!l&&u({resource:function(){return window.PARSELY.beacon},callback:function(){return window.PARSELY.beacon.trackPageView({url:v(e,n),urlref:t,js:1,data:{viewerStatus:r}})},max:10})}),[e,t,s,l])};function v(e,t){if(!e)return"";if(!t)return e;var n=new URL(e),r=Object(g.c)(t),a=r.name,i=r.dimension;if(a&&n.searchParams.set("utm_medium",a),i){var s=i.split("."),l=o()(s,3),c=l[0],u=l[1],m=l[2];c&&n.searchParams.set("utm_source",c),u&&n.searchParams.set("utm_term",u),m&&n.searchParams.set("utm_content",m)}return n.toString()}var E=Object(u.c)((function(e){var t=e.config.isAmp,n=e.client.isBot,r=e.navigation;return{isAmp:t,isBot:n,currentLocation:r.currentLocation,referrer:r.referrer,referrerSource:r.referrerSource}}))((function(e){var t=e.isBot,n=e.isAmp,r=l()(e,["isBot","isAmp"]);return t||n?null:c.createElement(m.a,{name:"enable_parsely"},c.createElement(d.a,{name:"dont_track_user"},(function(e){return e?null:c.createElement(c.Fragment,null,c.createElement("script",null,"window.PARSELY = window.PARSELY || {autotrack: false}"),c.createElement(p.b,null,(function(e){return c.createElement(y,i()({},r,{viewer:e}))})))})))}))},"./src/components/audio/AudioPlayback.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(a),s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),l=n.n(s),c=n("./node_modules/graphql-tag/src/index.js"),u=n.n(c),m=n("./node_modules/react/index.js"),d=n.n(m),p=n("./src/components/session/WithViewer.tsx"),g=n("./src/components/upsell/UpsellClickable.tsx"),f=n("./src/framework/design-system/components/index.ts"),h=n("./src/framework/design-system/type/index.ts"),b=n("./src/framework/reporter/index.ts"),y=n("./src/framework/source/index.ts"),x=n("./src/framework/style/index.ts"),v=n("./src/framework/track/UpsellPresentationTracker.tsx"),E=n("./src/styles/font.ts"),S=n("./src/svg/audio-21px.svg");function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var w=d.a.createElement("g",{transform:"translate(5 4)",fillRule:"evenodd"},d.a.createElement("rect",{width:6,height:17,rx:2}),d.a.createElement("rect",{x:9,width:6,height:17,rx:2})),O=function(e){return d.a.createElement("svg",C({width:25,height:25},e),w)};function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var j=d.a.createElement("path",{d:"M7 4v17.03a.5.5 0 0 0 .8.4l11.1-8.1a1 1 0 0 0 0-1.62L7.8 3.6A.5.5 0 0 0 7 4z"}),L=function(e){return d.a.createElement("svg",_({width:25,height:25},e),j)};function k(){var e=o()(["\n  fragment AudioPlayback_post on Post {\n    id\n    audioVersionUrl\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n    }\n    ...UpsellClickable_post\n  }\n  ","\n"]);return k=function(){return e},e}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return H})),n.d(t,"b",(function(){return F}));var M={duration:0,elapsed:0,playing:!1},T=function(e,t){switch(t.type){case"load":return I({},e,{duration:t.duration});case"play":return I({},e,{playing:!0});case"pause":return I({},e,{playing:!1});case"seek":return I({},e,{elapsed:t.clickedTime});case"progress":return I({},e,{elapsed:t.elapsed});case"end":return I({},e,{playing:!1});default:return e}},B={"0%":{visibility:"hidden"},"1%":{visibility:"visible",opacity:"0"},"100%":{opacity:"1"}},R={"0%":{opacity:"1",visibility:"visible"},"99%":{opacity:"0"},"100%":{visibility:"hidden"}},A=function(e){var t=e.postId,n=e.audioVersionUrl,r=Object(x.useCx)(),o=m.useReducer(T,M),a=i()(o,2),s=a[0],l=a[1],c=s.duration,u=s.elapsed,d=s.playing,p=Object(x.useKeyframes)({fadeInKeyframesName:B,fadeOutKeyframesName:R}),g=p.fadeInKeyframesName,y=p.fadeOutKeyframesName,v=m.useState(!1),E=i()(v,2),S=E[0],C=E[1],w=m.useState(!1),_=i()(w,2),j=_[0],k=_[1],P=m.useCallback((function(){C((function(e){return k(!!e),!1}))}),[]),I=m.useCallback((function(){C((function(e){return k(!e),!0}))}),[]),A=Object(b.c)();m.useEffect((function(){var e=document.getElementById("audio-player");function t(){l({type:"load",duration:e.duration})}function n(){l({type:"progress",elapsed:e.currentTime})}function r(){l({type:"end"})}return e.addEventListener("canplay",t),e.addEventListener("timeupdate",n),e.addEventListener("ended",r),function(){e.removeEventListener("canplay",t),e.removeEventListener("timeupdate",n),e.removeEventListener("ended",r)}}),[]),m.useEffect((function(){var e=document.getElementById("audio-player");Math.round(u)!==Math.round(e.currentTime)&&document.hasFocus()&&(e.currentTime=u)}),[u]);var D=function(e){var t=e.children,n=e.onClick,r=Object(x.useCx)();return m.createElement("button",{onMouseUp:n,className:r((function(e){return{borderRadius:"4px",padding:"8px",borderWidth:"1px",borderStyle:"solid",boxSizing:"border-box",display:"inline-block",textDecoration:"none",":focus":{outline:"none"},color:e.baseColor.text.normal,fill:e.baseColor.fill.normal,background:0,borderColor:e.baseColor.border.dark,":hover":{cursor:"pointer",color:e.baseColor.text.darker,fill:e.baseColor.fill.darker,borderColor:e.baseColor.border.darker}}}))},t)};return m.createElement(f.b,{display:"flex",justifyContent:"center",margin:"20px 0"},m.createElement("audio",{id:"audio-player"},m.createElement("source",{src:n})),m.createElement(f.b,{display:"flex",alignItems:"center",flexGrow:"1"},m.createElement(f.b,{marginRight:"16px"},m.createElement((function(e){var n=e.playing,r=m.useCallback((function(){var e=document.getElementById("audio-player");n?(A.event("audio.end",{postId:t}),e.pause(),l({type:"pause"})):(A.event("audio.start",{postId:t}),e.play(),l({type:"play"}))}),[n]);return m.createElement(D,{onClick:r},n?m.createElement(O,null):m.createElement(L,null))}),{playing:d})),m.createElement(f.b,{display:"flex",flexDirection:"column",flexGrow:"1"},m.createElement(h.a,{scale:"M",color:"DARKER"},"Listen to this story"),m.createElement((function(e){var t=e.duration,n=e.elapsed,o=e.isProgressBeanVisible,a=e.onMouseEnterProgressBar,i=e.onMouseLeaveProgressBar,s=e.onTimeUpdate,l=n&&t?Math.max(0,Math.min(n/t*100,100)):0;function c(e){var t=~~(e%60);return[~~(e/60),t<10?"0"+t:t].join(":")}function u(e){var n=e.pageX,r=document.getElementById("audio-player-progress-bar"),o=n-(r.getBoundingClientRect().left+window.scrollX);return t/r.offsetWidth*o}var d=[function(e){return{backgroundColor:e.baseColor.fill.normal,position:"relative",marginLeft:"-5px",height:"10px",width:"10px",borderRadius:"50%",left:"".concat(l,"%"),cursor:"pointer",opacity:o?1:0}}];return j&&d.push({animation:"".concat(o?g:y," .2s ease-in-out forwards")}),m.createElement(f.b,{display:"flex",alignItems:"center"},m.createElement(f.b,{width:"28px",marginRight:"12px",textAlign:"left"},m.createElement(h.a,{scale:"M"},n?c(n):"--:--")),m.createElement("div",{className:r((function(e){return{display:"flex",justifyContent:"flex-start",alignItems:"center",flexGrow:1,height:"2px",cursor:"pointer",background:"linear-gradient(to right, ".concat(e.baseColor.fill.normal," ").concat(l,"%, ").concat(e.baseColor.background.normal," 0)")}})),id:"audio-player-progress-bar",onMouseDown:function(e){function t(e){s(u(e))}s(u(e)),document.addEventListener("mousemove",t),document.addEventListener("mouseup",(function(){document.removeEventListener("mousemove",t),i()}))},onMouseEnter:a,onMouseLeave:i},m.createElement("div",{className:r(d),onAnimationEnd:function(){return k(!1)}})),m.createElement(f.b,{width:"28px",marginLeft:"12px",textAlign:"right"},m.createElement(h.a,{scale:"M"},t?c(t):"--:--")))}),{elapsed:u,duration:c,isProgressBeanVisible:S,onMouseEnterProgressBar:I,onMouseLeaveProgressBar:P,onTimeUpdate:function(e){return l({type:"seek",clickedTime:Math.max(0,Math.min(e,c))})}}))))},D=function(e){return{fill:e.baseColor.fill.light,marginLeft:"15px",marginRight:"15px"}},N=function(e){return{color:e.baseColor.text.light,fontSize:"14px"}},z=function(e){var t=e.post,n=Object(x.useCx)();return m.createElement(f.B,{columns:8,display:"flex",flexShrink:"0",margin:"30px 0",padding:"20px 12px",backgroundColor:"BASE_LIGHT"},m.createElement(S.a,{className:n(D)}),m.createElement(f.d,{className:n([Object(E.g)(),N])},"Psst... there’s an audio version of this story."," ",m.createElement(g.a,{post:t,linkStyle:"OBVIOUS"},"Upgrade to listen")))};function H(e){var t=e.post,n=t.id,r=t.audioVersionUrl,o=(t.content||{}).isLockedPreviewOnly;return m.createElement(f.b,{marginTop:"30px"},m.createElement(p.b,null,(function(e){return e&&!!e.mediumMemberAt||!o?m.createElement(A,{postId:n,audioVersionUrl:r}):m.createElement(y.b,{source:{dimension:"audio_exclusive",name:"upgrade_membership",postId:n}},m.createElement(v.a,null,m.createElement(z,{post:t})))})))}var F=u()(k(),g.b)},"./src/components/collection/CollectionFollowButton.tsx":function(e,t,n){"use strict";n.d(t,"c",(function(){return R})),n.d(t,"b",(function(){return A})),n.d(t,"a",(function(){return V}));var r=n("./node_modules/@babel/runtime/helpers/extends.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(a),s=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),l=n.n(s),c=n("./node_modules/lodash/flowRight.js"),u=n.n(c),m=n("./node_modules/graphql-tag/src/index.js"),d=n.n(m),p=n("./node_modules/react/index.js"),g=n("./node_modules/@apollo/react-hoc/lib/react-hoc.esm.js"),f=n("./node_modules/react-redux/es/index.js"),h=n("./src/components/session/WithViewer.tsx"),b=n("./src/components/style/BaseThemeProvider.tsx"),y=n("./src/components/susi/SusiClickable.tsx"),x=n("./src/framework/design-system/components/index.ts"),v=n("./src/framework/design-system/components/portal/ui/Toast.tsx"),E=n("./src/framework/design-system/type/index.ts"),S=n("./src/framework/reporter/index.ts"),C=n("./src/framework/source/index.ts"),w=n("./src/framework/style/index.ts"),O=n("./src/framework/track/index.ts"),_=n("./src/styles/theme.ts"),j=n("./src/svg/arrow-down-21px.svg"),L=n("./src/util/routes.ts");function k(){var e=l()(["\n  mutation unsubscribeCollectionEmailsMutation($id: ID!) {\n    unsubscribeCollectionEmails(collectionId: $id) {\n      ...CollectionFollowButton_collection\n    }\n  }\n  ","\n"]);return k=function(){return e},e}function P(){var e=l()(["\n  mutation subscribeCollectionEmailsMutation($id: ID!) {\n    subscribeCollectionEmails(collectionId: $id) {\n      ...CollectionFollowButton_collection\n    }\n  }\n  ","\n"]);return P=function(){return e},e}function I(){var e=l()(["\n  mutation unfollowCollectionMutation($id: ID!) {\n    unfollowCollection(targetCollectionId: $id) {\n      ...CollectionFollowButton_collection\n    }\n  }\n  ","\n"]);return I=function(){return e},e}function M(){var e=l()(["\n  mutation followCollectionMutation($id: ID!) {\n    followCollection(targetCollectionId: $id) {\n      ...CollectionFollowButton_collection\n    }\n  }\n  ","\n"]);return M=function(){return e},e}function T(){var e=l()(["\n  fragment CollectionFollowButton_collection on Collection {\n    __typename\n    id\n    viewerIsFollowing\n    name\n    viewerIsSubscribedToLetters\n    slug\n    isUserSubscribedToCollectionEmails\n    ...collectionUrl_collection\n    ...SusiClickable_collection\n  }\n  ","\n  ","\n"]);return T=function(){return e},e}function B(){var e=l()(["\n  fragment CollectionFollowButton_post on Post {\n    __typename\n    id\n  }\n"]);return B=function(){return e},e}var R=d()(B()),A=d()(T(),L.C,y.b),D=function(e){var t=e.children,n=e.extraTopPadding,r=e.extraBottomPadding,o=e.padding,a=e.margin,i=e.borderTop;return p.createElement(x.b,{padding:o||"".concat(n?"20px":"5px"," 20px ").concat(r?"20px":"5px"," 20px"),margin:a,borderTop:i?"BASE_LIGHTER":"NONE"},t)},N=d()(M(),A),z=d()(I(),A),H=d()(P(),A),F=d()(k(),A),U={position:"relative",left:"6px"},X=function(e,t){return e.slug&&(t&&t.id?Object(L.Eb)(e.slug,t.id):Object(L.Db)(e.slug))},W=function(e,t,n,r){return p.createElement(h.b,null,(function(o){return o?p.createElement(x.c,{size:"REGULAR",onClick:e.viewerIsFollowing?r:n,buttonStyle:e.viewerIsFollowing?"STRONG":"OBVIOUS"},e.viewerIsFollowing?"Following":"Follow"):p.createElement(y.a,{collection:e,buttonStyle:"OBVIOUS",isButton:!0,buttonSize:"REGULAR",operation:"register",actionUrl:X(e,t)},e.viewerIsFollowing?"Following":"Follow")}))},V=u()(Object(g.a)(N,{name:"followCollectionMutation",props:function(e){var t=e.ownProps,n=e.followCollectionMutation;return{followCollectionMutation:function(){n({variables:{id:t.collection.id},optimisticResponse:{__typename:"Mutation",followCollection:{__typename:"Collection",viewerIsFollowing:!0,isUserSubscribedToCollectionEmails:t.collection.isUserSubscribedToCollectionEmails,id:t.collection.id,name:t.collection.name}}})}}}}),Object(g.a)(z,{name:"unfollowCollectionMutation",props:function(e){var t=e.ownProps,n=e.unfollowCollectionMutation;return{unfollowCollectionMutation:function(){return n({variables:{id:t.collection.id},optimisticResponse:{__typename:"Mutation",unfollowCollection:{__typename:"Collection",viewerIsFollowing:!1,isUserSubscribedToCollectionEmails:t.collection.isUserSubscribedToCollectionEmails,id:t.collection.id,name:t.collection.name}}})}}}}),Object(g.a)(H,{name:"subscribeCollectionEmailsMutation",props:function(e){var t=e.ownProps,n=e.subscribeCollectionEmailsMutation;return{subscribeCollectionEmailsMutation:function(){return n({variables:{id:t.collection.id},optimisticResponse:{__typename:"Mutation",subscribeCollectionEmails:{__typename:"Collection",viewerIsFollowing:t.collection.viewerIsFollowing,isUserSubscribedToCollectionEmails:!0,id:t.collection.id,name:t.collection.name}}})}}}}),Object(g.a)(F,{name:"unsubscribeCollectionEmailsMutation",props:function(e){var t=e.ownProps,n=e.unsubscribeCollectionEmailsMutation;return{unsubscribeCollectionEmailsMutation:function(){return n({variables:{id:t.collection.id},optimisticResponse:{__typename:"Mutation",unsubscribeCollectionEmails:{__typename:"Collection",viewerIsFollowing:t.collection.viewerIsFollowing,isUserSubscribedToCollectionEmails:!1,id:t.collection.id,name:t.collection.name}}})}}}}))((function(e){var t=Object(w.useCx)(),n=Object(f.e)((function(e){return e.config.isAmp})),r=Object(f.e)((function(e){return e.navigation.currentLocation})),a=e.collection,s=e.post,l=a&&a.name?a.name:"",c=Object(S.c)(),u=Object(C.d)(),m=p.useState(!!e.isPopoverVisible),d=i()(m,2),g=d[0],k=d[1],P=p.useState(!!e.isToastVisible),I=i()(P,2),M=I[0],T=I[1],B=p.useCallback((function(){k(!1)}),[]);p.useEffect((function(){return O.a.on("scroll",B),function(){O.a.off("scroll",B)}}),[B]);var R=p.useCallback((function(){a.viewerIsFollowing||(e.followCollectionMutation&&e.followCollectionMutation(),c.event("collection.followed",{collectionId:a.id,followSource:u})),k(!0)}),[a]),A=p.useCallback((function(){c.event("collection.unfollowed",{collectionId:a.id,followSource:u}),e.unfollowCollectionMutation&&e.unfollowCollectionMutation(),k(!1)}),[]),N=p.useCallback((function(){k(!1)}),[]),z=p.useCallback((function(t){c.event("client.action",{action:"toggle-subscribe-collection-emails",eventType:"click",classAttribute:"checkbox"}),t.target.checked?e.subscribeCollectionEmailsMutation&&e.subscribeCollectionEmailsMutation():e.unsubscribeCollectionEmailsMutation&&e.unsubscribeCollectionEmailsMutation(),T(!0)})),H=p.useCallback((function(){T(!1)}));if(n)return null;if(e.simpleButton)return W(a,e,R,A);var F=!!a.isUserSubscribedToCollectionEmails;return p.createElement(p.Fragment,null,p.createElement(x.x,{isVisible:!!g,hide:N,popoverTheme:_.a,popoverRenderFn:function(){return p.createElement(x.b,{width:"280px",display:"flex",flexDirection:"column"},p.createElement(D,{extraTopPadding:!0},p.createElement(E.b,{scale:"XS"},"You‘re following ",l)),p.createElement(D,null,p.createElement(x.d,null,"You‘ll now see more stories from ",l," across Medium.")),p.createElement(D,null,p.createElement(x.d,null,p.createElement("label",null,p.createElement(x.b,{display:"inline",marginRight:"5px"},p.createElement("input",{type:"checkbox",onChange:z,checked:F})),"Receive emails from this publication"))),p.createElement(D,{borderTop:!0,margin:"10px 0 0 0",padding:"15px 20px 5px 20px"},p.createElement(x.d,null,p.createElement(x.u,{href:Object(L.B)(a,r)},"View Publication"))),p.createElement(D,{extraBottomPadding:!0},p.createElement(x.d,null,p.createElement(x.u,{onClick:A},"Unfollow publication"))))}},p.createElement((function(e){return p.createElement(h.b,null,(function(t){return t?p.createElement(x.c,o()({size:"SMALL",onClick:R},e),e.children):p.createElement(y.a,o()({collection:a,buttonStyle:"OBVIOUS",isButton:!0,buttonSize:"SMALL",operation:"register",actionUrl:X(a,s)},e),e.children)}))}),{buttonStyle:a.viewerIsFollowing?"STRONG":"OBVIOUS"},a.viewerIsFollowing?"Following":"Follow",a.viewerIsFollowing&&p.createElement("span",{className:t(U)},p.createElement(j.a,null)))),p.createElement(b.b,null,p.createElement(v.a,{isVisible:!!M,hide:H,duration:2e3},p.createElement(x.d,null,F?"You‘ll now receive emails from ".concat(l,"."):"You‘ll no longer receive emails from ".concat(l,".")))))}))},"./src/components/collection/CollectionLogo.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/graphql-tag/src/index.js"),i=n.n(a),s=n("./node_modules/react/index.js"),l=n("./src/components/ui/image/index.ts"),c=n("./src/framework/design-system/components/index.ts"),u=n("./src/framework/design-system/type/Type.tsx"),m=n("./src/framework/style/index.ts"),d=n("./src/util/miroImage.ts");function p(){var e=o()(["\n  fragment CollectionLogo_collection on Collection {\n    name\n    logo {\n      id\n      originalWidth\n      originalHeight\n    }\n  }\n"]);return p=function(){return e},e}var g=function(e){return function(t){return{color:t.baseColor.text[e]}}};function f(e){var t=e.collection,n=e.maxWidth,r=e.maxHeight,o=e.textScale,a=void 0===o?"S":o,i=e.withTextColorSubtle,p=void 0!==i&&i,f=Object(m.useTheme)();if(!t.logo||!t.logo.id)return s.createElement(u.a,{fontConfig:f.newFonts.heading,scale:a,tag:"span",additionalRules:g(p?"normal":"dark"),clamp:1},t.name||"");var h=t.logo,b=h.id,y=h.originalWidth||100,x=h.originalHeight||100;if(n&&y>n){var v=y/n;y=Math.floor(y/v),x=Math.floor(x/v)}if(r&&x>r){var E=x/r;y=Math.floor(y/E),x=Math.floor(x/E)}return s.createElement(c.b,{width:"".concat(y,"px"),height:"".concat(x,"px")},s.createElement(l.b,{miroId:b,alt:t.name||"Publication logo",width:y,height:x,strategy:d.a.Resample}))}var h=i()(p())},"./src/components/collection/CollectionMetabar.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(a),s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),l=n.n(s),c=n("./node_modules/graphql-tag/src/index.js"),u=n.n(c),m=n("./node_modules/react/index.js"),d=n("./node_modules/react-redux/es/index.js"),p=n("./node_modules/@babel/runtime/helpers/extends.js"),g=n.n(p),f=n("./src/components/collection/CollectionLogo.tsx"),h=n("./src/framework/design-system/components/index.ts"),b=n("./src/framework/design-system/type/Type.tsx"),y=n("./src/framework/style/index.ts"),x=n("./src/styles/breakpoints.ts");function v(){var e=o()(["\n  fragment CollectionNavItems_collection on Collection {\n    navItems {\n      title\n      url\n      type\n    }\n  }\n"]);return v=function(){return e},e}var E=function(e){var t;return t={listStyleType:"none",margin:0,lineHeight:"40px",whiteSpace:"nowrap",overflowX:"auto",display:"flex",alignItems:"flex-start"},i()(t,x.sm(e),{display:"none"}),i()(t,"marginTop","".concat(20,"px")),i()(t,"paddingTop","".concat(20,"px")),i()(t,"height","".concat(80,"px")),t},S={display:"flex",alignItems:"center",height:"".concat(20,"px"),marginRight:"15px",marginLeft:"15px",":first-child":{marginLeft:0}},C=function(e){return function(t){return{color:t.baseColor.text[e],textTransform:"uppercase",letterSpacing:"1px"}}},w=function(e){return{height:"".concat(20,"px"),minWidth:"1px",backgroundColor:e.baseColor.border.normal}};function O(e){var t=e.navItems,n=e.withTextColorSubtle,r=Object(y.useCx)(),o=Object(y.useTheme)();return t?m.createElement("ul",{className:r(E)},t.map((function(e,t){return e.url&&m.createElement(m.Fragment,{key:t},"EXTERNAL_LINK_NAV_ITEM"===e.type&&m.createElement("span",{className:r(w)}),m.createElement("li",{className:r(S)},m.createElement(b.a,{fontConfig:o.newFonts.detail,scale:"S",tag:"span",additionalRules:C(n?"lighter":"normal")},m.createElement(h.u,{href:e.url},e.title))))}))):null}var _=u()(v()),j=n("./src/components/navigation/Anchor.tsx"),L=n("./src/framework/design-system/flow/responsiveStyles.ts"),k=n("./src/util/routes.ts"),P=n("./src/util/theme.ts");function I(){var e=o()(["\n  fragment CollectionMetabarBottom_collection on Collection {\n    slug\n    ...CollectionNavItems_collection\n    ...CollectionLogo_collection\n    ...collectionUrl_collection\n    ...ThemeUtilTintBackground_collection\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return I=function(){return e},e}var M=u()(I(),_,f.b,k.C,P.b),T=Object(d.c)((function(e){return{currentLocation:e.navigation.currentLocation}}))((function(e){var t=e.collection,n=e.currentLocation,r=e.shouldShowCollectionLogo,o=void 0===r||r,a=e.withBorderTop,s=void 0!==a&&a,l=e.withTextColorSubtle,c=void 0!==l&&l,u=e.breakpoint,d=void 0===u?L.a.sm:u,p=t.navItems.slice().length>0;return m.createElement(h.b,g()({backgroundColor:"BACKGROUND",display:p?"block":"none",borderTop:s?"BASE_LIGHTER":"NONE"},i()({},d,{display:"block"})),m.createElement(h.w,null,m.createElement(h.b,{display:"flex",alignItems:"center",height:"54px",overflow:"hidden"},o?m.createElement(h.b,{flexShrink:"0",marginRight:"40px"},m.createElement(j.a,{href:Object(k.B)(t,n)},m.createElement(f.a,{collection:t,maxWidth:300,maxHeight:36,textScale:"S",withTextColorSubtle:c}))):null,m.createElement(h.b,{flexShrink:"1",overflow:"auto"},m.createElement(O,{navItems:t.navItems,withTextColorSubtle:c})))))})),B=n("./src/components/metabar/Logo.tsx"),R=n("./src/components/metabar/MetabarActions.tsx"),A=n("./src/components/metabar/MetabarActionsLO.tsx"),D=n("./src/components/metabar/constants.ts"),N=n("./src/styles/zIndex.ts");function z(){var e=o()(["\n  fragment CollectionMetabarTop_collection on Collection {\n    slug\n    ...CollectionLogo_collection\n    ...collectionUrl_collection\n    ...MetabarActions_collection\n  }\n  ","\n  ","\n  ","\n"]);return z=function(){return e},e}var H=u()(z(),f.b,k.C,R.a),F=Object(d.c)((function(e){return{authDomain:e.config.authDomain,currentLocation:e.navigation.currentLocation}}))((function(e){var t=e.authDomain,n=e.collection,r=e.currentLocation,o=e.isAmp,a=e.post,s=e.shouldShowCollectionLogo,l=e.withMonogramDark,c=e.setIsMetabarLocked,u=e.breakpoint,d=void 0===u?L.a.sm:u;return m.createElement(h.b,{backgroundColor:"BACKGROUND"},m.createElement(h.w,null,m.createElement(h.b,g()({display:"flex",alignItems:"center",height:"".concat(D.a,"px")},i()({},d,{display:"flex",height:"".concat(D.c,"px")})),m.createElement(h.b,{display:"flex",alignItems:"center",flexGrow:"1",zIndex:N.a.metabar},m.createElement(j.a,{href:"https://".concat(t,"/"),"aria-label":"Homepage"},m.createElement(B.a,{dark:l})),s&&m.createElement(m.Fragment,null,m.createElement(h.b,g()({height:"24px",width:"1px",marginLeft:"15px",marginRight:"14px",borderLeft:"BASE_LIGHT"},i()({},d,{display:"none"}))),m.createElement(h.b,i()({},d,{display:"none"}),m.createElement(j.a,{href:Object(k.B)(n,r)},m.createElement(f.a,{collection:n,maxWidth:240,maxHeight:36,textScale:"M"}))))),m.createElement(h.b,{flexGrow:"0",zIndex:N.a.metabar},o?m.createElement(A.b,{withoutConversionButton:!0,post:a}):m.createElement(R.c,{post:a,collection:n,withoutConversionButton:!0,setIsMetabarLocked:c})))))})),U=n("./node_modules/react-loadable/lib/index.js"),X=n.n(U),W=n("./src/screens/ErrorScreen.tsx"),V=n("./src/screens/LoadingScreen.tsx");function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var q,$={delay:300,timeout:2e4,loading:function(e){return e.error?m.createElement(W.a,{error:e.error}):e.timedOut?m.createElement(W.a,{error:new Error("Loadable Screen component has timed out")}):e.pastDelay?m.createElement(V.a,null):null}},Y=X()(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},$,{loader:function(){return Promise.all([n.e(1),n.e(40),n.e(0),n.e(2),n.e(34)]).then(n.bind(null,"./src/components/collection/ShortformDialogEditor.tsx"))},modules:["src/components/collection/ShortformDialogEditor"],webpack:function(){return["./src/components/collection/ShortformDialogEditor.tsx"]},render:(q="ShortformDialogEditor",function(e,t){var n=e[q];return m.createElement(n,t)})})),K=function(e){var t=e.isVisible,n=e.hide;return m.createElement(h.j,{isVisible:t,hide:n},t&&m.createElement(Y,null))},Q=n("./src/components/metabar/MetabarLayout.tsx"),J=n("./src/components/session/RequireFlag.tsx"),Z=n("./src/components/session/WithFlag.tsx");function ee(){var e=o()(["\n  fragment CollectionMetabar_collection on Collection {\n    id\n    auroraAlphaEnabled\n    colorBehavior\n    ...CollectionMetabarTop_collection\n    ...CollectionMetabarBottom_collection\n    ...ThemeUtilTintBackground_collection\n    ...ThemeUtilAccent_collection\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return ee=function(){return e},e}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){return D.a+(e?D.b:0)}function re(e){return D.c+(e?D.b:0)}function oe(e,t){return Object(P.i)(e.colorPalette.tintBackgroundSpectrum,t)}function ae(e,t){return Object(P.c)(e.colorPalette.defaultBackgroundSpectrum,e.colorPalette.highlightSpectrum,t)}function ie(e){var t=Object(y.useTheme)(),n=e.post,r=e.collection,o=e.isAmp,a=e.isFixed,i=e.behavior,s=e.showBottomMetabar,c=void 0===s||s,u=r.navItems&&r.navItems.length>0,p=m.useState(!1),g=l()(p,2),f=g[0],b=g[1],x="ACCENT_COLOR"===r.colorBehavior;return Object(d.e)((function(e){return e.client.isNativeMedium}))?null:m.createElement(Q.a,{height:ne(u),heightSm:re(!0),isFixed:a,isLocked:f,behavior:i,marginBottom:0,marginBottomSm:0},x||u?m.createElement(h.G,{theme:ae(r,t)},m.createElement(F,{post:n,collection:r,isAmp:o,shouldShowCollectionLogo:!u||!c,withMonogramDark:!1,setIsMetabarLocked:b})):m.createElement(m.Fragment,null,m.createElement(h.G,{theme:oe(r,t)},m.createElement(h.b,{display:"block",sm:{display:"none"}},m.createElement(F,{post:n,collection:r,isAmp:o,shouldShowCollectionLogo:!0,withMonogramDark:!0,setIsMetabarLocked:b}))),m.createElement(h.G,{theme:ae(r,t)},m.createElement(h.b,{display:"none",sm:{display:"block"}},m.createElement(F,{post:n,collection:r,isAmp:o,shouldShowCollectionLogo:!1,withMonogramDark:!1,setIsMetabarLocked:b})))),m.createElement(h.G,{theme:x?ae(r,t):oe(r,t)},c&&m.createElement(T,{collection:r,withBorderTop:x,withTextColorSubtle:x})))}function se(e){var t=e.post,n=e.collection,r=e.isAmp,o=e.isFixed,a=e.behavior,s=e.shouldShowCollectionLogo,c=void 0===s||s,u=e.showBottomMetabar,p=void 0===u||u,g=Object(y.useTheme)(),f=m.useState(!1),b=l()(f,2),x=b[0],v=b[1],E=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{navItems:[]}),S=E.navItems&&E.navItems.length>0,C="ACCENT_COLOR"===n.colorBehavior,w=c||S,O=Object(d.e)((function(e){return e.client.isNativeMedium})),_=m.useState(!1),j=l()(_,2),k=j[0],P=j[1],I=m.useCallback((function(){return P(!1)}),[]);if(O)return null;var M=function(e){return{borderTop:"1px solid ".concat(e.baseColor.border.lighter),opacity:".4"}};return m.createElement(Q.a,{height:ne(S),heightSm:re(c),isFixed:o,isLocked:x,behavior:a,marginBottom:0,marginBottomSm:0,breakpoint:L.a.xs},m.createElement(h.G,{theme:C?ae(n,g):oe(n,g)},m.createElement(h.b,{backgroundColor:"BACKGROUND"},m.createElement(F,{post:t,collection:E,isAmp:r,shouldShowCollectionLogo:c&&(!S||!p),withMonogramDark:!C,setIsMetabarLocked:v,breakpoint:L.a.xs}),w&&!C?m.createElement(y.WithCx,null,(function(e){return m.createElement("div",{className:e(M)})})):null,w&&p?m.createElement(T,{collection:E,shouldShowCollectionLogo:c,withBorderTop:C,withTextColorSubtle:C,breakpoint:L.a.xs}):null,m.createElement(J.a,{name:"enable_shortform"},m.createElement(m.Fragment,null,m.createElement(h.w,null,m.createElement(h.b,{display:"flex",justifyContent:"flex-end",padding:"10px 0"},m.createElement(h.c,{onClick:function(){return P(!k)},buttonStyle:"STRONG",size:"SMALL"},"New"))),m.createElement(K,{isVisible:k,hide:I}))))))}function le(e){return m.createElement(Z.a,{name:"enable_new_pub_modules"},(function(t){return e.collection.auroraAlphaEnabled&&t?m.createElement(se,e):m.createElement(ie,e)}))}n.d(t,"b",(function(){return se})),n.d(t,"a",(function(){return le})),n.d(t,"c",(function(){return ce}));var ce=u()(ee(),H,M,P.b,P.a)},"./src/components/collection/hooks/useCollectionFavicon.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./node_modules/react/index.js"),o=n("./node_modules/react-redux/es/index.js"),a=n("./src/store/actions/metadata.ts"),i=function(e){var t=e.domain,n=e.favicon,i=Object(o.d)();r.useEffect((function(){return t&&n&&i(Object(a.b)(n.id)),function(){i(Object(a.b)(null))}}),[])}},"./src/components/collection/package/collectionIdToNameMaps.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r={"standard.dev:8080":{"62cd982de8d4":"gen","504c53fa76fb":"level",fa6fc47570d7:"onezero","1cc8061583f5":"zora"},"hatch.dm":{"9d578d280b62":"level",a5430dacbfe:"gen","920465cb4905":"onezero",c30162111b49:"zora"},"medium.com":{ae2a65f35510:"gen","88d9857e584e":"level","444d13b52878":"onezero","8ccfed20cbb2":"zora"}},o=function(e,t){return r[e][t]||"vanilla"}},"./src/components/collection/package/interim-components/CollectionFontController.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("./node_modules/react/index.js"),o=n("./node_modules/react-helmet-async/lib/index.module.js"),a=n("./node_modules/react-redux/es/index.js"),i=n("./src/components/collection/package/packageTheme.ts"),s=n("./src/util/glyph.ts"),l=Object(a.c)((function(e){var t=e.config;return{isAmp:t.isAmp,glyphUrl:t.glyphUrl}}))((function(e){var t=e.isAmp,n=e.isPostScreen,a=e.glyphUrl,l=e.pubName,c=n?i.c[l].glyphPath:i.b[l].glyphPath;return r.createElement(o.a,null,r.createElement("link",{id:"glyph_publication_link",rel:"stylesheet",type:"text/css",href:Object(s.a)({fontFamilyPath:c,glyphUrl:a,glyphFontSet:l,isAmp:t})}))}))},"./src/components/collection/package/packageTheme.ts":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n("./src/styles/colors.ts"),a={glyphPath:"/e/ggl/latin/e/ggb/latin/e/ggd/latin/e/ggmb/latin/e/rnd/latin",colors:{subtleColor:o.e,verySubtleColor:o.d,primaryBackgroundColor:"#F1F1F1",primaryTextAccentColor:"#FB524C",primaryTextMainColor:o.c,secondaryBackgroundColor:"#FB524C",secondaryTextAccentColor:o.c,secondaryTextMainColor:o.D,tertiaryBackgroundColor:o.c,tertiaryTextAccentColor:"#FB524C",tertiaryTextMainColor:o.D,quoteBackgroundColor:"#C1A160",quoteTextAccentColor:o.c,quoteTextMainColor:o.c},hrColor:"primaryTextAccentColor",headerCard:{colorCombo:{ACCENT_COLOR:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"},ACCENT_COLOR_AND_FILL_BACKGROUND:{mainColor:"tertiaryBackgroundColor",accentColor:"tertiaryTextMainColor"}},subtitle:{family:"gen-general-grotesque, sans-serif",weight:500,fontSize:{S:14,M:20,L:26},lineHeight:{S:18,M:24,L:30}},subtitleScale:{xs:"S",sm:"S",md:"S",lg:"M",xl:"L"},title:{family:"gen-general-grotesque, sans-serif",weight:600,fontSize:{XS:14,S:14,M:14,L:20,XL:26},lineHeight:{XS:18,S:18,M:18,L:24,XL:30}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"}},footer:{detail:{family:"gen-general-grotesque, sans-serif",weight:400,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16}}},standardCard:{colorCombo:{standard:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor",lighterColor:"subtleColor"}},textAlign:"left",detail:{family:"gen-general-grotesque, sans-serif",weight:400,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"gen-general-grotesque-mono, sans-serif",weight:500,fontSize:{M:14,L:14},lineHeight:{M:16,L:16}},overlineScale:{xs:"M",sm:"M",md:"M",lg:"L",xl:"L"},subtitle:{family:"gen-rando, serif",weight:400,fontSize:{S:16,M:16,L:18},lineHeight:{S:20,M:20,L:22}},subtitleScale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"L"},title:{family:"gen-general-grotesque, sans-serif",weight:600,fontSize:{XS:18,S:20,M:20,L:20,XL:22},lineHeight:{XS:22,S:24,M:24,L:24,XL:26}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginBottom:"4px"},dek:{marginBottom:"24px"},eyebrow:{marginBottom:"8px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"start",alignItems:"center"}},fullFeatureCard:{colorCombo:{fullFeature:{mainColor:"secondaryTextMainColor",accentColor:"secondaryTextAccentColor"}},textAlign:"center",detail:{family:"gen-general-grotesque, sans-serif",weight:500,fontSize:{M:14},lineHeight:{XS:16,S:16,M:16,L:16}},overline:{family:"gen-general-grotesque-mono, sans-serif",weight:500,fontSize:{M:14},lineHeight:{M:16}},title:{family:"gen-general-grotesque, sans-serif",weight:600,fontSize:{XS:28,S:28,M:28,L:28,XL:28},lineHeight:{XS:32,S:32,M:32,L:32,XL:32}},author:{marginBottom:"8px"},eyebrow:{marginBottom:"16px"},headline:{marginBottom:"16px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"center",alignItems:"center"}},halfFeatureCard:{colorCombo:{primary:{backgroundColor:"primaryBackgroundColor",mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"},secondary:{backgroundColor:"secondaryBackgroundColor",mainColor:"secondaryTextMainColor",accentColor:"secondaryTextAccentColor"},tertiary:{backgroundColor:"tertiaryBackgroundColor",mainColor:"tertiaryTextMainColor",accentColor:"tertiaryTextAccentColor"}},textAlign:"center",detail:{family:"gen-general-grotesque, sans-serif",weight:500,fontSize:{XS:14,S:14,M:14,L:15},lineHeight:{XS:16,S:16,M:16,L:18}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"gen-general-grotesque-mono, sans-serif",weight:500,fontSize:{M:14,L:15},lineHeight:{M:16,L:18}},overlineScale:{xs:"M",sm:"M",md:"M",lg:"L",xl:"L"},subtitle:{family:"gen-rando, serif",weight:400,fontSize:{S:16,M:16,L:18},lineHeight:{S:20,M:20,L:22}},subtitleScale:{xs:"S",sm:"M",md:"M",lg:"M",xl:"L"},title:{family:"gen-general-grotesque, sans-serif",weight:600,fontSize:{XS:24,S:24,M:24,L:24,XL:26},lineHeight:{XS:30,S:30,M:30,L:30,XL:32}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginBottom:"4px"},dek:{marginBottom:"24px"},eyebrow:{marginBottom:"8px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"18px",padding:"0 8px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"center",alignItems:"center"}},quoteCard:{colorCombo:{quote:{backgroundColor:"quoteBackgroundColor",mainColor:"quoteTextMainColor",accentColor:"quoteTextAccentColor"}},textAlign:"center",detail:{family:"gen-general-grotesque, sans-serif",weight:500,fontSize:{XS:14,S:14,M:15,L:15},lineHeight:{XS:16,S:16,M:18,L:18}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"gen-general-grotesque-mono, sans-serif",weight:500,fontSize:{M:14,L:15},lineHeight:{M:16,L:18}},overlineScale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},pullQuote:{family:"gen-rando, serif",weight:400,fontSize:{S:22,M:32},lineHeight:{S:28,M:40}},pullQuoteScale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"},title:{family:"gen-general-grotesque, sans-serif",weight:600,fontSize:{XS:18,S:18,M:18,L:18,XL:18},lineHeight:{XS:22,S:22,M:22,L:22,XL:22}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginTop:"8px",marginBottom:"32px"},eyebrow:{marginBottom:"16px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"center",alignItems:"center"}},shortStoryCard:{colorCombo:{standard:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor",lighterColor:"subtleColor",imageCaptionColor:"subtleColor",imageCreditColor:"verySubtleColor"}},captionCredit:{detail:{family:"gen-general-grotesque, sans-serif",weight:400,fontSize:{XS:14,S:14,M:15,L:15},lineHeight:{XS:20,S:20,M:20,L:20}}},detail:{family:"gen-general-grotesque, sans-serif",weight:400,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"gen-general-grotesque-mono, sans-serif",weight:500,fontSize:{M:14,L:14},lineHeight:{M:16,L:16}},overlineScale:{xs:"M",sm:"M",md:"M",lg:"L",xl:"L"},subtitle:{family:"gen-rando, serif",weight:400,fontSize:{S:18,M:18,L:18},lineHeight:{S:22,M:22,L:22}},subtitleScale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"L"},title:{family:"gen-general-grotesque, sans-serif",weight:600,fontSize:{XS:24,S:24,M:24,L:24,XL:26},lineHeight:{XS:30,S:30,M:30,L:30,XL:32}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginBottom:"4px"},dek:{marginBottom:"24px"},eyebrow:{marginBottom:"8px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"start",alignItems:"center"}}},i={glyphPath:"/e/gr/latin/e/gnm/latin",colors:{subtleColor:o.e,verySubtleColor:o.d,primaryBackgroundColor:o.D,primaryTextAccentColor:"#46908F",primaryTextMainColor:"#2E2A27",secondaryBackgroundColor:"#192545",secondaryTextAccentColor:"#D49BE8",secondaryTextMainColor:"#E5E6E1",tertiaryBackgroundColor:"#2E2A27",tertiaryTextAccentColor:"#F0BA40",tertiaryTextMainColor:"#E5E6E1",quoteBackgroundColor:"#E5E6E1",quoteTextAccentColor:"#2E2A27",quoteTextMainColor:"#2E2A27"},hrColor:"primaryTextAccentColor",headerCard:{colorCombo:{ACCENT_COLOR:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"},ACCENT_COLOR_AND_FILL_BACKGROUND:{mainColor:"secondaryTextMainColor",accentColor:"tertiaryTextAccentColor"}},subtitle:{family:"level-ginto-nord, sans-serif",weight:500,fontSize:{S:12,M:14,L:18},lineHeight:{S:16,M:18,L:22}},subtitleScale:{xs:"S",sm:"S",md:"S",lg:"M",xl:"L"},title:{family:"level-ginto-nord, sans-serif",weight:500,fontSize:{XS:12,S:12,M:12,L:14,XL:18},lineHeight:{XS:16,S:16,M:16,L:18,XL:22}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"}},footer:{detail:{family:"level-ginto, sans-serif",weight:400,fontSize:{XS:15,S:15,M:15,L:15},lineHeight:{XS:18,S:18,M:18,L:18}}},standardCard:{colorCombo:{standard:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor",lighterColor:"subtleColor"}},textAlign:"left",detail:{family:"level-ginto, sans-serif",weight:400,fontSize:{XS:15,S:15,M:15,L:15},lineHeight:{XS:18,S:18,M:18,L:18}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"level-ginto-nord, sans-serif",weight:500,fontSize:{M:15,L:15},lineHeight:{M:18,L:18}},overlineScale:{xs:"M",sm:"M",md:"M",lg:"L",xl:"L"},subtitle:{family:"level-ginto, sans-serif",weight:400,fontSize:{S:17,M:17,L:17},lineHeight:{S:22,M:22,L:22}},subtitleScale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"L"},title:{family:"level-ginto-nord, serif",weight:500,fontSize:{XS:18,S:18,M:20,L:20,XL:22},letterSpacing:-.2,lineHeight:{XS:22,S:22,M:24,L:24,XL:26}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginBottom:"4px"},dek:{marginBottom:"24px"},eyebrow:{marginBottom:"8px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"start",alignItems:"center"}},fullFeatureCard:{colorCombo:{fullFeature:{mainColor:"secondaryTextMainColor",accentColor:"secondaryTextAccentColor"}},textAlign:"center",detail:{family:"level-ginto, sans-serif",weight:400,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16}},overline:{family:"level-ginto-nord, sans-serif",weight:500,fontSize:{M:14},lineHeight:{M:16}},title:{family:"level-ginto-nord, serif",weight:500,fontSize:{XS:30,S:30,M:30,L:30,XL:30},letterSpacing:-.2,lineHeight:{XS:34,S:34,M:34,L:34,XL:34}},author:{marginBottom:"8px"},eyebrow:{marginBottom:"16px"},headline:{marginBottom:"24px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"center",alignItems:"center"}},halfFeatureCard:{colorCombo:{primary:{backgroundColor:"primaryBackgroundColor",mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"},secondary:{backgroundColor:"secondaryBackgroundColor",mainColor:"secondaryTextMainColor",accentColor:"secondaryTextAccentColor"},tertiary:{backgroundColor:"tertiaryBackgroundColor",mainColor:"tertiaryTextMainColor",accentColor:"tertiaryTextAccentColor"}},textAlign:"center",detail:{family:"level-ginto, sans-serif",weight:400,fontSize:{XS:16,S:16,M:16,L:16},lineHeight:{XS:18,S:18,M:18,L:18}},detailScale:{xs:"xs",sm:"s",md:"m",lg:"m",xl:"L"},overline:{family:"level-ginto-nord, sans-serif",weight:500,fontSize:{M:15,L:15},lineHeight:{M:18,L:18}},overlineScale:{xs:"M",sm:"M",md:"M",lg:"M",xl:"L"},subtitle:{family:"level-ginto, sans-serif",weight:400,fontSize:{S:17,M:17,L:19},lineHeight:{S:22,M:22,L:24}},subtitleScale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"L"},title:{family:"level-ginto-nord, serif",weight:500,fontSize:{XS:22,S:22,M:24,L:24,XL:24},letterSpacing:-.2,lineHeight:{XS:28,S:28,M:30,L:30,XL:30}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginBottom:"4px"},dek:{marginBottom:"24px"},eyebrow:{marginBottom:"8px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"center",alignItems:"center"}},quoteCard:{colorCombo:{quote:{backgroundColor:"quoteBackgroundColor",mainColor:"quoteTextMainColor",accentColor:"quoteTextAccentColor"}},textAlign:"left",detail:{family:"level-ginto, sans-serif",weight:400,fontSize:{XS:15,S:15,M:15,L:15},lineHeight:{XS:18,S:18,M:18,L:18}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"level-ginto-nord, sans-serif",weight:500,fontSize:{M:15,L:15},lineHeight:{M:18,L:18}},overlineScale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},pullQuote:{family:"level-ginto-nord, sans-serif",weight:500,fontSize:{S:22,M:24},lineHeight:{S:26,M:30}},pullQuoteScale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"},title:{family:"level-ginto-nord, serif",weight:500,fontSize:{XS:19,S:19,M:19,L:19,XL:19},letterSpacing:-.2,lineHeight:{XS:24,S:24,M:24,L:24,XL:24}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginTop:"16px",marginBottom:"40px"},eyebrow:{marginBottom:"16px"},hangingQuote:{left:"-18px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"start",alignItems:"center"}},shortStoryCard:{colorCombo:{standard:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor",lighterColor:"subtleColor",imageCaptionColor:"subtleColor",imageCreditColor:"verySubtleColor"}},textAlign:"left",captionCredit:{detail:{family:"level-ginto, sans-serif",weight:400,fontSize:{XS:15,S:15,M:15,L:15},lineHeight:{XS:18,S:18,M:18,L:18}}},detail:{family:"level-ginto, sans-serif",weight:400,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"level-ginto-nord, sans-serif",weight:500,fontSize:{M:15,L:15},lineHeight:{M:18,L:18}},overlineScale:{xs:"M",sm:"M",md:"M",lg:"L",xl:"L"},subtitle:{family:"level-ginto, sans-serif",weight:400,fontSize:{S:17,M:17,L:19},lineHeight:{S:22,M:22,L:24}},subtitleScale:{xs:"S",sm:"S",md:"M",lg:"L",xl:"L"},title:{family:"level-ginto-nord, serif",weight:500,fontSize:{XS:24,S:24,M:24,L:30,XL:30},letterSpacing:-.2,lineHeight:{XS:30,S:30,M:30,L:38,XL:38}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginBottom:"4px"},dek:{marginBottom:"24px"},eyebrow:{marginBottom:"8px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"start",alignItems:"center"}}},s={glyphPath:"/e/yr/latin/e/ym/latin/e/yam/latin",colors:{subtleColor:o.e,verySubtleColor:o.d,primaryBackgroundColor:"#E5E9F2",primaryTextAccentColor:"#6A0BFF",primaryTextMainColor:o.c,secondaryBackgroundColor:"#6A0BFF",secondaryTextAccentColor:"#DAF832",secondaryTextMainColor:o.D,tertiaryBackgroundColor:o.D,tertiaryTextAccentColor:"#6A0BFF",tertiaryTextMainColor:o.c,quoteBackgroundColor:"#DAF832",quoteTextAccentColor:o.c,quoteTextMainColor:o.c},hrColor:"secondaryBackgroundColor",headerCard:{colorCombo:{ACCENT_COLOR:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"},ACCENT_COLOR_AND_FILL_BACKGROUND:{mainColor:"secondaryTextMainColor",accentColor:"secondaryTextAccentColor"}},subtitle:{family:"onezero-yellix-alt, sans-serif",weight:500,fontSize:{S:14,M:14,L:20},lineHeight:{S:18,M:18,L:24}},subtitleScale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"L"},title:{family:"onezero-yellix-alt, sans-serif",weight:500,fontSize:{XS:14,S:14,M:14,L:14,XL:20},lineHeight:{XS:18,S:18,M:18,L:18,XL:24}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"}},footer:{detail:{family:"onezero-yellix, sans-serif",weight:500,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16}}},standardCard:{colorCombo:{standard:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor",lighterColor:"subtleColor"}},textAlign:"left",detail:{family:"onezero-yellix, sans-serif",weight:500,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"onezero-yellix, sans-serif",weight:500,fontSize:{M:14,L:14},lineHeight:{M:16,L:16}},overlineScale:{xs:"M",sm:"M",md:"M",lg:"L",xl:"L"},subtitle:{family:"onezero-yellix, sans-serif",weight:400,fontSize:{S:16,M:16,L:18},lineHeight:{S:20,M:20,L:22}},subtitleScale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"L"},title:{family:"onezero-yellix-alt, sans-serif",weight:500,fontSize:{XS:18,S:18,M:20,L:20,XL:22},lineHeight:{XS:22,S:22,M:24,L:24,XL:26}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginBottom:"4px"},dek:{marginBottom:"24px"},eyebrow:{marginBottom:"8px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"start",alignItems:"center"}},fullFeatureCard:{colorCombo:{fullFeature:{mainColor:"secondaryTextMainColor",accentColor:"secondaryTextAccentColor"}},textAlign:"center",detail:{family:"onezero-yellix, sans-serif",weight:500,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16}},overline:{family:"onezero-yellix, sans-serif",weight:500,fontSize:{M:14},lineHeight:{M:16}},title:{family:"onezero-yellix-alt, sans-serif",weight:500,fontSize:{XS:30,S:30,M:30,L:30,XL:30},lineHeight:{XS:34,S:34,M:34,L:34,XL:34}},author:{marginBottom:"8px"},eyebrow:{marginBottom:"16px"},headline:{marginBottom:"24px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"center",alignItems:"center"}},halfFeatureCard:{colorCombo:{primary:{backgroundColor:"primaryBackgroundColor",mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"},secondary:{backgroundColor:"secondaryBackgroundColor",mainColor:"secondaryTextMainColor",accentColor:"secondaryTextAccentColor"},tertiary:{backgroundColor:"tertiaryBackgroundColor",mainColor:"tertiaryTextMainColor",accentColor:"tertiaryTextAccentColor"}},textAlign:"center",detail:{family:"onezero-yellix, sans-serif",weight:500,fontSize:{XS:14,S:14,M:14,L:15},lineHeight:{XS:16,S:16,M:16,L:18}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"M",xl:"L"},overline:{family:"onezero-yellix, sans-serif",weight:500,fontSize:{M:14,L:15},lineHeight:{M:16,L:18}},overlineScale:{xs:"M",sm:"M",md:"M",lg:"M",xl:"L"},subtitle:{family:"onezero-yellix, sans-serif",weight:400,fontSize:{S:16,M:16,L:18},lineHeight:{S:20,M:20,L:22}},subtitleScale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"L"},title:{family:"onezero-yellix-alt, sans-serif",weight:500,fontSize:{XS:26,S:26,M:26,L:26,XL:30},lineHeight:{XS:32,S:32,M:32,L:32,XL:38}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginBottom:"4px"},dek:{marginBottom:"24px"},eyebrow:{marginBottom:"8px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"center",alignItems:"center"}},quoteCard:{colorCombo:{quote:{backgroundColor:"quoteBackgroundColor",mainColor:"quoteTextMainColor",accentColor:"quoteTextAccentColor"}},textAlign:"left",detail:{family:"onezero-yellix, sans-serif",weight:500,fontSize:{XS:14,S:14,M:15,L:15},lineHeight:{XS:16,S:16,M:18,L:18}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"onezero-yellix, sans-serif",weight:500,fontSize:{M:14,L:15},lineHeight:{M:16,L:18}},overlineScale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},pullQuote:{family:"onezero-yellix-alt, sans-serif",weight:500,fontSize:{S:22,M:30},lineHeight:{S:28,M:38}},pullQuoteScale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"},title:{family:"onezero-yellix-alt, sans-serif",weight:500,fontSize:{XS:18,S:18,M:18,L:18,XL:18},lineHeight:{XS:22,S:22,M:22,L:22,XL:22}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginTop:"16px",marginBottom:"40px"},eyebrow:{marginBottom:"16px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"start",alignItems:"center"}},shortStoryCard:{colorCombo:{standard:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor",lighterColor:"subtleColor",imageCaptionColor:"subtleColor",imageCreditColor:"verySubtleColor"}},textAlign:"left",captionCredit:{detail:{family:"onezero-yellix, sans-serif",weight:500,fontSize:{XS:14,S:14,M:15,L:15},lineHeight:{XS:20,S:20,M:20,L:20}}},detail:{family:"onezero-yellix, sans-serif",weight:500,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"onezero-yellix, sans-serif",weight:500,fontSize:{M:14,L:14},lineHeight:{M:16,L:16}},overlineScale:{xs:"M",sm:"M",md:"M",lg:"L",xl:"L"},subtitle:{family:"onezero-yellix, sans-serif",weight:400,fontSize:{S:18,M:18,L:18},lineHeight:{S:22,M:22,L:22}},subtitleScale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"L"},title:{family:"onezero-yellix-alt, sans-serif",weight:500,fontSize:{XS:26,S:26,M:26,L:26,XL:30},lineHeight:{XS:32,S:32,M:32,L:32,XL:38}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginBottom:"4px"},dek:{marginBottom:"24px"},eyebrow:{marginBottom:"8px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"start",alignItems:"center"}}},l=n("./src/components/collection/package/themes/vanilla.ts"),c={glyphPath:"/e/zsr/latin/e/zsb/latin/e/tb/latin",colors:{subtleColor:o.e,verySubtleColor:o.d,primaryBackgroundColor:"#F8E2E7",primaryTextAccentColor:"#960564",primaryTextMainColor:o.c,secondaryBackgroundColor:"#650343",secondaryTextAccentColor:"#FACC3D",secondaryTextMainColor:o.D,tertiaryBackgroundColor:o.D,tertiaryTextAccentColor:"#960564",tertiaryTextMainColor:o.c,quoteBackgroundColor:"#FACC3D",quoteTextAccentColor:"#650343",quoteTextMainColor:"#650343"},hrColor:"secondaryBackgroundColor",headerCard:{colorCombo:{ACCENT_COLOR:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"},ACCENT_COLOR_AND_FILL_BACKGROUND:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"}},subtitle:{family:"zora-sohne, sans-serif",weight:400,fontSize:{S:14,M:14,L:20},lineHeight:{S:18,M:18,L:24}},subtitleScale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"L"},title:{family:"zora-sohne, sans-serif",weight:500,fontSize:{XS:14,S:14,M:14,L:14,XL:20},lineHeight:{XS:18,S:18,M:18,L:18,XL:24}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"}},footer:{detail:{family:"zora-sohne, sans-serif",weight:500,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16}}},standardCard:{colorCombo:{standard:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor",lighterColor:"subtleColor"}},textAlign:"left",detail:{family:"zora-sohne, sans-serif",weight:500,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"zora-sohne, sans-serif",weight:500,fontSize:{M:14,L:14},lineHeight:{M:16,L:16}},overlineScale:{xs:"M",sm:"M",md:"M",lg:"L",xl:"L"},subtitle:{family:"zora-sohne, sans-serif",weight:400,fontSize:{S:16,M:18,L:20},lineHeight:{S:20,M:22,L:24}},subtitleScale:{xs:"S",sm:"M",md:"M",lg:"M",xl:"L"},title:{family:"zora-topol, sans-serif",weight:700,fontSize:{XS:20,S:22,M:22,L:22,XL:24},letterSpacing:-.5,lineHeight:{XS:24,S:26,M:26,L:26,XL:28}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginBottom:"4px"},dek:{marginBottom:"24px"},eyebrow:{marginBottom:"8px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"start",alignItems:"center"}},fullFeatureCard:{colorCombo:{fullFeature:{mainColor:"secondaryTextMainColor",accentColor:"secondaryTextMainColor"}},textAlign:"center",detail:{family:"zora-sohne, sans-serif",weight:500,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16}},overline:{family:"zora-sohne, sans-serif",weight:500,fontSize:{M:14},lineHeight:{M:16}},title:{family:"zora-topol, sans-serif",weight:700,fontSize:{XS:30,S:30,M:30,L:30,XL:30},letterSpacing:-.5,lineHeight:{XS:34,S:34,M:34,L:34,XL:34}},author:{marginBottom:"8px"},eyebrow:{marginBottom:"16px"},headline:{marginBottom:"24px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"center",alignItems:"center"}},halfFeatureCard:{colorCombo:{primary:{backgroundColor:"primaryBackgroundColor",mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"},secondary:{backgroundColor:"secondaryBackgroundColor",mainColor:"secondaryTextMainColor",accentColor:"secondaryTextAccentColor"},tertiary:{backgroundColor:"tertiaryBackgroundColor",mainColor:"tertiaryTextMainColor",accentColor:"tertiaryTextAccentColor"}},textAlign:"left",detail:{family:"zora-sohne, sans-serif",weight:500,fontSize:{XS:14,S:14,M:14,L:15},lineHeight:{XS:16,S:16,M:16,L:18}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"zora-sohne, sans-serif",weight:500,fontSize:{M:14,L:15},lineHeight:{M:16,L:18}},overlineScale:{xs:"M",sm:"M",md:"M",lg:"L",xl:"L"},subtitle:{family:"zora-sohne, sans-serif",weight:400,fontSize:{S:18,M:18,L:20},lineHeight:{S:22,M:22,L:24}},subtitleScale:{xs:"S",sm:"S",md:"M",lg:"L",xl:"L"},title:{family:"zora-topol, sans-serif",weight:700,fontSize:{XS:26,S:26,M:26,L:28,XL:28},letterSpacing:-.5,lineHeight:{XS:30,S:30,M:30,L:32,XL:32}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginBottom:"4px"},dek:{marginBottom:"24px"},eyebrow:{marginBottom:"8px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"center",alignItems:"center"}},quoteCard:{colorCombo:{quote:{backgroundColor:"quoteBackgroundColor",mainColor:"quoteTextMainColor",accentColor:"quoteTextAccentColor"}},textAlign:"left",detail:{family:"zora-sohne, sans-serif",weight:500,fontSize:{XS:14,S:14,M:15,L:15},lineHeight:{XS:16,S:16,M:18,L:18}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"zora-sohne, sans-serif",weight:500,fontSize:{M:14,L:15},lineHeight:{M:16,L:18}},overlineScale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},pullQuote:{family:"zora-sohne, sans-serif",weight:400,fontSize:{S:24,M:32},lineHeight:{S:30,M:40}},pullQuoteScale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"},title:{family:"zora-topol, sans-serif",weight:700,fontSize:{XS:20,S:20,M:20,L:20,XL:20},letterSpacing:-.5,lineHeight:{XS:24,S:24,M:24,L:24,XL:24}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginTop:"8px",marginBottom:"40px"},eyebrow:{marginBottom:"16px"},headline:{marginBottom:"6px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"start",alignItems:"center"}},shortStoryCard:{colorCombo:{standard:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor",lighterColor:"subtleColor",imageCaptionColor:"subtleColor",imageCreditColor:"verySubtleColor"}},textAlign:"left",captionCredit:{detail:{family:"zora-sohne, sans-serif",weight:500,fontSize:{XS:14,S:14,M:15,L:15},lineHeight:{XS:20,S:20,M:20,L:20}}},detail:{family:"zora-sohne, sans-serif",weight:500,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"zora-sohne, sans-serif",weight:500,fontSize:{M:14,L:14},lineHeight:{M:16,L:16}},overlineScale:{xs:"M",sm:"M",md:"M",lg:"L",xl:"L"},subtitle:{family:"zora-sohne, sans-serif",weight:400,fontSize:{S:18,M:20,L:20},lineHeight:{S:22,M:24,L:24}},subtitleScale:{xs:"S",sm:"M",md:"M",lg:"M",xl:"L"},title:{family:"zora-topol, sans-serif",weight:700,fontSize:{XS:26,S:26,M:26,L:26,XL:28},letterSpacing:-.5,lineHeight:{XS:30,S:30,M:30,L:30,XL:32}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginBottom:"4px"},dek:{marginBottom:"24px"},eyebrow:{marginBottom:"8px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"start",alignItems:"center"}}};n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return p}));var u={gen:a,level:i,onezero:s,vanilla:l.b,zora:c},m={gen:{glyphPath:"/e/ggd/latin/e/ggmb/latin/e/rnd/latin",newFonts:{overline:{family:"gen-general-grotesque-mono, sans-serif",weight:500,fontSize:{M:14,L:15},lineHeight:{M:16,L:18}},subtitle:{family:"gen-rando, serif",weight:400,fontSize:{S:18,M:18,L:20},lineHeight:{S:24,M:24,L:28}},title:{family:"gen-general-grotesque, sans-serif",weight:600,fontSize:{XS:28,S:28,M:36,L:36,XL:36},lineHeight:{XS:32,S:32,M:42,L:42,XL:42}}}},level:{glyphPath:"/e/gr/latin/e/gnm/latin",newFonts:{overline:{family:"level-ginto-nord, sans-serif",weight:500,fontSize:{M:14,L:15},lineHeight:{M:16,L:18}},subtitle:{family:"level-ginto, sans-serif",weight:400,fontSize:{S:17,M:17,L:19},lineHeight:{S:22,M:22,L:24}},title:{family:"level-ginto-nord, serif",weight:500,fontSize:{XS:26,S:26,M:34,L:34,XL:34},letterSpacing:-.2,lineHeight:{XS:34,S:34,M:42,L:42,XL:42}}}},onezero:{glyphPath:"/e/yr/latin/e/ym/latin/e/yam/latin",newFonts:{overline:{family:"onezero-yellix, sans-serif",weight:500,fontSize:{M:14,L:15},lineHeight:{M:16,L:18}},subtitle:{family:"onezero-yellix, sans-serif",weight:400,fontSize:{S:16,M:16,L:20},lineHeight:{S:22,M:22,L:26}},title:{family:"onezero-yellix-alt, sans-serif",weight:500,fontSize:{XS:28,S:28,M:36,L:36,XL:36},lineHeight:{XS:34,S:34,M:42,L:42,XL:42}}}},vanilla:l.a,zora:{glyphPath:"/e/zsr/latin/e/zsb/latin/e/tb/latin",newFonts:{overline:{family:"zora-sohne, sans-serif",weight:500,fontSize:{M:14,L:15},lineHeight:{M:16,L:18}},subtitle:{family:"zora-sohne, sans-serif",weight:400,fontSize:{S:16,M:16,L:18},lineHeight:{S:22,M:22,L:26}},title:{family:"zora-topol, sans-serif",weight:700,fontSize:{XS:30,S:30,M:40,L:40,XL:40},letterSpacing:-.5,lineHeight:{XS:34,S:34,M:44,L:44,XL:44}}}}},d=r.createContext(null),p=function(){return r.useContext(d)}},"./src/components/collection/package/themes/vanilla.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n("./src/styles/colors.ts"),o={glyphPath:"/e/vfr/latin/e/vsb/latin",colors:{subtleColor:r.e,verySubtleColor:r.d,primaryBackgroundColor:"#F2F2F2",primaryTextAccentColor:"#03A87C",primaryTextMainColor:r.c,secondaryBackgroundColor:r.D,secondaryTextAccentColor:"#03A87C",secondaryTextMainColor:r.c,tertiaryBackgroundColor:r.D,tertiaryTextAccentColor:"#03A87C",tertiaryTextMainColor:r.c,quoteBackgroundColor:"#F2F2F2",quoteTextAccentColor:"#03A87C",quoteTextMainColor:r.c},hrColor:"primaryTextMainColor",headerCard:{colorCombo:{ACCENT_COLOR:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"},ACCENT_COLOR_AND_FILL_BACKGROUND:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"}},subtitle:{family:"vanilla-sohne, sans-serif",weight:400,fontSize:{S:14,M:18,L:20},lineHeight:{S:18,M:24,L:26},cropTop:0,cropBottom:0},subtitleScale:{xs:"S",sm:"S",md:"M",lg:"L",xl:"L"},title:{family:"vanilla-fell, serif",weight:400,fontSize:{XS:14,S:14,M:18,L:20,XL:20},lineHeight:{XS:18,S:18,M:24,L:26,XL:26},cropTop:0,cropBottom:0},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"}},footer:{detail:{family:"vanilla-sohne, sans-serif",weight:400,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16}}},standardCard:{colorCombo:{standard:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor",lighterColor:"subtleColor"}},textAlign:"left",detail:{family:"vanilla-sohne, sans-serif",weight:400,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"vanilla-sohne, sans-serif",weight:400,fontSize:{M:14,L:14},lineHeight:{M:16,L:16}},overlineScale:{xs:"M",sm:"M",md:"M",lg:"L",xl:"L"},subtitle:{family:"vanilla-sohne, sans-serif",weight:400,fontSize:{S:16,M:16,L:16},lineHeight:{S:22,M:22,L:22}},subtitleScale:{xs:"S",sm:"M",md:"M",lg:"M",xl:"L"},title:{family:"vanilla-fell, serif",weight:400,fontSize:{XS:22,S:22,M:22,L:26,XL:26},lineHeight:{XS:28,S:28,M:28,L:32,XL:32}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginBottom:"4px"},dek:{marginBottom:"24px"},eyebrow:{marginBottom:"8px"},headline:{marginBottom:"4px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"start",alignItems:"center"}},halfFeatureCard:{colorCombo:{primary:{backgroundColor:"primaryBackgroundColor",mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"},secondary:{backgroundColor:"primaryBackgroundColor",mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"},tertiary:{backgroundColor:"primaryBackgroundColor",mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor"}},textAlign:"left",detail:{family:"vanilla-sohne, sans-serif",weight:400,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"vanilla-sohne, sans-serif",weight:400,fontSize:{M:14,L:14},lineHeight:{M:16,L:16}},overlineScale:{xs:"M",sm:"M",md:"M",lg:"L",xl:"L"},subtitle:{family:"vanilla-sohne, sans-serif",weight:400,fontSize:{S:16,M:16,L:16},lineHeight:{S:22,M:22,L:22}},subtitleScale:{xs:"S",sm:"S",md:"M",lg:"L",xl:"L"},title:{family:"vanilla-fell, serif",weight:400,fontSize:{XS:26,S:26,M:26,L:30,XL:30},lineHeight:{XS:32,S:32,M:32,L:36,XL:36}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginBottom:"4px"},dek:{marginBottom:"24px"},eyebrow:{marginBottom:"8px"},headline:{marginBottom:"4px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"center",alignItems:"center"}},quoteCard:{colorCombo:{quote:{backgroundColor:"quoteBackgroundColor",mainColor:"quoteTextMainColor",accentColor:"quoteTextAccentColor"}},textAlign:"left",detail:{family:"vanilla-sohne, sans-serif",weight:400,fontSize:{XS:14,S:14,M:15,L:15},lineHeight:{XS:16,S:16,M:18,L:18}},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"vanilla-sohne, sans-serif",weight:400,fontSize:{M:14,L:15},lineHeight:{M:16,L:18}},overlineScale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},pullQuote:{family:"vanilla-sohne, sans-serif",weight:400,fontSize:{S:24,M:32},lineHeight:{S:30,M:40}},pullQuoteScale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"},title:{family:"vanilla-fell, serif",weight:400,fontSize:{XS:20,S:20,M:20,L:20,XL:20},lineHeight:{XS:24,S:24,M:24,L:24,XL:24}},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginTop:"8px",marginBottom:"40px"},eyebrow:{marginBottom:"16px"},headline:{marginBottom:"6px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"start",alignItems:"center"}},shortStoryCard:{colorCombo:{standard:{mainColor:"primaryTextMainColor",accentColor:"primaryTextAccentColor",lighterColor:"subtleColor",imageCaptionColor:"subtleColor",imageCreditColor:"verySubtleColor"}},textAlign:"left",captionCredit:{detail:{family:"vanilla-sohne, sans-serif",weight:400,fontSize:{XS:14,S:14,M:15,L:15},lineHeight:{XS:20,S:20,M:20,L:20}}},detail:{family:"vanilla-sohne, sans-serif",weight:400,fontSize:{XS:14,S:14,M:14,L:14},lineHeight:{XS:16,S:16,M:16,L:16},cropTop:0,cropBottom:0},detailScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"L"},overline:{family:"vanilla-sohne, sans-serif",weight:400,fontSize:{M:14,L:14},lineHeight:{M:16,L:16},cropTop:0,cropBottom:0},overlineScale:{xs:"M",sm:"M",md:"M",lg:"L",xl:"L"},subtitle:{family:"vanilla-sohne, sans-serif",weight:400,fontSize:{S:18,M:20,L:20},lineHeight:{S:22,M:24,L:24},cropBottom:0,cropTop:0},subtitleScale:{xs:"S",sm:"M",md:"M",lg:"M",xl:"L"},title:{family:"vanilla-fell, serif",weight:400,fontSize:{XS:26,S:26,M:26,L:26,XL:28},lineHeight:{XS:30,S:30,M:30,L:30,XL:32},cropBottom:0,cropTop:0},titleScale:{xs:"XS",sm:"S",md:"M",lg:"L",xl:"XL"},author:{marginBottom:"4px"},dek:{marginBottom:"24px"},eyebrow:{marginBottom:"8px"},headline:{marginBottom:"8px"},separator:{fontSize:"38px",lineHeight:"14px",padding:"0 6px",separatorCharacter:"·"},timeFlexStyles:{justifyContent:"start",alignItems:"center"}}},a={newFonts:{}}},"./src/components/collection/theming/CustomThemeWrapper.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./node_modules/react/index.js"),o=n("./src/components/session/useFlag.tsx"),a=n("./src/framework/style/index.ts"),i=function(e){var t=e.children,n=e.rule,i=e.styles,s=Object(a.useCx)();return Object(o.a)("enable_theme_editor")?r.createElement("div",{className:s([n,i])},t):r.createElement(r.Fragment,null,t)}},"./src/components/collection/theming/customTheme.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return g}));var r,o,a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(a);n("./src/util/richText.ts");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.BackgroundColor="backgroundColor",e.Border="border",e.BorderColor="borderColor",e.BorderStyle="borderStyle",e.BorderWidth="borderWidth",e.BorderBottom="borderBottom",e.BorderBottomColor="borderBottomColor",e.BorderBottomLeftRadius="borderBottomLeftRadius",e.BorderBottomRightRadius="borderBottomRightRadius",e.BorderBottomStyle="borderBottomStyle",e.BorderBottomWidth="borderBottomWidth",e.BorderLeft="borderLeft",e.BorderLeftColor="borderLeftColor",e.BorderLeftStyle="borderLeftStyle",e.BorderLeftWidth="borderLeftWidth",e.BorderRadius="borderRadius",e.BorderRight="borderRight",e.BorderRightColor="borderRightColor",e.BorderRightStyle="borderRightStyle",e.BorderRightWidth="borderRightWidth",e.BorderTop="borderTop",e.BorderTopColor="borderTopColor",e.BorderTopLeftRadius="borderTopLeftRadius",e.BorderTopRightRadius="borderTopRightRadius",e.BorderTopStyle="borderTopStyle",e.BorderTopWidth="borderTopWidth"}(r||(r={})),function(e){e.postPageTitle="postPage.typography.title",e.postPageSubtitle="postPage.typography.subtitle",e.postPagePullQuote="postPage.typography.pullQuote",e.homepageTitle="collectionHomepage.homepage.typography.title",e.homepageSubtitle="collectionHomepage.homepage.typography.subtitle",e.homepagePullQuote="collectionHomepage.homepage.typography.pullQuote",e.shortStoryTitle="collectionHomepage.shortStoryCard.typography.title",e.shortStorySubtitle="collectionHomepage.shortStoryCard.typography.subtitle",e.shortStoryPullQuote="collectionHomepage.shortStoryCard.typography.pullQuote",e.standardCardTitle="collectionHomepage.standardCard.typography.title",e.standardCardSubtitle="collectionHomepage.standardCard.typography.subtitle",e.standardCardPullQuote="collectionHomepage.standardCard.typography.pullQuote"}(o||(o={}));var c={global:null,collectionHomepage:{homepage:{containers:{homepageScreen:{},headerCard:{}},typography:{}},shortStoryCard:{containers:{postBody:{},paragraphs:{},paragraphGroups:{}},typography:{}},standardCard:{containers:{card:{}},typography:{}}},postPage:{containers:{postBody:{},paragraphs:{},paragraphGroups:{}},typography:{}}},u=function(e){var t=JSON.parse(e);return function(e){if(!e.postPage)throw new Error("Custom theme does not contain `postPage` property.");if(!e.postPage.typography)throw new Error("Custom theme does not contain `typography` property.");e.postPage.typography.title&&m(e.postPage.typography.title,o.postPageTitle),e.postPage.typography.subtitle&&m(e.postPage.typography.subtitle,o.postPageSubtitle),e.postPage.typography.pullQuote&&m(e.postPage.typography,o.postPagePullQuote);if(!e.postPage.containers)throw new Error("Custom theme does not contain `containers` property.");if(!e.postPage.containers.postBody)throw new Error("Custom theme does not contain `postBody` property.");if(!e.postPage.containers.paragraphs)throw new Error("Custom theme does not contain `paragraphs` property.");if(!e.postPage.containers.paragraphGroups)throw new Error("Custom theme does not contain `paragraphGroups` property.");if(!e.collectionHomepage)throw new Error("Custom theme does not contain `collectionHomepage` property");if(!e.collectionHomepage.homepage)throw new Error("Custom theme does not contain `collectionHomepage.homepage` property");if(!e.collectionHomepage.homepage.containers)throw new Error("Custom theme does not contain `collectionHomepage.homepage.containers` property");if(!e.collectionHomepage.homepage.containers.homepageScreen)throw new Error("Custom theme does not contain `collectionHomepage.homepage.containers.homepageScreen` property");if(!e.collectionHomepage.homepage.containers.headerCard)throw new Error("Custom theme does not contain `collectionHomepage.homepage.containers.headerCard` property");if(!e.collectionHomepage.homepage.typography)throw new Error("Custom theme does not contain `collectionHomepage.homepage.typography` property");e.collectionHomepage.homepage.typography.title&&m(e.collectionHomepage.homepage.typography.title,o.homepageTitle),e.collectionHomepage.homepage.typography.subtitle&&m(e.collectionHomepage.homepage.typography.subtitle,o.homepageSubtitle),e.collectionHomepage.homepage.typography.pullQuote&&m(e.collectionHomepage.homepage.typography.pullQuote,o.homepagePullQuote);if(!e.collectionHomepage.shortStoryCard)throw new Error("Custom theme does not contain `collectionHomepage.shortStoryCard` property");if(!e.collectionHomepage.shortStoryCard.containers)throw new Error("Custom theme does not contain `collectionHomepage.shortStoryCard.containers` property");if(!e.collectionHomepage.shortStoryCard.containers.postBody)throw new Error("Custom theme does not contain `collectionHomepage.shortStoryCard.containers.postBody` property");if(!e.collectionHomepage.shortStoryCard.containers.paragraphs)throw new Error("Custom theme does not contain `collectionHomepage.shortStoryCard.containers.paragraphs` property");if(!e.collectionHomepage.shortStoryCard.containers.paragraphGroups)throw new Error("Custom theme does not contain `collectionHomepage.shortStoryCard.containers.paragraphGroups` property");if(!e.collectionHomepage.shortStoryCard.typography)throw new Error("Custom theme does not contain `collectionHomepage.shortStoryCard.typography` property");e.collectionHomepage.shortStoryCard.typography.title&&m(e.collectionHomepage.shortStoryCard.typography.title,o.shortStoryTitle),e.collectionHomepage.shortStoryCard.typography.subtitle&&m(e.collectionHomepage.shortStoryCard.typography.subtitle,o.shortStorySubtitle),e.collectionHomepage.shortStoryCard.typography.pullQuote&&m(e.collectionHomepage.shortStoryCard.typography.pullQuote,o.shortStoryPullQuote);if(!e.collectionHomepage.standardCard)throw new Error("Custom theme does not contain `collectionHomepage.standardCard` property");if(!e.collectionHomepage.standardCard.containers)throw new Error("Custom theme does not contain `collectionHomepage.standardCard.containers` property");if(!e.collectionHomepage.standardCard.containers.card)throw new Error("Custom theme does not contain `collectionHomepage.standardCard.containers.card` property");if(!e.collectionHomepage.standardCard.typography)throw new Error("Custom theme does not contain `collectionHomepage.standardCard.typography` property");e.collectionHomepage.standardCard.typography.title&&m(e.collectionHomepage.standardCard.typography.title,o.standardCardTitle),e.collectionHomepage.standardCard.typography.subtitle&&m(e.collectionHomepage.standardCard.typography.subtitle,o.standardCardSubtitle),e.collectionHomepage.standardCard.typography.pullQuote&&m(e.collectionHomepage.standardCard.typography.pullQuote,o.standardCardPullQuote)}(t),t};function m(e,t){if(!e.family)throw new Error("Custom theme does not contain '".concat(t,".family' property."));if(!e.weight)throw new Error("Custom theme does not contain '".concat(t,".weight' property."));if(!e.fontSize)throw new Error("Custom theme does not contain '".concat(t,".fontSize' property."));if(!e.lineHeight)throw new Error("Custom theme does not contain '".concat(t,".lineHeight' property."))}var d=function(e,t){return l({},t,{experimentalContainers:l({},t.experimentalContainers,{postPage:l({},e.collectionHomepage.shortStoryCard.containers),collectionHomepage:{homepage:l({},e.collectionHomepage.homepage.containers),shortStoryCard:l({},e.collectionHomepage.shortStoryCard.containers),standardCard:l({},e.collectionHomepage.standardCard.containers)}})})},p=function(e,t){return l({},t,{headerCard:l({},t.headerCard,{},e.collectionHomepage.homepage.typography),shortStoryCard:l({},t.shortStoryCard,{},e.collectionHomepage.shortStoryCard.typography),standardCard:l({},t.standardCard,{},e.collectionHomepage.standardCard.typography)})},g=function(e,t){return l({},t,{newFonts:l({},t.newFonts,{},e.postPage.typography),experimentalContainers:l({},t.experimentalContainers,{postPage:l({},e.postPage.containers)})})}},"./src/components/footer/GlobalFooter.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i=n("./node_modules/react-redux/es/index.js"),s=n("./src/components/metabar/Logo.tsx"),l=n("./src/components/session/WithViewer.tsx"),c=n("./src/framework/design-system/components/index.ts"),u=n("./src/styles/colors.ts"),m=n("./src/util/routes.ts");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e){var t=e.authDomain,n=e.productName;return a.createElement(c.b,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},a.createElement(c.b,{paddingBottom:"12px"},a.createElement(c.u,{href:Object(m.bb)(t)},a.createElement(c.p,null,"Become a member"))),a.createElement(c.d,null,"Get unlimited access to the best stories on ",n," — and support writers while you’re at it. Just $5/month."," ",a.createElement(c.u,{href:Object(m.bb)(t),inline:!0,linkStyle:"OBVIOUS"},"Upgrade")))}function f(e){var t=e.authDomain,n=e.productName;return a.createElement(c.b,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},a.createElement(c.b,{paddingBottom:"12px"},a.createElement(c.u,{href:Object(m.Jb)(t,"members")},a.createElement(c.p,null,"Explore your membership"))),a.createElement(c.d,null,"Thank you for being a member of ",n,". You get unlimited access to insightful stories from amazing thinkers and storytellers."," ",a.createElement(c.u,{href:Object(m.Jb)(t,"members"),inline:!0,linkStyle:"OBVIOUS"},"Browse")))}var h=Object(i.c)((function(e){var t=e.config;return{authDomain:t.authDomain,productName:t.productName}}))((function(e){var t=e.authDomain,n=e.productName;return a.createElement(c.M,null,(function(e){var r=p({},e,{baseColor:p({},e.baseColor,{background:{light:u.y(.76),normal:u.y(.84),dark:u.y(.9)},border:{lighter:u.B(.1),light:u.B(.2),normal:u.B(.34),dark:u.B(.54),darker:u.B(.84)},fill:{lighter:u.B(.7),light:u.B(.8),normal:u.B(.98),dark:u.B(.99)},text:{lighter:u.B(.7),light:u.B(.8),normal:u.B(.98),dark:u.B(.99)}})});return a.createElement(c.G,{theme:r},a.createElement(c.b,{backgroundColor:"BASE_DARK",padding:"60px 0",sm:{padding:"32px 0"}},a.createElement(c.B,null,a.createElement(c.b,{borderBottom:"BASE_DARK",display:"flex",justifyContent:"space-between",marginBottom:"32px",paddingBottom:"48px",sm:{display:"none"}},a.createElement(c.b,{display:"flex",justifyContent:"space-between",margin:"0 -12px"},a.createElement(c.b,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},a.createElement(c.b,{paddingBottom:"12px"},a.createElement(c.u,{href:Object(m.a)({authDomain:t,autoplay:!0})},a.createElement(c.p,null,"Discover ",n))),a.createElement(c.d,null,"Welcome to a place where words matter. On ",n,", smart voices and original ideas take center stage - with no ads in sight."," ",a.createElement(c.u,{href:Object(m.a)({authDomain:t,autoplay:!0}),inline:!0,linkStyle:"OBVIOUS"},"Watch"))),a.createElement(c.b,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},a.createElement(c.b,{paddingBottom:"8px"},a.createElement(c.u,{href:Object(m.Kb)(t)},a.createElement(c.p,null,"Make ",n," yours"))),a.createElement(c.d,null,"Follow all the topics you care about, and we’ll deliver the best stories for you to your homepage and inbox."," ",a.createElement(c.u,{href:Object(m.Kb)(t),inline:!0,linkStyle:"OBVIOUS"},"Explore"))),a.createElement(l.b,null,(function(e){return e&&e.mediumMemberAt?a.createElement(f,{authDomain:t,productName:n}):a.createElement(g,{authDomain:t,productName:n})})))),a.createElement(c.b,{alignItems:"center",display:"flex",justifyContent:"space-between"},a.createElement(c.u,{href:"https://".concat(t,"/")},a.createElement(s.c,null)),a.createElement(c.d,null,a.createElement(c.b,{display:"flex",justifyContent:"space-between",paddingTop:"8px",width:"200px",sm:{display:"flex",width:"140px"}},a.createElement(c.u,{href:Object(m.a)({authDomain:t}),inline:!0},"About"),a.createElement(c.u,{href:Object(m.R)(),inline:!0},"Help"),a.createElement(c.u,{href:Object(m.W)(),inline:!0},"Legal")))))))}))}))},"./src/components/meter/ContentWall.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var r=n("./node_modules/react/index.js"),o=n("./src/framework/design-system/components/index.ts"),a=n("./src/styles/colors.ts");function i(e){var t=e.children;return r.createElement(r.Fragment,null,r.createElement(o.b,{marginTop:"-140px",background:"linear-gradient(".concat(Object(a.B)(0),", ").concat(Object(a.B)(1),")"),height:"150px",position:"relative",width:"100%",marginBottom:"10px"}),r.createElement(o.b,{margin:"auto",borderRadius:"4px",boxShadow:"0 2px 10px ".concat(Object(a.y)(.15)),maxWidth:"760px",sm:{margin:"0 18px 0"}},t))}function s(e){var t=e.children;return r.createElement(r.Fragment,null,r.createElement(o.b,{marginTop:"-240px",background:"linear-gradient(".concat(Object(a.B)(0),",").concat(Object(a.B)(.5),", ").concat(Object(a.B)(1),")"),height:"250px",position:"relative",width:"100%",marginBottom:"10px"}),r.createElement(o.b,{margin:"auto",borderRadius:"4px",maxWidth:"760px",sm:{margin:"0 18px 0"}},t))}},"./src/components/meter/PayWall.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return N})),n.d(t,"a",(function(){return D}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(a),s=n("./node_modules/graphql-tag/src/index.js"),l=n.n(s),c=n("./node_modules/react/index.js"),u=n("./node_modules/react-redux/es/index.js"),m=n("./src/components/meter/ContentWall.tsx"),d=n("./src/components/optimizely/OptimizelyWrapper.tsx"),p=n("./src/components/session/WithFlag.tsx"),g=n("./src/components/session/WithViewer.tsx"),f=n("./src/components/style/BaseThemeProvider.tsx"),h=n("./src/components/susi/alternate-user/AlternateUserEmail.tsx"),b=n("./src/components/susi/alternate-user/AlternateUserSocial.tsx"),y=n("./src/components/susi/alternate-user/NotYou.tsx"),x=n("./src/components/susi/alternate-user/SusiAlternateUserController.tsx"),v=n("./src/components/ui/image/index.ts"),E=n("./src/components/upsell/UpsellClickable.tsx"),S=n("./src/framework/design-system/components/index.ts"),C=n("./src/framework/design-system/type/index.ts"),w=n("./src/framework/design-system/type/Detail.tsx"),O=n("./src/framework/reporter/index.ts"),_=n("./src/framework/source/index.ts"),j=n("./src/framework/track/UpsellPresentationTracker.tsx"),L=n("./src/screens/helpers/users.ts"),k=n("./src/store/actions/navigation.ts"),P=n("./src/util/miroImage.ts");function I(){var e=o()(["\n  fragment PayWall_post on Post {\n    id\n  }\n"]);return I=function(){return e},e}var M=function(e){return"Looks like you're already a ".concat(e," member. Sign in to read without a paywall in sight.")},T=c.createElement(S.b,{sm:{display:"none"}},c.createElement(v.b,{alt:"",height:260,width:114,miroId:"0*GLFDRIpcedGcmuSg",strategy:P.a.Resample,rules:{paddingBottom:"16px"}})),B=c.createElement(S.b,{display:"none",sm:{display:"block"}},c.createElement(v.b,{alt:"",height:60,width:300,miroId:"1*K4MHnSAfehAx3IJQxj7tfg.png",strategy:P.a.Resample})),R=function(e){var t=e.optimizelyFeatureString,n=e.post,r=e.viewer;return c.createElement(_.b,{source:{dimension:"post_limit",name:"upgrade_membership",postId:n.id}},c.createElement(j.a,null,c.createElement(S.b,{display:"inline-block",textAlign:"center"},c.createElement(d.a,{featureString:t,target:"upsell-button-".concat(r&&r.hasPastMemberships?"resume-membership":"upgrade")},c.createElement(E.a,{isButton:!0,buttonStyle:"BRAND",width:"182px"},r&&r.hasPastMemberships?"Resume membership":"Upgrade")))))},A=function(e){var t=e.declineSuggestedAccount,n=e.userSocialLogins,r=Object(u.d)();return c.createElement(S.b,{display:"flex",sm:{flexDirection:"column"}},c.createElement(S.b,{display:"flex",flexDirection:"row",justifyContent:"center"},n.facebook||n.google||n.twitter?c.createElement(b.a,{userSocialLogins:n}):c.createElement(h.a,{onSuccess:function(){return r(Object(k.o)({step:"CHECK_YOUR_INBOX",operation:"login",susiEntry:"post_paywall"}))},redactedEmailAddress:n.redactedEmailAddress||"",userId:n.userId},(function(e){var t=e.handleSubmit;return c.createElement(S.c,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:t},"Send login link")}))),t&&c.createElement(S.b,{marginLeft:"20px",sm:{marginTop:"20px"},display:"flex",justifyContent:"center",flexDirection:"column"},c.createElement(w.a,{scale:"M"},c.createElement(y.a,{declineSuggestedAccount:t,isSocial:!!n&&!!(n.facebook||n.google||n.twitter)}))))},D=function(e){var t=e.post,n=Object(u.e)((function(e){return{productName:e.config.productName,sessionUserId:e.session.user.id}})),r=n.productName,o=n.sessionUserId,a=c.useState(!1),s=i()(a,2),l=s[0],h=s[1],b=Object(O.c)(),y=c.useCallback((function(){b.event("experiment.eligible",{experimentId:"d042a124d7f6"})}),[]),v="paywall",k=function(){};return c.useEffect((function(){h(!0)}),[]),c.createElement(f.b,null,c.createElement(m.a,null,c.createElement(d.a,{featureString:v,target:"background-color"},c.createElement(S.b,{display:"flex",sm:{flexDirection:"column",textAlign:"center"}},c.createElement(d.a,{featureString:"paywall",target:"left-image"},T),c.createElement(S.b,{display:"flex",flexDirection:"column",padding:"48px 56px",sm:{padding:"28px 16px 32px",textAlign:"center"}},c.createElement(g.b,null,(function(e){return c.createElement(x.a,{postRenderCallback:k},(function(n){var a,i=n.loading,s=n.showSuggestedAccount,u=n.declineSuggestedAccount,m=n.userSocialLogins;return i?c.createElement(c.Fragment,null):(s&&(v="suggested-account-paywall"),s&&(a={alternateUserSuggestionShown:s,alternateUserSuggestionAccountType:Object(L.a)(m),alternateUserSuggestionTargetUserId:!!m&&m.userId,alternateUserSuggestionSourceUserId:e?e.id:o}),c.createElement(c.Fragment,null,c.createElement(d.a,{featureString:v,target:"heading"},c.createElement(C.c,{scale:"L"},function(e,t,n,r){if(r)return"Switch to your member account for unlimited reading.";var o=e?Object(L.b)(e):null;return o&&n&&t(),c.createElement(p.a,{name:"enable_first_name_on_paywall"},(function(e){return e&&o&&o.length>0&&o.length<=13?"".concat(o,", you read a lot. We like that."):"You read a lot. We like that."}))}(e&&e.name,y,l,s)," ")),c.createElement(w.a,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"}},c.createElement(d.a,{featureString:v,target:"subtitle-copy-desktop"},c.createElement(S.b,{marginTop:"8px",marginBottom:"28px",sm:{display:"none"}},s?M(r):function(e){return"You’ve reached the end of your free member preview for this month. Become a member now for $5/month to read this story and get unlimited access to all of the best stories on ".concat(e,".")}(r))),c.createElement(d.a,{featureString:v,target:"subtitle-copy-mobile"},c.createElement(S.b,{marginTop:"8px",marginBottom:"28px",display:"none",sm:{display:"inline-block"},maxWidth:"400px"},s?M(r):"You’ve reached the end of your free member preview for this month. Upgrade for unlimited access."))),s&&m?c.createElement(_.b,{source:{dimension:"post_limit_suggestion",name:"upgrade_membership",postId:t.id}},c.createElement(j.a,{eventData:a},c.createElement(A,{declineSuggestedAccount:u,showSuggestedAccount:s,userSocialLogins:m}),c.createElement(S.b,{display:"flex",flexDirection:"row",marginTop:"30px",sm:{justifyContent:"center"}},c.createElement(w.a,{scale:"L"},c.createElement(E.a,{eventData:a,linkStyle:"OBVIOUS"},"Learn more about membership"))))):c.createElement(R,{optimizelyFeatureString:v,post:t,viewer:e})))}))}))),c.createElement(d.a,{featureString:v,target:"mobile-bottom-image"},B)))))},N=l()(I())},"./src/components/meter/RegWall.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return R})),n.d(t,"b",(function(){return A})),n.d(t,"d",(function(){return D})),n.d(t,"c",(function(){return N}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/graphql-tag/src/index.js"),i=n.n(a),s=n("./node_modules/react/index.js"),l=n("./node_modules/react-redux/es/index.js"),c=n("./src/components/meter/ContentWall.tsx"),u=n("./src/components/optimizely/OptimizelyWrapper.tsx"),m=n("./src/components/session/useFlag.tsx"),d=n("./src/components/style/BaseThemeProvider.tsx"),p=n("./src/components/susi/SusiClickable.tsx"),g=n("./src/components/susi/alternate-user/AlternateUserEmail.tsx"),f=n("./src/components/susi/alternate-user/AlternateUserSocial.tsx"),h=n("./src/components/susi/alternate-user/NotYou.tsx"),b=n("./src/components/susi/alternate-user/SusiAlternateUserController.tsx"),y=n("./src/components/susi/oauth-buttons/FacebookSusiButton.tsx"),x=n("./src/components/susi/oauth-buttons/GoogleSusiButton.tsx"),v=n("./src/components/ui/image/index.ts"),E=n("./src/framework/design-system/components/index.ts"),S=n("./src/framework/design-system/type/index.ts"),C=n("./src/framework/reporter/index.ts"),w=n("./src/framework/source/index.ts"),O=n("./src/screens/helpers/users.ts"),_=n("./src/store/actions/navigation.ts"),j=n("./src/util/miroImage.ts");function L(){var e=o()(["\n  fragment RegWall_meteringInfo on MeteringInfo {\n    postIds\n  }\n"]);return L=function(){return e},e}function k(){var e=o()(["\n  fragment RegWall_post on Post {\n    id\n    lockedSource\n    ...SusiClickable_post\n  }\n  ","\n"]);return k=function(){return e},e}function P(){var e=o()(["\n  fragment RegWall_collection on Collection {\n    name\n  }\n"]);return P=function(){return e},e}var I=s.createElement(E.b,{sm:{display:"none"}},s.createElement(v.b,{alt:"",height:310,width:114,miroId:"0*GLFDRIpcedGcmuSg",strategy:j.a.Resample,rules:{paddingBottom:"16px"}})),M=s.createElement(E.b,{display:"none",sm:{display:"block"}},s.createElement(v.b,{alt:"",height:60,width:300,miroId:"1*K4MHnSAfehAx3IJQxj7tfg.png",strategy:j.a.Resample})),T=function(e){var t=e.minimalMeterExperience,n=e.children;return t?s.createElement(c.b,null,n):s.createElement(c.a,null,n)},B=function(e){var t=e.minimalMeterExperience,n=e.optimizelyFeatureString,r=e.showSuggestedAccount,o=e.userSocialLogins,a=Object(l.d)(),i={operation:"register"};return s.createElement(E.b,{display:"flex",flexDirection:t?"column":"row",margin:t?"":"28px 0",sm:{flexDirection:"column"},textAlign:t?"center":"start"},r&&o?s.createElement(E.b,{display:"flex",justifyContent:"center"},o.facebook||o.google||o.twitter?s.createElement(f.a,{userSocialLogins:o}):s.createElement(g.a,{onSuccess:function(){return a(Object(_.o)({step:"CHECK_YOUR_INBOX",operation:"register",susiEntry:"post_regwall"}))},redactedEmailAddress:o.redactedEmailAddress||"",userId:o.userId},(function(e){var t=e.handleSubmit;return s.createElement(E.c,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:t},"Send login link")}))):s.createElement(s.Fragment,null,s.createElement(u.a,{featureString:n,target:"google-button"},s.createElement(E.b,{margin:t?"62px 0 10px":"0 ".concat("12px"," 0"),sm:{margin:t?"40px 0 ".concat("12px"," 0"):"0 0 ".concat("12px"," 0")}},s.createElement(x.a,i))),s.createElement(u.a,{featureString:n,target:"fb-button"},s.createElement(E.b,{marginBottom:t?"52px":"0",sm:{marginBottom:t?"40px":"0"}},s.createElement(y.a,i)))))},R=function(e){var t=e.collection,n=e.meteringInfo,r=e.post,o=Object(l.e)((function(e){return e.config.productName})),a=Object(C.c)(),i="LOCKED_POST_SOURCE_SYNDICATED"===r.lockedSource,c=Object(l.e)((function(e){return e.session.user.id})),g=!!Object(m.a)("enable_minimal_meter_experience"),f="".concat(i?"syndicated-":"","regwall");s.useEffect((function(){"undefined"!=typeof document&&a.event("experiment.eligible",{experimentId:"a405e14a13b7"})}),[]);return s.createElement(d.b,null,s.createElement(w.b,{source:{susiEntry:"post_regwall",postId:r.id}},s.createElement(T,{minimalMeterExperience:g},s.createElement(u.a,{featureString:f,target:"background-color"},s.createElement(E.b,{display:"flex",textAlign:g?"center":"start",sm:{flexDirection:"column",textAlign:"center"}},g?s.createElement(s.Fragment,null):s.createElement(u.a,{featureString:f,target:"left-image"},I),s.createElement(E.b,{padding:"48px 56px",sm:{padding:"28px 16px 12px"}},s.createElement(b.a,{postRenderCallback:function(e,t,o){a.event("meter.showMeterBanner",{unlockCount:n.postIds.length,postId:r.id,type:i?5:4,alternateUserSuggestionShown:t,alternateUserSuggestionAccountType:Object(O.a)(o),alternateUserSuggestionTargetUserId:o.userId,alternateUserSuggestionSourceUserId:e?e.id:c})}},(function(e){var n=e.loading,a=e.showSuggestedAccount,l=e.declineSuggestedAccount,c=e.userSocialLogins;if(n)return s.createElement(s.Fragment,null);var m=!(!c||!c.isMember);a&&(f="suggested-account-regwall");var d=g?"S":"M",b=g?"M":"L";return s.createElement(s.Fragment,null,s.createElement(u.a,{featureString:f,target:"heading"},s.createElement(S.c,{scale:{xs:d,sm:d,md:b,lg:b,xl:b}},function(e,t,n,r){return r?"Sign in to your "+(e?"member":n)+" account.":t?"This story is just a click away.":"To keep reading this story, create a free account."}(m,i,o,a))),s.createElement(S.a,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"}},s.createElement(u.a,{featureString:f,target:"subtitle-copy".concat(i?"-syndicated":"")},s.createElement(E.b,{marginTop:"8px"},function(e,t,n,r,o){if(o)return t?"Looks like you’re already a ".concat(r," member. Sign in to read unlimited stories and get personalized recommendations."):"Looks like you already have an account with us. Sign in to get personalized story recommendations and to follow authors and publications.";var a=e&&e.name||r;return n?"Sign up for a free ".concat(r," account to read this story from ").concat(a,". Plus, get one more story in your member preview this month."):""}(t,m,i,o,a))),s.createElement(B,{minimalMeterExperience:g,optimizelyFeatureString:f,showSuggestedAccount:a,userSocialLogins:c}),a&&l?s.createElement(h.a,{declineSuggestedAccount:l,isSocial:!!c&&!!(c.facebook||c.google||c.twitter)}):s.createElement(s.Fragment,null,s.createElement(u.a,{featureString:f,target:"sign-in-copy",tag:"span"},"Already have an account?"," "),s.createElement(u.a,{featureString:f,target:"sign-in-link",tag:"span"},s.createElement(p.a,{linkStyle:"OBVIOUS",operation:"login",post:r},"Sign in")))))}))),g?s.createElement(s.Fragment,null):s.createElement(u.a,{featureString:f,target:"mobile-bottom-image"},M))))))},A=i()(P()),D=i()(k(),p.c),N=i()(L())},"./src/components/mutations/UserBlockMutation.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/graphql-tag/src/index.js"),i=n.n(a),s=n("./node_modules/react/index.js"),l=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),c=n("./node_modules/react-redux/es/index.js"),u=n("./src/store/actions/navigation.ts");function m(){var e=o()(["\n  mutation UserBlockMutation($targetUserId: ID!, $userId: ID!) {\n    blockUser(userId: $userId, targetUserId: $targetUserId) {\n      id\n      isBlocking\n    }\n  }\n"]);return m=function(){return e},e}var d=i()(m());t.a=Object(c.c)()((function(e){var t=e.children,n=e.dispatch,r=e.targetUserId,o=e.viewerId,a=e.onCompleted;return s.createElement(l.a,{mutation:d,onCompleted:function(e){n(Object(u.k)({message:"Successfully blocked user."})),a&&a()},variables:{targetUserId:r,userId:o},optimisticResponse:{__typename:"Mutation",blockUser:{__typename:"User",id:r,isBlocking:!0}}},(function(e){return t({mutate:e})}))}))},"./src/components/mutations/UserUnblockMutation.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/graphql-tag/src/index.js"),i=n.n(a),s=n("./node_modules/react/index.js"),l=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),c=n("./node_modules/react-redux/es/index.js"),u=n("./src/store/actions/navigation.ts");function m(){var e=o()(["\n  mutation UserUnblockMutation($targetUserId: ID!, $userId: ID!) {\n    unblockUser(userId: $userId, targetUserId: $targetUserId) {\n      id\n      isBlocking\n    }\n  }\n"]);return m=function(){return e},e}var d=i()(m());t.a=Object(c.c)()((function(e){var t=e.children,n=e.dispatch,r=e.targetUserId,o=e.viewerId,a=e.onCompleted;return s.createElement(l.a,{mutation:d,onCompleted:function(e){n(Object(u.k)({message:"Successfully unblocked user."})),a&&a()},variables:{targetUserId:r,userId:o},optimisticResponse:{__typename:"Mutation",unblockUser:{__typename:"User",id:r,isBlocking:!1}}},(function(e){return t({mutate:e})}))}))},"./src/components/optimizely/helpers/index.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/graphql-tag/src/index.js");function i(){var e=o()(["\n  fragment optimizelyData_post on Post {\n    creator {\n      name\n    }\n    collection {\n      name\n    }\n    primaryTopic {\n      name\n    }\n  }\n"]);return i=function(){return e},e}var s=function(){return"undefined"!=typeof window},l=function(e){var t=e.post;if(s()){s()&&(window.optimizelyDataObject={});var n=t.creator,r=t.collection,o=t.primaryTopic;n&&n.name&&(window.optimizelyDataObject.author=n.name),r&&r.name&&(window.optimizelyDataObject.publication=r.name),o&&o.name&&(window.optimizelyDataObject.topic=o.name)}},c=n.n(a)()(i())},"./src/components/post-listing/PostListingItemRecirc.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/graphql-tag/src/index.js"),i=n.n(a),s=n("./node_modules/react/index.js"),l=n("./node_modules/react-redux/es/index.js"),c=n("./src/components/post/PostByline.tsx"),u=n("./src/components/post/bookmark/index.ts"),m=n("./src/components/post/multivote/MultiVote.tsx"),d=n("./src/components/session/WithFlag.tsx"),p=n("./src/components/ui/image/FocusableMiroImage.tsx"),g=n("./src/framework/design-system/components/index.ts"),f=n("./src/framework/design-system/type/Detail.tsx"),h=n("./src/framework/source/index.ts"),b=n("./src/framework/track/index.ts"),y=n("./src/util/routes.ts");function x(){var e=o()(["\n  fragment PostListingItemRecirc_post on Post {\n    __typename\n    id\n    title\n    isLocked\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n    }\n    ...PostByline_post\n    ...PostPresentationTracker_post\n    ...BookmarkButton_post\n    ...MultiVote_post\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return x=function(){return e},e}var v=i()(x(),c.a,b.c,u.b,m.b),E=function(e){var t=e.height,n=e.width;return function(e){return{paddingBottom:"".concat(t/n*100,"%"),position:"relative"}}},S=function(e){return{height:"100%",position:"absolute",width:"100%"}},C=function(e){var t=e.title,n=e.url;return s.createElement(g.f,{href:n},s.createElement(g.s,{size:"h4",tag:"h3"},t))};t.b=Object(l.c)((function(e){return{productName:e.config.productName}}))((function(e){var t,n,r=e.post,o=e.productName;if("SuggestedPost"===r.__typename?(t=function(e,t){var n,r,o,a;switch(e&&e[0]&&e[0].reason){case"TOP_SIMILAR_TO_POST":case"CF_POST_SIMILAR_TO_POST":return"Related reads";case"TOP_IN_TOPIC":return a=e[0].topics?e[0].topics[0].name:"topic","Popular in ".concat(a);case"POSTS_SHARING_AUTHOR":return n=e[0].users?e[0].users[0].name:"author","More from ".concat(n);case"POSTS_SHARING_TAGS":return(o=e[0].tags&&e[0].tags[0].name)?"Also tagged ".concat(o):"";case"TOP_IN_COLLECTION":return r=e[0].collections?e[0].collections[0].name:"publication","More from ".concat(r);case"TOP_FOR_THE_DAY_GLOBALLY":return"Top on ".concat(t);case"POSTS_SHARING_COLLECTION_AND_TAGS":return o=e[0].tags&&e[0].tags[0].name,r=e[0].collections?e[0].collections[0].name:"publication",o?"More on ".concat(o," from ").concat(r):"";case"RECOMMENDED_BY_AUTHOR":return(n=e[0].users&&e[0].users[0].name)?"Applause from ".concat(n):"";case"TOP_FOR_THE_DAY":return"Trending on ".concat(t);default:return"Picked for you"}}(r.postSuggestionReasons,o),n=r.post):n=r,!n)return null;var a,i,l,x,v,w,O,_=n.previewImage?n.previewImage.id:"",j=(a={id:_||"1*hn4v1tCaJy7cWMyb0bpNpQ.png",width:328,height:218,focusPercentX:n.previewImage?n.previewImage.focusPercentX:null,focusPercentY:n.previewImage?n.previewImage.focusPercentY:null},l=a.id,x=a.width,v=a.height,w=a.focusPercentX,O=a.focusPercentY,l?(i="number"==typeof w&&"number"==typeof O?[w,O]:[50,50],s.createElement(g.K,null,(function(e){return s.createElement("div",{className:e(E({height:v,width:x}))},s.createElement("div",{className:e(S)},s.createElement(p.a,{miroId:l,imgHeight:v,imgWidth:x,width:"100%",height:"100%",freezeGifs:!1,focusPercent:i})))}))):null);return s.createElement(b.b,{post:n,presentationContext:"PLACEMENT"},s.createElement(g.b,{md:{marginBottom:"48px"}},s.createElement(g.k,{alignItems:{xs:"flex-start",sm:"center",md:"center",lg:"flex-start",xl:"flex-start"},direction:{xs:"row",sm:"row-reverse",md:"row-reverse",lg:"row",xl:"row"}},s.createElement(g.l,{size:{xs:12,sm:6,md:6,lg:12,xl:12}},t&&s.createElement(g.b,{marginBottom:"12px",md:{display:"none"},xs:{display:"block"}},s.createElement(f.a,{scale:"M"},t)),j&&s.createElement(g.b,{marginBottom:"16px",md:{marginBottom:"0px"},xs:{marginBottom:"16px"}},s.createElement(g.u,{display:"block",href:Object(y.lb)(n)},j))),s.createElement(g.l,{size:{xs:12,sm:6,md:6,lg:12,xl:12}},s.createElement(g.b,{marginBottom:"16px"},t&&s.createElement(g.b,{display:"none",marginBottom:"4px",md:{display:"block"},xs:{display:"none"}},s.createElement(f.a,{scale:"M"},t)),s.createElement(C,{title:n.title?n.title:"",url:Object(y.lb)(n)})),s.createElement(g.b,{display:"flex",alignItems:"center",justifyContent:"space-between"},s.createElement(g.b,{flexShrink:"1",marginRight:"10px"},s.createElement(d.a,{name:"remove_stars_ui"},(function(e){return s.createElement(c.b,{post:n,showBio:!1,scale:"S",showStar:!e&&!!n.isLocked})}))),s.createElement(g.b,{display:"flex",alignItems:"center"},s.createElement(h.b,{source:{susiEntry:"clap_preview"},extendSource:!0},s.createElement(m.a,{post:n,buttonStyle:"SUBTLE",isAccentColor:!1})),s.createElement(g.b,{borderRight:"BASE_LIGHTER",marginLeft:"12px",marginRight:"10px",height:"20px",width:"1px"}),s.createElement(u.a,{post:n})))))))}))},"./src/components/post/InResponseToPostPreview.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/graphql-tag/src/index.js"),i=n.n(a),s=n("./node_modules/react/index.js"),l=n.n(s),c=n("./src/components/post/paragraph/TextParagraph.tsx"),u=n("./src/components/stream/Quote.tsx"),m=n("./src/components/ui/Card.tsx"),d=n("./src/framework/design-system/components/index.ts");function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var g=l.a.createElement("g",{fillRule:"evenodd"},l.a.createElement("path",{d:"M6.93 15.34l-2.06-2.06c-2.16-2.16-3.53-3.15-2.9-3.79.33-.32.8-.39 1.2 0l2.13 2.2c.08.08.16.07.38.13.21.05.36-.05.54-.23.17-.16.07-.6-.09-.77L3.5 8.2c-.37-.36-.5-1-.1-1.39.37-.37.8-.19 1.14.15.39.38 2.7 2.76 2.7 2.76a.42.42 0 0 0 .3.13.54.54 0 0 0 .33-.16c.17-.16.25-.46.09-.63 0 0-1.34-1.4-1.82-1.88-.71-.72-.77-1.22-.46-1.54.45-.44 1.05-.3 1.86.62l3.58 3.89-.75-1.95s-.47-1.25 0-1.5.84.4 1.17.9l1.86 3.34c1.01 1.65.69 3.8-.73 5.19-1.87 1.87-4.07.87-5.73-.78zM10.26.04H8.73l.77 3.3zM13.93 1.2L12.5.7l-.4 3.36zM6.5.57l-1.44.52L6.9 3.93z"}),l.a.createElement("path",{d:"M14.3 7.03c-.34-.5-.9-.52-1.25-.24-.25.19-.21.6-.2.9l1.51 2.64c1.17 1.9 1.33 3.66 0 5.45.4-.19.52-.23.9-.61 1.52-1.52 1.86-3.32.85-4.96l-1.8-3.18z"})),f=function(e){return l.a.createElement("svg",p({width:19,height:19,viewBox:"0 0 19 19"},e),g)};function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var b=l.a.createElement("path",{d:"M16.19 9.42c0 1.67-.72 2.84-2.03 4l-.1.09v.13a4.3 4.3 0 0 0 .15.85c.17.6.46 1.2.86 1.8a4.94 4.94 0 0 1-2.46-.84c-.26-.17-.33-.2-.54-.4l-.13-.12-.16.05c-.68.2-2.75.46-4.88-.16a5.9 5.9 0 0 1-4.1-5.4c0-3.37 3-6.12 6.7-6.12s6.69 2.75 6.69 6.12z",fillRule:"evenodd"}),y=function(e){return l.a.createElement("svg",h({width:19,height:19,viewBox:"0 0 19 19"},e),b)},x=n("./src/util/numbers.ts"),v=n("./src/util/quote.ts"),E=n("./src/util/routes.ts");function S(){var e=o()(["\n  fragment InResponseToPostPreview_mediaResource on Post {\n    inResponseToMediaResource {\n      mediumQuote {\n        ...Quote_quote\n      }\n    }\n  }\n  ","\n"]);return S=function(){return e},e}function C(){var e=o()(["\n  fragment InResponseToPostPreview_postResult on PostResult {\n    __typename\n    ... on Post {\n      id\n      title\n      mediumUrl\n      creator {\n        id\n        name\n      }\n      clapCount\n      responsesCount\n    }\n  }\n"]);return C=function(){return e},e}n.d(t,"a",(function(){return w})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return _}));var w=function(e){var t,n=e.inResponseToPostResult,r=e.inResponseToMediaResource,o=e.padding;if(n)switch(n.__typename){case"Post":t=n}if(!t)return null;var a=t.title,i=t.creator&&t.creator.name,l=parseInt(t.clapCount,10),u=parseInt(t.responsesCount,10),p=r&&r.mediumQuote&&Object(v.a)(r.mediumQuote),g=p&&p.type,h=s.createElement(d.f,{href:Object(E.lb)(t)},s.createElement(m.a,null,s.createElement(d.A,{ui:"REGULAR"},s.createElement(d.b,{paddingLeft:"20px",paddingRight:"20px"},p&&g&&s.createElement(d.b,{paddingBottom:"20px"},s.createElement(c.d,{paragraph:p,paragraphStyle:g,spaceTop:10,richTextStyle:"STREAM"})),s.createElement(d.b,{display:"flex"},s.createElement(d.b,{display:"flex",flexGrow:"1",flexShrink:"1",alignItems:"center"},s.createElement(d.d,{strong:!0,clamp:1},a)),s.createElement(d.d,null,s.createElement(d.b,{display:"flex",flexGrow:"0",alignItems:"center"},l>0?s.createElement(d.b,{display:"flex",alignItems:"center"},s.createElement(d.b,{tag:f,marginRight:"4px"}),s.createElement("div",null,Object(x.d)(l))):null,u>0?s.createElement(d.b,{display:"flex",alignItems:"center"},s.createElement(d.b,{tag:y,marginLeft:"8px",marginRight:"4px"}),s.createElement("div",null,Object(x.d)(u))):null))),s.createElement(d.d,null,i)))));return o?s.createElement(d.b,{padding:o},h):h},O=i()(C()),_=i()(S(),u.a)},"./src/components/post/MaybeRedirectToEditor.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return g}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/graphql-tag/src/index.js"),i=n.n(a),s=n("./node_modules/react/index.js"),l=n("./node_modules/react-redux/es/index.js"),c=n("./src/components/navigation/Redirect.tsx"),u=n("./src/components/session/WithViewer.tsx"),m=n("./src/util/routes.ts");function d(){var e=o()(["\n  fragment MaybeRedirectToEditor_post on Post {\n    id\n    isPublished\n    collection {\n      id\n      viewerCanEditOwnPosts\n      viewerCanEditPosts\n      viewerIsEditor\n    }\n    creator {\n      id\n    }\n  }\n"]);return d=function(){return e},e}var p=i()(d()),g=Object(l.c)((function(e){return{authDomain:e.config.authDomain}}))((function(e){var t=e.authDomain,n=e.post,r=e.children;return s.createElement(u.b,null,(function(e){return function(e,t){var n=e.collection,r=e.creator&&t&&e.creator.id===t.id,o=r&&n&&n.viewerCanEditOwnPosts||n&&(n.viewerIsEditor||n.viewerCanEditPosts);return(!e||!e.isPublished)&&(n?o:r)}(n,e)?s.createElement(c.a,{to:Object(m.jb)(t,n.id)}):r}))}))},"./src/components/post/NormalizePostBodyModel.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return p}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/graphql-tag/src/index.js"),i=n.n(a),s=n("./src/util/string.ts");function l(){var e=o()(["\n  fragment GetFeaturedImageIndex_bodyModel on RichText {\n    paragraphs {\n      type\n      text\n      metadata {\n        isFeatured\n      }\n    }\n  }\n"]);return l=function(){return e},e}function c(){var e=o()(["\n  fragment GetTitleIndexMap_bodyModel on RichText {\n    paragraphs {\n      type\n      text\n    }\n  }\n"]);return c=function(){return e},e}var u=function(e){for(var t=null,n=null,r=null,o=0;o<=e.length;o++){var a=e[o];if(!a)break;if(null!=t){"H4"===a.type&&(n=o);break}if("H3"===a.type||"H2"===a.type)t=o;else{if(null!=r)break;if("H4"!==a.type){if("IMG"===a.type||"IFRAME"===a.type||"P"===a.type&&"string"==typeof a.text&&Object(s.a)(a.text))continue;break}r=o}}return{titleIndex:t,subtitleIndex:n}},m=i()(c()),d=function(e){for(var t=null,n=0;n<e.length;n++)if("IMG"===e[n].type){if(e[n].metadata&&e[n].metadata.isFeatured)return n;null===t&&(t=n)}return t},p=i()(l())},"./src/components/post/PostBodyInserts.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return S}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/graphql-tag/src/index.js"),i=n.n(a),s=n("./node_modules/react/index.js"),l=n("./src/WatchBounds.tsx"),c=n("./src/components/post/NormalizePostBodyModel.ts"),u=n("./src/components/post/PostByline.tsx"),m=n("./src/components/post/bookmark/index.ts"),d=n("./src/components/post/bookmark/PostPageBookmarkButton.tsx"),p=n("./src/components/social/ShareButtons.tsx"),g=n("./src/framework/design-system/index.ts"),f=n("./src/framework/design-system/components/index.ts"),h=n("./src/framework/source/index.ts"),b=n("./src/framework/style/useCx.ts");function y(){var e=o()(["\n  fragment PostBodyInserts_post on Post {\n    isPublished\n    # please note that the postMeteringOptions is defined in handlers that use PostBodyInserts\n    # (PostHandler and SequencePostHandler)\n    content(postMeteringOptions: $postMeteringOptions) {\n      bodyModel {\n        paragraphs {\n          name\n          text\n          type\n        }\n      }\n    }\n    ...PostByline_post\n    ...ShareButtons_post\n    ...BookmarkButton_post\n  }\n  ","\n  ","\n  ","\n"]);return y=function(){return e},e}function x(e){var t=e.post,n=Object(b.a)(),r={marginTop:"32px"};return s.createElement(l.a,{className:n(r),name:"byline",type:"byline",offset:{left:-600}},s.createElement(f.b,{display:"flex",justifyContent:"space-between",xs:{marginTop:r.marginTop},sm:{flexDirection:"column-reverse",marginTop:r.marginTop}},s.createElement(u.b,{scale:"M",post:t,showBio:!1,hideCollection:!0}),s.createElement(f.b,{display:"flex",alignItems:"flex-end",print:{display:"none"},xs:{marginLeft:"0px",marginBottom:"30px"},sm:{marginLeft:"0px",marginBottom:"30px"},md:{marginLeft:"30px"},lg:{marginLeft:"30px"},xl:{marginLeft:"30px"}},s.createElement(f.b,{display:"flex",alignItems:"center"},t.isPublished&&s.createElement(s.Fragment,null,s.createElement(p.a,{post:t,source:{name:"post_actions_header"}}),s.createElement(f.b,{flexGrow:"1",marginRight:"-6px"},s.createElement(h.b,{source:{name:"post_actions_header",susiEntry:"bookmark_header"}},s.createElement(d.a,{post:t}))))))))}function v(e,t,n){return function(r){var o="number"==typeof n.titleIndex,a=n.subtitleIndex||n.titleIndex||0,i=t[a]&&t[a].name,l=s.createElement(x,{post:e});return i&&0===a&&!o?r.first={order:"before",component:s.createElement(g.a,{size:"inset"},l)}:i&&(r[i]={order:"after",component:l}),r}}function E(e){var t=e&&e.content&&e.content.bodyModel&&e.content.bodyModel.paragraphs||void 0;if(t)return[v(e,t,Object(c.d)(t))].reduce((function(e,t){return t(e)}),{})}var S=i()(y(),u.a,p.b,m.b)},"./src/components/post/PostBodySection.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(a),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),l=n.n(s),c=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),u=n.n(c),m=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),d=n.n(m),p=n("./node_modules/@babel/runtime/helpers/inherits.js"),g=n.n(p),f=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),h=n.n(f),b=n("./node_modules/graphql-tag/src/index.js"),y=n.n(b),x=n("./node_modules/react/index.js"),v=n("./src/WatchBounds.tsx"),E=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),S=n.n(E),C=n("./node_modules/react-redux/es/index.js"),w=n("./src/components/collection/theming/customStyleSheet.ts"),O=n("./src/components/post/markups/Markups.tsx"),_=n("./src/components/post/paragraph/IframeParagraph/iframePostMessageNormalizer.ts"),j=n("./src/components/session/useFlag.tsx"),L=n("./src/components/ui/AspectRatioPlaceholder.tsx"),k=n("./src/components/ui/FigCaption.tsx"),P=n("./src/components/ui/Figure.tsx"),I=n("./node_modules/@babel/runtime/helpers/extends.js"),M=n.n(I),T=n("./src/framework/style/index.ts"),B=n("./src/styles/position.ts"),R=function(e){return{backgroundColor:e.baseColor.background.normal}},A=function(e){return{width:"1px",minWidth:"100%","*width":"100%"}};var D=Object(C.c)((function(e){return{isAmp:e.config.isAmp}}))((function(e){var t=e.src,n=e.title,r=e.height,o=e.width,a=e.allowFullScreen,i=e.frameBorder,s=e.thumbnailUrl,l=e.rules,c=e.iframeRef,u=e.isAmp,m=Object(T.useCx)(),d={src:t,allowFullScreen:a,frameBorder:i,height:r,width:o},p=x.useState(!1),g=S()(p,2),f=g[0],h=g[1];if(c&&c.current&&c.current.parentElement.offsetWidth<c.current.offsetWidth&&!f&&h(!0),u){var b,y={allowFullScreen:a};for(var v in y)d[v]=d[v]?"":null;return b=s?x.createElement("amp-img",{placeholder:"",src:s,layout:"fill"}):x.createElement("div",{placeholder:"",className:m([B.a,R])}),x.createElement("amp-iframe",M()({},d,{class:m(l),placeholder:"",resizable:"",layout:"responsive",sandbox:"allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox"}),b,x.createElement("div",{overflow:"true",tabIndex:"0",role:"button","aria-label":"Read more"},"Read more"))}return x.createElement("iframe",M()({},d,{ref:c,title:n,className:m(f?[l,A]:l),scrolling:f?"no":"auto"}))})),N=n("./src/styles/breakpoints.ts"),z=n("./src/styles/post/spacing.ts"),H=n("./src/util/richText.ts"),F=n("./src/util/routes.ts");function U(){var e=o()(["\n  fragment IframeParagraph_customStyleSheet on CustomStyleSheet {\n    id\n    postBodyIframe {\n      ...SupportedContainerStyles_styleNode\n    }\n  }\n  ","\n"]);return U=function(){return e},e}function X(){var e=o()(["\n  fragment IframeParagraph_paragraph on Paragraph {\n    iframe {\n      mediaResource {\n        id\n        iframeSrc\n        iframeHeight\n        iframeWidth\n        title\n      }\n    }\n    layout\n    ...getEmbedlyCardUrlParams_paragraph\n    ...Markups_paragraph\n  }\n  ","\n  ","\n"]);return X=function(){return e},e}var W=function(e){return e.experimentalContainers.postPage.paragraphs.IFRAME||{}},V=x.memo((function(e){var t=e.host,n=e.isAmp,r=e.paragraph,o=e.paragraphStyle,a=e.richTextStyle,i=e.spaceTop,s=e.updateWatchedBounds,l=e.customStyleSheet,c=Object(T.useCx)(),u=Object(j.a)("enable_theme_editor"),m=x.useRef(null),d=(r.iframe||{}).mediaResource,p=d||{},g=p.id,f=p.iframeSrc,b=p.iframeHeight,y=p.iframeWidth,v=p.title,E=f;E||(E=g?Object(F.Y)(t,g):"");var C=function(e){var t=e.src,n=e.initialHeight,r=e.initialWidth,o=x.useRef(null),a=x.useState(n),i=S()(a,2),s=i[0],l=i[1],c=x.useState(r),u=S()(c,2),m=u[0],d=u[1];return x.useEffect((function(){if(""!==t){var e=Object(_.a)((function(e){"iframe.resize"===e.context&&e.src===t&&e.height>0&&(o.current&&d(o.current.offsetWidth),l(e.height))})).destructor;return function(){e()}}}),[t,n]),[s,m,o]}({src:E,initialHeight:b||0,initialWidth:y||0}),I=S()(C,3),M=I[0],R=I[1],A=I[2];if(x.useEffect((function(){if(s&&d&&d.id&&R&&M){var e="";m.current&&(e=m.current.offsetTop.toString()),s("".concat(d.id,"-").concat(e),m,{type:"image"})}}),[]),!E)return null;var U=r.text?x.createElement(k.a,null,x.createElement(O.a,{paragraph:r,paragraphStyle:o,richTextStyle:a})):null,X=[Object(z.m)(i)];X.push((function(e){return{clear:"both"}})),"OUTSET_LEFT"===(r.layout||void 0)&&"STREAM"!==a&&X.push((function(e){var t;return t={background:e.backgroundColor,borderWidth:e.borderWidthThick+"px",borderStyle:e.borderStyle,borderColor:e.backgroundColor,float:"left",marginLeft:"-150px",marginRight:"30px",width:"75%",padding:"0",paddingBottom:"10px"},h()(t,N.md(e),{float:"none",marginLeft:"0",marginRight:"0",width:"100%"}),h()(t,"marginBottom","16px"),t})),u&&(X.push(W),X.push((function(){return function(e){return Object(w.c)(null==e?void 0:e.postBodyIframe)}(l)})));var V=n?Object(H.b)(r):null;return x.createElement(P.a,{className:c(X),figCaption:U,figureRef:m},V?x.createElement(x.Fragment,null,x.createElement("amp-embedly-card",{"data-url":V.url,layout:"responsive",width:R,height:M,"data-card-controls":"0"})):x.createElement(L.a,{height:M,width:R,backgroundColor:"NONE"},x.createElement(D,{iframeRef:A,src:E,title:v||"",height:M,width:R,allowFullScreen:!0,frameBorder:"0",rules:B.a})))})),G=Object(C.c)((function(e){return{isAmp:e.config.isAmp,host:e.navigation.host}}))(V),q=y()(X(),H.c,O.c),$=(y()(U(),w.a),G),Y=n("./src/components/post/paragraph/ImageParagraph.tsx"),K=n("./src/components/ui/image/FocusableMiroImage.tsx"),Q=n("./src/framework/design-system/components/index.ts"),J=n("./src/framework/design-system/type/index.ts"),Z=n("./src/framework/design-system/util/type/createClampRule.ts"),ee=n("./src/util/miroImage.ts");function te(){var e=o()(["\n      fragment MixtapeParagraph_paragraph on Paragraph {\n        text\n        type\n        mixtapeMetadata {\n          href\n          thumbnailImageId\n          mediaResourceId\n        }\n        markups {\n          start\n          end\n          type\n          href\n        }\n      }\n    "]);return te=function(){return e},e}var ne=function(e){return{boxShadow:"inset 0 0 0 1px ".concat(e.baseColor.border.lighter)}},re=function(e){return{boxShadow:"0 1px 4px ".concat(e.baseColor.border.lighter,", ").concat(ne(e).boxShadow)}},oe=function(e){return Object(Z.a)({clamp:2,lineHeight:20})(e)},ae=function(e){function t(){return i()(this,t),u()(this,d()(t).apply(this,arguments))}return g()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.paragraph,n=e.spaceTop,r=t.mixtapeMetadata,o=t.type;if(!r||!r.href||!o)return null;var a=r.href,i=function(e){var t=e.text,n=e.markups;if(!t)return null;var r=n.find((function(e){return"STRONG"===e.type}));if(!r)return null;var o=n.find((function(e){return"EM"===e.type})),a=r.end,i=o?o.end:r.end;return{title:t.slice(r.start,a).trim(),description:o?t.slice(o.start,o.end).trim():null,domain:t.slice(i).trim()||null}}(t);if(!i)return null;var s=i.title,l=i.description,c=i.domain;return x.createElement(Q.K,null,(function(e){return x.createElement("div",{className:e([Object(z.m)(n),re])},x.createElement(Q.f,{href:a||"",disableSourceParam:!0},x.createElement(Q.b,{display:"flex",flexShrink:"0",padding:"0px"},x.createElement(Q.b,{padding:"16px 20px",flexShrink:"1",flexGrow:"1",display:"flex",justifyContent:"center",flexDirection:"column",sm:{padding:"10px 12px 10px"}},x.createElement(J.b,{scale:"XS"},x.createElement("div",{className:e([oe])},s)),l&&x.createElement(Q.b,{marginTop:"8px"},x.createElement(J.f,{scale:"S"},x.createElement("div",{className:e([oe])},l))),c&&x.createElement(Q.b,{marginTop:"12px"},x.createElement(J.a,{scale:"S"},x.createElement("div",{className:e([oe])},c)))),r&&r.mediaResourceId&&x.createElement(Q.b,{width:"160px"},x.createElement(K.a,{boxShadowRules:ne,miroId:r.mediaResourceId,width:160,height:167,strategy:ee.a.Resample,focusPercent:[50,50],imgHeight:167,imgWidth:160})))))}))}}]),t}(x.Component);h()(ae,"fragments",{paragraph:y()(te())});var ie=ae,se=n("./src/components/post/paragraph/TextParagraph.tsx");function le(){var e=o()(["\n      fragment PostBodyParagraph_paragraph on Paragraph {\n        name\n        type\n        ...ImageParagraph_paragraph\n        ...TextParagraph_paragraph\n        ...IframeParagraph_paragraph\n        ...MixtapeParagraph_paragraph\n      }\n      ","\n      ","\n      ","\n      ","\n    "]);return le=function(){return e},e}function ce(){var e=o()(["\n  fragment PostBodyParagraph_privateNote on Note {\n    ...TextParagraph_privateNote\n    ...ImageParagraph_privateNote\n  }\n  ","\n  ","\n"]);return ce=function(){return e},e}function ue(){var e=o()(["\n  fragment PostBodyParagraph_highlight on Quote {\n    ...TextParagraph_highlight\n    ...ImageParagraph_highlight\n  }\n  ","\n  ","\n"]);return ue=function(){return e},e}var me=function(e){function t(){return i()(this,t),u()(this,d()(t).apply(this,arguments))}return g()(t,e),l()(t,[{key:"render",value:function(){var e,t=this.props,n=t.paragraph,r=t.paragraphStyle,o=t.richTextStyle,a=t.sequenceAspectRatio,i=t.spaceTop,s=t.insert,l=t.highlights,c=t.privateNotes;switch(n.type){case"IMG":e=x.createElement(v.b.Consumer,null,(function(e){var t=e.updateWatchedBounds;return x.createElement(Y.d,{paragraph:n,paragraphStyle:r,richTextStyle:o,sequenceAspectRatio:a,spaceTop:i,updateWatchedBounds:t,highlights:l,privateNotes:c})}));break;case"P":case"BQ":case"PQ":case"H1":case"H2":case"H3":case"H4":case"ULI":case"OLI":case"PRE":e=x.createElement(se.d,{paragraph:n,paragraphStyle:r,richTextStyle:o,spaceTop:i,highlights:l,privateNotes:c});break;case"IFRAME":e=x.createElement(v.b.Consumer,null,(function(e){var t=e.updateWatchedBounds;return x.createElement($,{paragraph:n,paragraphStyle:r,richTextStyle:o,spaceTop:i,updateWatchedBounds:t})}));break;case"MIXTAPE_EMBED":e=x.createElement(ie,{paragraph:n,paragraphStyle:r,richTextStyle:o,spaceTop:i});break;default:e=null}return s?x.createElement(x.Fragment,null,"before"===s.order&&s.component,e,"after"===s.order&&s.component):e}}]),t}(x.Component);h()(me,"fragments",{paragraph:y()(le(),q,Y.b,se.d.fragments.paragraph,ie.fragments.paragraph)});var de=me,pe=y()(ue(),se.a,Y.a),ge=y()(ce(),se.b,Y.c),fe=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),he=n.n(fe),be=n("./src/components/session/WithFlag.tsx"),ye=n("./src/framework/design-system/util/style/responsiveStyles.ts");function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(){var e=o()(["\n  fragment ParagraphStyleGrouping_customStyleSheet on CustomStyleSheet {\n    id\n    postBodyOLI {\n      ...SupportedContainerStyles_styleNode\n    }\n    postBodyULI {\n      ...SupportedContainerStyles_styleNode\n    }\n  }\n  ","\n"]);return Ee=function(){return e},e}function Se(){var e=o()(["\n  fragment ParagraphStyleGrouping_privateNote on Note {\n    ...PostBodyParagraph_privateNote\n  }\n  ","\n"]);return Se=function(){return e},e}function Ce(){var e=o()(["\n  fragment ParagraphStyleGrouping_highlight on Quote {\n    ...PostBodyParagraph_highlight\n  }\n  ","\n"]);return Ce=function(){return e},e}var we=x.memo((function(e){var t=e.styleGroup,n=e.postBodyInserts,r=e.customStyleSheet,o=Object(T.useCx)(),a=Me(t),i=t.paragraphViewModels.map((function(e){var t=e.paragraph.name,r=n&&n[t],o=x.createElement(de,M()({key:e.paragraph.name,insert:r},e));return"Title"===e.paragraphStyle?x.createElement(v.a,{name:"title",type:"byline",offset:{left:-600},key:"".concat(e.paragraph.name,"-wb")},o):o}));return a?x.createElement(be.a,{name:"enable_theme_editor"},(function(e){return x.createElement(a,{className:o([ke({paragraphStyle:t.paragraphStyle,topSpacing:t.topSpacing,paragraphLayout:t.paragraphLayout,paragraphCount:t.paragraphViewModels.length,richTextStyle:t.paragraphViewModels[0].richTextStyle})].concat(he()(e?[Pe(t.paragraphStyle),function(){return Ie(r,t.paragraphStyle)}]:[])))},i)})):i})),Oe=y()(Ce(),pe),_e=y()(Se(),ge),je=(y()(Ee(),w.a),function(e){var t=[];return e.forEach((function(e){var n=e.paragraphStyle,r=e.paragraph.layout,o=t[t.length-1];o&&Le(o,e)?o.paragraphViewModels.push(e):t.push({paragraphStyle:n,paragraphLayout:r,topSpacing:e.sequenceSpaceTop||0,paragraphViewModels:[e]})})),t}),Le=function(e,t){if(e.paragraphStyle!==t.paragraphStyle)return!1;var n=t.paragraph.layout;return"OUTSET_ROW"===e.paragraphLayout?"OUTSET_ROW_CONTINUE"===n:e.paragraphLayout===n},ke=function(e){var t=e.paragraphStyle,n=e.topSpacing,r=e.paragraphLayout,o=(e.paragraphCount,e.richTextStyle);return function(e){var a={};switch(n&&(a.marginTop=Object(ye.b)((function(e){var t=S()(e,1)[0];return"".concat(t,"px")}),n)),t){case"BQ":var i=e.baseColor.border.darker||"";return Object(ye.a)(e,ve({},a,{boxShadow:"inset ".concat(3,"px 0 0 0 ").concat(i),paddingLeft:"".concat(23,"px"),marginLeft:Object(H.j)(o)?"0px":"-20px"}));case"PRE":return Object(ye.a)(e,ve({},a,{padding:"20px",background:e.baseColor.background.normal,overflowX:"auto"}));case"PQ":return Object(ye.a)(e,ve({},a,{paddingLeft:"SERIES"===o?"0px":"30px"}))}switch(r){case"OUTSET_ROW":return Object(ye.a)(e,ve({},a,{display:"flex",flexDirection:"row"}))}return Object(ye.a)(e,a)}},Pe=function(e){return function(t){return t.experimentalContainers.postPage.paragraphGroups[e]||{}}},Ie=function(e,t){switch(t){case H.a.OLI:return Object(w.c)(null==e?void 0:e.postBodyOLI);case H.a.ULI:return Object(w.c)(null==e?void 0:e.postBodyULI);default:return{}}},Me=function(e){var t=e.paragraphStyle,n=e.paragraphLayout;switch(t){case"OLI":return"ol";case"ULI":return"ul";case"BQ":case"PQ":return"blockquote";case"PRE":return"pre"}switch(n){case"OUTSET_ROW":return"div"}return null},Te=n("./src/framework/design-system/index.ts"),Be=n("./src/schema-types/globalTypes.ts");function Re(){var e=o()(["\n  fragment ParagraphLayoutGrouping_privateNote on Note {\n    ...ParagraphStyleGrouping_privateNote\n  }\n  ","\n"]);return Re=function(){return e},e}function Ae(){var e=o()(["\n  fragment ParagraphLayoutGrouping_highlight on Quote {\n    ...ParagraphStyleGrouping_highlight\n  }\n  ","\n"]);return Ae=function(){return e},e}function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ne={clear:"both"},ze={clear:"both",width:"100%"},He=function(e){var t={boxSizing:"border-box",margin:"0 auto",width:"100%"};return"INSET_CENTER"===e?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{maxWidth:"700px",padding:"0 1.25em"}):t},Fe=x.memo((function(e){var t=e.layoutGroup,n=e.postBodyInserts,r=Object(T.useCx)(),o=t.styleGroups[0].paragraphViewModels[0].richTextStyle,a=t.styleGroups.map((function(e,t){return x.createElement(we,{key:t,styleGroup:e,postBodyInserts:n})}));if(Object(H.j)(o))return x.createElement(x.Fragment,null,a);switch(t.effectiveLayout){case"OUTSET_CENTER":case"OUTSET_ROW":return x.createElement("div",{className:r(Ne)},x.createElement(Te.a,{size:{xs:"full",sm:"full",md:"full",lg:"outset",xl:"outset"}},a));case"FULL_WIDTH":return x.createElement("div",{className:r(ze)},a);default:return"FULL_PAGE"===o?x.createElement(Te.a,{size:"inset"},a):x.createElement("div",{className:r(He(t.effectiveLayout))},a)}})),Ue=y()(Ae(),Oe),Xe=y()(Re(),_e),We=function(e,t){switch(t){case Be.a.INSET_LEFT:case Be.a.OUTSET_LEFT:return"IMG"===e||"IFRAME"===e?Be.a.INSET_CENTER:t;case Be.a.OUTSET_ROW_CONTINUE:return Be.a.OUTSET_ROW;default:return t||Be.a.INSET_CENTER}},Ve={":after":{display:"block",content:'""',clear:"both"}},Ge=n("./src/util/theme.ts");function qe(){var e=o()(["\n      fragment PostBodySection_paragraphs on Paragraph {\n        name\n        ...PostBodyParagraph_paragraph\n      }\n      ","\n    "]);return qe=function(){return e},e}function $e(){var e=o()(["\n  fragment PostBodySection_privateNote on Note {\n    ...ParagraphLayoutGrouping_privateNote\n  }\n  ","\n"]);return $e=function(){return e},e}function Ye(){var e=o()(["\n  fragment PostBodySection_highlight on Quote {\n    ...ParagraphLayoutGrouping_highlight\n  }\n  ","\n"]);return Ye=function(){return e},e}function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return nt})),n.d(t,"b",(function(){return rt}));var Je=function(e){var t=e.id,n=e.originalWidth,r=e.originalHeight;return function(){var e=[400,600,800,1e3,1200,1400,1600,1800,2e3],o={miroId:t,strategy:"RESAMPLE",verticalGradient:{start:29,end:81,opacity:40}},a=e.reduce((function(t,a,i){var s=Object(ee.d)(Qe({},o,{width:a,height:a/n*r}));return i===e.length-1?(t.backgroundImage="url(".concat(s,")"),t):(t["@media (min-width: ".concat(a,"px)")]={backgroundImage:"url(".concat(s,")")},t)}),{});return Qe({backgroundColor:"rgba(0, 0, 0, 0.9)",backgroundPosition:"50% 50%",backgroundSize:"cover",display:"table",minHeight:"100vh",width:"100%"},a)}},Ze=function(){return{display:"table-cell",paddingBottom:"32px",verticalAlign:"bottom"}};function et(e){var t=e.bgImage,n=e.children,r=e.isFullPage,o=e.paragraphName,a=Object(T.useCx)();return t&&t.id&&r?x.createElement(v.a,{name:o,type:"bgimage"},x.createElement("div",{className:a(Je(t))},x.createElement("div",{className:a(Ze)},x.createElement(Q.M,null,(function(e){return x.createElement(Q.G,{theme:Object(Ge.g)(e)},n)}))))):n}var tt=function(e){function t(){return i()(this,t),u()(this,d()(t).apply(this,arguments))}return g()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.paragraphViewModels,n=e.postBodyInserts,r=e.section;if(0===t.length)return null;var o=function(e){switch(e){case"SERIES":return{paddingTop:"32px",paddingBottom:"32px",margin:"auto 0",width:"100%"};case"STREAM":case"CARD":case"FULL_PAGE":return{wordBreak:"break-word",wordWrap:"break-word"};default:return{}}}(t[0].richTextStyle),a=function(e){var t=[],n=[];e.forEach((function(e){var r=We(e.paragraphStyle,e.paragraph.layout),o=t[t.length-1];if(o&&o.effectiveLayout===r)n.push(e);else{if(o){var a,i=je(n);(a=o.styleGroups).push.apply(a,he()(i))}n.length=0,n.push(e),t.push({styleGroups:[],effectiveLayout:r})}}));var r=t[t.length-1];if(r){var o,a=je(n);(o=r.styleGroups).push.apply(o,he()(a))}return t}(t);return x.createElement(Q.K,null,(function(e){return x.createElement("section",{className:e([o,Ve])},x.createElement(et,{bgImage:r.backgroundImage,isFullPage:"FULL_PAGE"===t[0].richTextStyle,paragraphName:t[0].paragraph.name},a.map((function(e,t){return x.createElement(Fe,{key:t,layoutGroup:e,postBodyInserts:n})}))))}))}}]),t}(x.Component);h()(tt,"fragments",{paragraphs:y()(qe(),de.fragments.paragraph)});t.c=tt;var nt=y()(Ye(),Ue),rt=y()($e(),Xe)},"./src/components/post/PostByline.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(a),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),l=n.n(s),c=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),u=n.n(c),m=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),d=n.n(m),p=n("./node_modules/@babel/runtime/helpers/inherits.js"),g=n.n(p),f=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),h=n.n(f),b=n("./node_modules/graphql-tag/src/index.js"),y=n.n(b),x=n("./node_modules/react/index.js"),v=n("./node_modules/react-redux/es/index.js"),E=n("./src/components/format/Date.tsx"),S=n("./src/components/ui/Byline.tsx"),C=n("./src/components/user/UserAvatar.tsx"),w=n("./src/components/user/UserFollowButton.tsx"),O=n("./src/framework/design-system/components/index.ts"),_=n("./src/framework/design-system/components/Box.tsx"),j=n("./src/framework/design-system/type/index.ts"),L=n("./src/framework/source/index.ts"),k=n("./src/styles/breakpoints.ts"),P=n("./src/svg/star-15px.svg"),I=n("./src/svg/unlisted-19px.svg"),M=n("./src/util/numbers.ts"),T=n("./src/util/routes.ts");function B(){var e=o()(["\n  fragment PostByline_post on Post {\n    id\n    isPublished\n    mediumUrl\n    firstPublishedAt\n    readingTime\n    statusForCollection\n    isLocked\n    visibility\n    collection {\n      name\n      id\n      slug\n      ...collectionUrl_collection\n    }\n    creator {\n      name\n      username\n      id\n      bio\n      isFollowing\n      ...UserAvatar_user\n    }\n  }\n  ","\n  ","\n"]);return B=function(){return e},e}var R={XS:{showFollowButton:!1,avatarScale:"XS"},S:{showFollowButton:!1,avatarScale:"S"},M:{showFollowButton:!0,avatarScale:"M"}},A=function(e,t){return h()({marginBottom:e?"2px":"0px",display:"flex",alignItems:"center"},k.xs(t),{marginBottom:"0px"})},D=function(e){function t(){return i()(this,t),u()(this,d()(t).apply(this,arguments))}return g()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.currentLocation,n=e.post,r=e.showBio,o=e.scale,a=void 0===o?"M":o,i=e.showStar,s=void 0===i?n.isLocked:i,l=e.hideCollection,c=void 0!==l&&l,u=n.id,m=n.creator,d=n.collection,p=n.statusForCollection,g=n.visibility,f=n.isPublished,h=R[a];if(!n||!u||!m)return null;var b=n.firstPublishedAt,y=m.username,v=m.name;if(!v||!y)return null;var k=x.createElement(C.d,{user:m,scale:h.avatarScale,link:!0}),B=r?x.createElement("div",null,m.bio):null,D="APPROVED"===p,N=h.showFollowButton?x.createElement(L.b,{source:{susiEntry:"follow_byline"}},x.createElement(_.a,{marginLeft:"8px",xs:{display:"none"},flexShrink:"0"},x.createElement(w.c,{user:m,buttonSize:"COMPACT"}))):null,z=x.createElement(O.K,null,(function(e){return x.createElement(O.M,null,(function(n){return x.createElement("div",{className:e(A(h.showFollowButton,n))},x.createElement(j.a,{scale:"M",tag:"span",color:"DARKER",clamp:1},x.createElement(O.u,{href:Object(T.Vb)(y),inline:!0},v),d&&D&&!c?x.createElement("span",null," ","in"," ",x.createElement(O.u,{href:Object(T.B)(d,t),inline:!0},d.name)):null),N)}))})),H=x.createElement(j.a,{scale:"M",tag:"span",clamp:1},B,x.createElement("div",null,f?x.createElement(O.u,{href:Object(T.lb)(n),inline:!0},b&&x.createElement(E.a,{timestamp:b})):x.createElement("span",null,"Draft")," ","·"," ","UNLISTED"===g?x.createElement(j.a,{scale:"S",tag:"span"},x.createElement(I.a,null)," Unlisted"):x.createElement(x.Fragment,null,Object(M.f)(n.readingTime||0)," min read"),s&&x.createElement("span",{style:{paddingLeft:"4px"}},x.createElement(P.a,{style:{marginTop:"-2px"}}))));return x.createElement(S.a,{avatar:k,title:z,description:H})}}]),t}(x.Component),N=y()(B(),C.b,T.C);t.b=Object(v.c)((function(e){return{currentLocation:e.navigation.currentLocation}}))(D)},"./src/components/post/PostHeader.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/graphql-tag/src/index.js"),i=n.n(a),s=n("./node_modules/react/index.js"),l=n("./node_modules/react-redux/es/index.js"),c=n("./src/components/audio/AudioPlayback.tsx"),u=n("./src/components/post/InResponseToPostPreview.tsx"),m=n("./src/components/post/PostPaywallAlert.tsx"),d=n("./src/framework/design-system/components/index.ts"),p=n("./src/framework/design-system/type/index.ts");function g(){var e=o()(["\n  fragment PostHeader_post on Post {\n    newsletterId\n    inResponseToPostResult {\n      ... on PostResult {\n        ...InResponseToPostPreview_postResult\n      }\n    }\n    ...InResponseToPostPreview_mediaResource\n    ...PostPaywallAlert_post\n    ...AudioPlayback_post\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return g=function(){return e},e}var f=Object(l.c)((function(e){return{isAmp:e.config.isAmp}}))((function(e){var t=e.post,n=e.isAmp;return s.createElement(d.B,{columns:8,display:"flex",flexDirection:"column"},!!t.newsletterId&&s.createElement(d.b,{md:{paddingTop:"10px",paddingBottom:"5px"},lg:{paddingTop:"15px",paddingBottom:"5px"},xl:{paddingTop:"15px",paddingBottom:"5px"},borderBottom:"BASE_LIGHTER",print:{display:"none"}},s.createElement(p.a,{scale:"M",color:"DARKER"},"LETTER")),s.createElement(u.a,{inResponseToPostResult:t.inResponseToPostResult,inResponseToMediaResource:t.inResponseToMediaResource,padding:"10px 0 0"}),!t.inResponseToPostResult&&s.createElement(m.a,{post:t}),t.audioVersionUrl&&!n&&s.createElement(c.a,{post:t}))})),h=i()(g(),u.c,u.b,m.b,c.b)},"./src/components/post/PostMetadata.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(a),s=n("./node_modules/graphql-tag/src/index.js"),l=n.n(s),c=n("./node_modules/react/index.js"),u=n("./node_modules/react-helmet-async/lib/index.module.js"),m=n("./node_modules/react-redux/es/index.js"),d=n("./src/components/collection/hooks/useCollectionFavicon.ts"),p=n("./src/components/post/NormalizePostBodyModel.ts"),g=n("./src/util/miroImage.ts"),f=n("./src/util/numbers.ts"),h=n("./src/util/post/metaDescription.ts"),b=n("./src/util/post/titleHelpers.ts"),y=n("./src/util/routes.ts"),x=n("./node_modules/serialize-javascript/index.js"),v=n.n(x),E=n("./src/util/navigation.ts");function S(){var e=o()(["\n  fragment PostJsonLd_post on Post {\n    id\n    title\n    mediumUrl\n    creator {\n      name\n      username\n    }\n    collection {\n      id\n      name\n      domain\n      slug\n      logo {\n        id\n        originalWidth\n        originalHeight\n      }\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n      originalWidth\n      originalHeight\n    }\n    isLocked\n    firstPublishedAt\n    updatedAt\n    tags {\n      displayTitle\n    }\n    topics {\n      name\n      slug\n    }\n    sequence {\n      slug\n    }\n    lockedSource\n    layerCake\n  }\n"]);return S=function(){return e},e}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O={TAG:"Tag",TOPIC:"Topic",PUBLICATION:"Publication",SEQUENCE:"Sequence",LOCKED_POST_SOURCE:"LockedPostSource",ELEVATED:"Elevated",LAYER_CAKE:"LayerCake",LITE:"Lite"};function _(e){var t=e.id,n=e.originalWidth,r=e.originalHeight;if(!t||!n||!r)return null;var o=Math.min(r,60),a=o/r,i=Math.floor(n*a);return j({width:i,height:o,url:Object(g.d)({miroId:t,width:i,freezeGifs:!0,strategy:g.a.Resample})})}function j(e){return w({"@type":"ImageObject"},e)}function L(e,t){return"".concat(e,":").concat(t)}var k=Object(m.c)((function(e){var t=e.config,n=t.productName,r=t.defaultImages,o=e.navigation;return{currentLocation:o.currentLocation,host:o.host,productName:n,defaultImages:r}}))((function(e){var t=e.currentLocation,n=e.host,r=e.post,o=e.postDescription,a=e.productName,i=e.defaultImages,s=r.collection,l=r.creator,m=r.id,d=r.mediumUrl,p=r.isLocked,f=r.title,h=r.previewImage,b=r.firstPublishedAt,x=r.updatedAt,S=r.tags,C=r.topics,k=r.sequence,P=r.lockedSource,I=r.layerCake,M={id:i.postLogo.imageId,originalWidth:i.postLogo.width,originalHeight:i.postLogo.height},T={id:i.orgLogo.imageId,originalWidth:i.orgLogo.width,originalHeight:i.orgLogo.height},B=s?{"@type":"Organization",name:s.name,url:s.domain||Object(E.b)(n,Object(y.B)(s,t)),logo:function(e){if(!e||!e.logo||!e.logo.id)return _(T);var t=_(e.logo);return t&&60===t.height&&t.width<=600?t:_(T)}(s)}:{"@type":"Organization",name:a,url:Object(E.b)(n,"/"),logo:_(T)},R=[L(O.LITE,"true")];S&&S.forEach((function(e){e.displayTitle&&R.push(L(O.TAG,e.displayTitle))})),C&&C.forEach((function(e){e.name?R.push(L(O.TOPIC,e.name)):e.slug&&R.push(L(O.TOPIC,e.slug))})),s&&s.slug&&R.push(L(O.PUBLICATION,s.slug)),R.push(L(O.ELEVATED,(!!k).toString())),k&&k.slug&&R.push(L(O.SEQUENCE,k.slug)),P&&R.push(L(O.LOCKED_POST_SOURCE,P)),null!=I&&R.push(L(O.LAYER_CAKE,I.toString()));var A=o||"",D=p?{isAccessibleForFree:"False",hasPart:{"@type":"WebPageElement",isAccessibleForFree:"False",cssSelector:".meteredContent"}}:{},N=w({"@context":"http://schema.org","@type":"NewsArticle",image:h&&h.id?function(e){var t=e.id,n=e.originalWidth,r=e.originalHeight,o=e.focusPercentX,a=e.focusPercentY;if(!t)return null;var i=Object(g.b)({miroId:t,aspectRatio:16/9,croppedWidth:1200,originalWidth:n,originalHeight:r,focusPercentX:o,focusPercentY:a}),s=Object(g.b)({miroId:t,aspectRatio:4/3,croppedWidth:1200,originalWidth:n,originalHeight:r,focusPercentX:o,focusPercentY:a}),l=Object(g.b)({miroId:t,aspectRatio:1,croppedWidth:1200,originalWidth:n,originalHeight:r,focusPercentX:o,focusPercentY:a}),c=new Set([i,s,l]);return Array.from(c)}(h):j({url:Object(g.d)({miroId:M.id,width:M.originalWidth}),height:M.originalHeight,width:M.originalWidth}),url:d,dateCreated:b&&new Date(b).toISOString(),datePublished:b&&new Date(b).toISOString(),dateModified:x&&new Date(x).toISOString(),headline:f,name:f,description:A,identifier:m,keywords:R.length?R:null,author:l&&l.name&&l.username?{"@type":"Person",name:l.name||l.username,url:Object(y.ab)(n,l.username)}:null,creator:l&&[l.name],publisher:B,mainEntityOfPage:d},D);return c.createElement(u.a,null,c.createElement("script",{type:"application/ld+json"},v()(N,{isJSON:!0})))})),P=l()(S());function I(){var e=o()(["\n  fragment PostMetadata_post on Post {\n    id\n    title\n    seoTitle\n    socialTitle\n    socialDek\n    canonicalUrl\n    mediumUrl\n    metaDescription\n    firstPublishedAt\n    latestPublishedAt\n    visibility\n    readingTime\n    creator {\n      name\n      username\n      twitterScreenName\n    }\n    sequence {\n      title\n    }\n    collection {\n      ampEnabled\n      domain\n      twitterUsername\n      facebookPageId\n      favicon {\n        id\n      }\n    }\n    previewContent {\n      subtitle\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n      originalHeight\n      originalWidth\n    }\n    isLimitedState\n    # please note that the postMeteringOptions are defined in the postHandler file\n    content(postMeteringOptions: $postMeteringOptions) {\n      bodyModel {\n        paragraphs {\n          type\n          text\n        }\n        ...GetTitleIndexMap_bodyModel\n      }\n    }\n    ...PostJsonLd_post\n    ...postMetaDescription_post\n  }\n  ","\n  ","\n  ","\n"]);return I=function(){return e},e}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}n.d(t,"a",(function(){return T}));t.b=Object(m.c)((function(e){return{host:e.navigation.host,productName:e.config.productName}}))((function(e){var t=e.isAmp,n=e.host,r=e.productName,o=e.post,a=o.canonicalUrl,s=o.collection,l=o.creator,m=o.firstPublishedAt,x=o.id,v=o.isLimitedState,E=o.latestPublishedAt,S=o.mediumUrl,C=o.previewContent,w=o.socialTitle,O=o.socialDek,_=o.visibility,j=s&&s.ampEnabled,L=l&&l.name,P=o.title||"",I=P;if(o.content&&o.content.bodyModel&&o.content.bodyModel.paragraphs){var T=o.content.bodyModel.paragraphs,B=Object(p.d)(T).titleIndex;"number"==typeof B&&(I=T[B].text)}var R,A,D=function(e,t){var n=e.seoTitle,r=e.title||"";return n?Object(b.a)(n,e.collection&&e.collection.name,t):r.length>50?r:(e.sequence&&e.sequence.title?r+=" - ".concat(e.sequence.title):e.collection&&e.collection.name?r+=" - ".concat(e.collection.name):e.creator&&e.creator.name&&(r+=" - ".concat(e.creator.name)),e.collection&&e.collection.domain?r:"".concat(r," - ").concat(t))}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o,{title:I}),r).trim(),N=Object(h.a)(o),z=O||C&&C.subtitle||N;if(o&&o.previewImage&&o.previewImage.id&&!o.isLimitedState){var H=o.previewImage;R=Object(g.b)({miroId:H.id,aspectRatio:1.9,croppedWidth:H.originalWidth?Math.min(H.originalWidth,1200):1200,originalWidth:H.originalWidth,originalHeight:H.originalHeight,focusPercentX:H.focusPercentX,focusPercentY:H.focusPercentY})}else if(o.isLimitedState){var F={id:"1*3SjgcTt7wCYYS10ff6-0JQ.png",originalWidth:748,originalHeight:390,focusPercentX:50,focusPercentY:40};R=Object(g.b)({miroId:F.id,aspectRatio:1.9,croppedWidth:F.originalWidth?Math.min(F.originalWidth,1200):1200,originalWidth:F.originalWidth,originalHeight:F.originalHeight,focusPercentX:F.focusPercentX,focusPercentY:F.focusPercentY})}l&&l.username&&(A=Object(y.ab)(n,l.username));var U=Object(y.j)(x),X=!m||"PUBLIC"!==_&&"LOCKED"!==_||v,W=E&&new Date(E).toISOString(),V=Object(f.f)(o.readingTime||0),G=l&&l.twitterScreenName,q=s&&s.twitterUsername||"Medium",$=s&&s.facebookPageId;Object(d.a)({domain:s&&s.domain,favicon:s&&s.favicon});var Y=c.useMemo((function(){return c.createElement(u.a,{htmlAttributes:t?{amp:void 0}:{}},c.createElement("meta",{property:"og:type",content:"article"}),W&&c.createElement("meta",{property:"article:published_time",content:W}),j&&!t?c.createElement("link",{rel:"amphtml",href:Object(y.d)(n,x)}):null,c.createElement("title",null,D),c.createElement("meta",{name:"title",content:D}),c.createElement("meta",{property:"og:title",content:w||(P||I)}),c.createElement("meta",{property:"twitter:title",content:w||(P||I)}),$&&c.createElement("meta",{property:"fb:pages",content:$}),c.createElement("meta",{name:"twitter:site",content:"@".concat(q)}),c.createElement("meta",{name:"twitter:app:url:iphone",content:U}),c.createElement("meta",{property:"al:android:url",content:U}),c.createElement("meta",{property:"al:ios:url",content:U}),c.createElement("meta",{property:"al:android:app_name",content:"Medium"}),N&&c.createElement("meta",{name:"description",content:N}),z&&c.createElement("meta",{property:"og:description",content:z}),z&&c.createElement("meta",{property:"twitter:description",content:z}),c.createElement("meta",{property:"og:url",content:S}),c.createElement("meta",{property:"al:web:url",content:S}),R&&c.createElement("meta",{property:"og:image",content:R}),R&&c.createElement("meta",{name:"twitter:image:src",content:R}),c.createElement("meta",{name:"twitter:card",content:R?"summary_large_image":"summary"}),A&&c.createElement("meta",{property:"article:author",content:A}),A&&c.createElement("link",{rel:"author",href:A}),G&&c.createElement("meta",{name:"twitter:creator",content:"@".concat(G)}),L&&c.createElement("meta",{name:"author",content:L}),c.createElement("link",{rel:"canonical",href:a||S}),c.createElement("link",{rel:"alternate",href:Object(y.g)(Object(y.mb)("medium.com",o.id))}),c.createElement("meta",{name:"robots",content:"".concat(X?"noindex":"index",",follow")}),c.createElement("meta",{name:"referrer",content:"UNLISTED"!==_?"unsafe-url":"origin"}),t?null:c.createElement("meta",{name:"twitter:label1",value:"Reading time"}),t?null:c.createElement("meta",{name:"twitter:data1",value:"".concat(V," min read")}),c.createElement("meta",{name:"parsely-post-id",content:x}))}),[t,D,a,S,R,j,x,w,N,A,L,G,U,X,W]);return c.createElement(c.Fragment,null,Y,c.createElement(k,{post:o,postDescription:N}))}));var T=l()(I(),P,h.b,p.b)},"./src/components/post/PostPaywallAlert.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return O}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(a),s=n("./node_modules/graphql-tag/src/index.js"),l=n.n(s),c=n("./node_modules/react/index.js"),u=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),m=n("./src/components/session/WithViewer.tsx"),d=n("./src/framework/design-system/components/index.ts"),p=n("./src/framework/design-system/type/Detail.tsx"),g=n("./src/util/routes.ts");function f(){var e=o()(["\n  mutation PostPaywallAlertMutation($postId: ID!) {\n    dismissDistributionAlert(postId: $postId)\n  }\n"]);return f=function(){return e},e}function h(){var e=o()(["\n  fragment PostPaywallAlert_post on Post {\n    id\n    visibility\n    lockedSource\n    curationEligibleAt\n    collection {\n      isEnrolledInHightower\n      viewerIsEditor\n    }\n    creator {\n      id\n      isPartnerProgramEnrolled\n    }\n    isDistributionAlertDismissed\n  }\n"]);return h=function(){return e},e}var b="Only you can see this message",y=function(){return c.createElement(d.u,{href:Object(g.H)(),target:"_blank",inline:!0,linkStyle:"OBVIOUS"},"Learn more")},x=function(){return c.createElement(d.u,{href:Object(g.G)(),target:"_blank",inline:!0,linkStyle:"OBVIOUS"},"Learn more")},v=function(){return c.createElement(c.Fragment,null,"This story's distribution setting is off. ",c.createElement(y,null))},E={LOCKED:function(){return c.createElement(c.Fragment,null,"This story's distribution setting is on. ",c.createElement(x,null))},PUBLIC:v,UNLISTED:v},S={LOCKED:function(){return c.createElement(c.Fragment,null,"This story's distribution setting is on. You're in the Partner Program, so this story is eligible to earn money. ",c.createElement(x,null))},PUBLIC:function(){return c.createElement(c.Fragment,null,"This story's distribution setting is off and it won't earn money in the Partner Program."," ",c.createElement(y,null))},UNLISTED:v};function C(e){var t=e.post,n=e.viewer,r=Object(u.c)(_),o=i()(r,1)[0],a=t.collection,s=t.lockedSource,l=t.creator,m=t.visibility,g=t.curationEligibleAt,f=t.isDistributionAlertDismissed,h=!(!n||!t.creator||n.id!==t.creator.id),y=!(!t.collection||!t.collection.viewerIsEditor);if(!h&&!y||f)return null;var x=a&&a.isEnrolledInHightower,v="LOCKED_POST_SOURCE_UGC"===s,C=h&&l&&l.isPartnerProgramEnrolled,w=v&&(y&&x||C&&!x)?S:E,O=!!(g&&g>0)?w.LOCKED:w[m];return c.createElement(d.J,{initialVisibility:!0},(function(e){var n=e.hide;return e.isVisible&&c.createElement(d.b,{border:"BASE_LIGHT",borderRadius:"4px",position:"relative",marginTop:"24px",marginBottom:"15px"},c.createElement(d.g,{onClick:function(){n(),o({variables:{postId:t.id}})},size:"LARGE"}),c.createElement(d.b,{padding:"20px"},c.createElement(d.b,{marginBottom:"8px"},c.createElement("i",null,c.createElement(p.a,{scale:"S"},b))),c.createElement(p.a,{scale:"M",color:"DARKER"},c.createElement(O,null))))}))}function w(e){var t=e.post;return c.createElement(m.b,null,(function(e){return c.createElement(C,{post:t,viewer:e})}))}var O=l()(h()),_=l()(f())},"./src/components/post/PostPublishedDialog.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return P}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/graphql-tag/src/index.js"),i=n.n(a),s=n("./node_modules/react/index.js"),l=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),c=n("./node_modules/react-redux/es/index.js"),u=n("./src/components/session/WithFlag.tsx"),m=n("./src/components/session/WithViewer.tsx"),d=n("./src/components/social/ShareButton.tsx"),p=n("./src/framework/design-system/components/index.ts"),g=n("./src/framework/design-system/type/index.ts"),f=n("./src/framework/design-system/util/type/headingSizeRule.ts"),h=n("./src/framework/style/index.ts"),b=n("./src/styles/colors.ts"),y=n("./src/util/CopyUrl.tsx"),x=n("./src/util/navigation.ts"),v=n("./src/util/routes.ts");function E(){var e=o()(["\n  fragment PostPublishedDialog_prerequisite_post on Post {\n    id\n    creator {\n      id\n    }\n    collection {\n      id\n      viewerIsEditor\n    }\n  }\n"]);return E=function(){return e},e}function S(){var e=o()(["\n  query PostPublishedDialogQuery($postId: ID!) {\n    post(id: $postId) {\n      id\n      ...PostPublishedDialog_post\n    }\n  }\n  ","\n"]);return S=function(){return e},e}function C(){var e=o()(["\n  fragment PostPublishedDialog_post on Post {\n    id\n    inResponseToPostResult {\n      __typename\n    }\n    visibility\n    curationEligibleAt\n    mediumUrl\n    shareKey\n    ...ShareButton_post\n  }\n  ","\n"]);return C=function(){return e},e}var w=i()(C(),d.b),O=i()(S(),w),_=function(e){var t=e.url,n=e.label;return s.createElement(y.a,{url:t},(function(e){return s.createElement(p.b,{marginBottom:"8px"},s.createElement(p.c,{buttonStyle:"SOCIAL",size:"REGULAR",width:"212px",onClick:function(e){return e}},s.createElement(p.b,{display:"flex",alignItems:"center",justifyContent:"center"},e?"Copied!":n)))}))},j=function(e){var t=e.post,n=e.isUnlisted,r=e.postPath;e.authDomain;return s.createElement(p.b,{display:"flex",flexDirection:"column",alignItems:"center"},s.createElement(g.a,{color:"DARKER",scale:"L",tag:"p"},function(e){return e?"Share your story outside Medium.":"Share your story with the world."}(n)),s.createElement(p.b,{marginTop:"20px"},!n&&s.createElement(s.Fragment,null,s.createElement(p.b,{marginBottom:"8px"},s.createElement(d.a,{socialPlatform:"FACEBOOK",buttonStyle:"BUTTON_BRANDED",post:t})),s.createElement(p.b,{marginBottom:"8px"},s.createElement(d.a,{socialPlatform:"TWITTER",buttonStyle:"BUTTON_BRANDED",post:t})),s.createElement(u.a,{name:"share_post_linkedin"},(function(e){return e?s.createElement(p.b,{marginBottom:"8px"},s.createElement(d.a,{socialPlatform:"LINKEDIN",buttonStyle:"BUTTON_BRANDED",post:t})):null}))),s.createElement(_,{url:r,label:"Copy story link"})))},L=function(e){var t=e.isVisible,n=e.hide,r=e.post,o=e.authDomain,a=Object(h.useCx)(),i=r.id,l=r.visibility,c=r.curationEligibleAt,u=r.mediumUrl,m=r.shareKey,d="UNLISTED"===l,y=!!c,E=Object(f.b)("h3");return s.createElement(p.j,{isVisible:t,hide:n,withAnimation:!0,withCloseButton:!1},s.createElement(p.b,{background:b.D,borderRadius:"4px",boxShadow:"0 2px 10px ".concat(Object(b.y)(.15)),position:"relative",width:"900px",textAlign:"center",md:{width:"600px"},sm:{width:"calc(100vw - 128px)"}},s.createElement(p.g,{onClick:n,size:"LARGE"}),s.createElement(p.b,{padding:"56px",display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"485px"},s.createElement(p.b,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},s.createElement("h3",{className:a(E)},"Your story is published!"),s.createElement(p.b,{maxWidth:"520px",marginTop:"20px"},s.createElement(g.a,{color:"DARKER",scale:"L",tag:"p"},function(e,t){return e?"Your unlisted story will not appear publicly on Medium, but you can still share it.":t?"If our curators recommend your story to readers by adding it to relevant topics, we will email you to let you know. Recommended stories are part of Medium's metered paywall, and you can use the custom Friend Link below to give anyone who clicks it free access to your story.":"You chose not to make this story eligible for review by curators and distribution through Medium topics. Your story will only be shared on Medium with readers who follow you."}(d,y))),s.createElement(p.b,{paddingTop:"20px"},y&&!d&&u&&m&&s.createElement(_,{url:Object(x.a)(Object(v.lb)(r),{sk:m}),label:"Copy Friend Link"})),s.createElement(p.b,{borderBottom:"BASE_LIGHTER",width:"100%",margin:"20px 0"})),i&&u&&s.createElement(j,{post:r,isUnlisted:d,postPath:Object(v.lb)(r),authDomain:o}))))},k=Object(c.c)((function(e){return{authDomain:e.config.authDomain}}))((function(e){var t=e.post;return s.createElement(m.b,null,(function(n){return n&&n.id&&(n.id===(t.creator&&t.creator.id)||t.collection&&t.collection.viewerIsEditor)?s.createElement(l.b,{ssr:!1,query:O,variables:{postId:t.id}},(function(t){var n=t.loading,r=t.data,o=(r=void 0===r?{}:r).post;if(n||!o||o.inResponseToPostResult)return null;var a={authDomain:e.authDomain,isVisible:e.isVisible,hide:e.hide,post:o};return s.createElement(L,a)})):null}))})),P=i()(E())},"./src/components/post/PostSidebar.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return D})),n.d(t,"a",(function(){return N}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(a),s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),l=n.n(s),c=n("./node_modules/graphql-tag/src/index.js"),u=n.n(c),m=n("./node_modules/react/index.js"),d=n("./node_modules/react-redux/es/index.js"),p=n("./src/WatchBounds.tsx"),g=n("./src/components/collection/CollectionFollowButton.tsx"),f=n("./src/components/metabar/constants.ts"),h=n("./src/components/post/bookmark/index.ts"),b=n("./src/components/post/bookmark/PostPageBookmarkButton.tsx"),y=n("./src/components/post/multivote/MultiVote.tsx"),x=n("./src/components/read-next/ReadNext.tsx"),v=n("./src/components/session/WithFlag.tsx"),E=n("./src/framework/design-system/components/index.ts"),S=n("./src/framework/design-system/type/index.ts"),C=n("./src/framework/source/index.ts"),w=n("./src/framework/style/index.ts"),O=n("./src/framework/track/index.ts"),_=n("./src/styles/breakpoints.ts"),j=n("./src/styles/mediaTypes.ts"),L=n("./src/util/dom.ts"),k=n("./src/util/routes.ts");function P(){var e=o()(["\n  fragment PostSidebar_post on Post {\n    id\n    clapCount\n    collection {\n      id\n      description\n      ...CollectionFollowButton_collection\n      ...collectionUrl_collection\n    }\n    ...BookmarkButton_post\n    ...CollectionFollowButton_post\n    ...MultiVote_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return P=function(){return e},e}var I=131,M=function(e,t){return function(n){var r,o=_.lg(n);return t&&(o=Object(j.a)(n,I,n.grid.xStep*n.grid.marginSteps.lg)),r={opacity:e?1:0,pointerEvents:"none",willChange:"opacity",position:"fixed",width:"100%",top:"calc(".concat(f.a,"px + 54px + 40px)")},l()(r,Object(j.b)("no-preference"),{transition:"opacity 200ms"}),l()(r,o,{display:"none"}),r}},T=function(e){return{pointerEvents:e?"auto":"none"}},B=function(e){var t;return t={opacity:e?1:0,pointerEvents:e?"auto":"none",willChange:"opacity",position:"fixed",width:"188px",left:"50%",transform:"translateX(406px)",top:"calc(".concat(f.a,"px + 54px + 14px)")},l()(t,Object(j.b)("no-preference"),{transition:"opacity 200ms"}),l()(t,"@media all and (max-width: 1230px)",{display:"none"}),t};var R=function(e,t){return function(){var n=new IntersectionObserver((function(n){var r=e.get("ghost-track");if(r){var o=n.find((function(e){return e.target===r.ref.current}));o&&t(o.isIntersecting)}else t(!1)}));return e.forEach((function(e){e.ref.current&&n.observe(e.ref.current)})),function(){n.disconnect()}}},A=function(e){return function(){return O.a.on("scroll_throttled",e),O.a.on("scroll_end",e),O.a.on("resize_throttled",e),function(){O.a.off("scroll_throttled",e),O.a.off("scroll_end",e),O.a.off("resize_throttled",e)}}};var D=u()(P(),g.c,k.C,g.b,h.b,y.b),N=Object(d.c)((function(e){return{currentLocation:e.navigation.currentLocation}}))((function(e){var t=e.currentLocation,n=e.isClearOfBounds,r=e.isOnPage,o=e.post,a=Object(w.useCx)(),s=m.useContext(p.b).watchedBounds,l=m.useState(r||!1),c=i()(l,2),u=c[0],d=c[1],f=m.useState(n||!1),h=i()(f,2),O=h[0],_=h[1],j=m.useRef(null),P=m.useRef(null),D=o.collection;m.useEffect(R(s,d),[s]);var N=m.useCallback(function(e,t,n,r,o){return function(){var a=e.current,i=t.current;if(a){var s=o.threshold||10,l=["image","bgimage","footer","byline","title","header"],c=Array.from(n.values()).filter((function(e){var t=e.ref,n=e.opts;return l.includes(n.type)&&!!t.current})).map((function(e){var t=e.ref,n=e.opts,r=n&&n.offset,o=Object(L.a)(t.current);return Object(L.h)(o,r)})),u=Object(L.a)(a),m=!c.some((function(e){return Object(L.f)(e,u,s)})),d=!0;if(i){var p=Object(L.a)(i);d=!c.some((function(e){return Object(L.f)(e,p,s)}))}r(m&&d)}}}(j,P,s,_,{threshold:10}),[s,_]);m.useEffect(A(N),[N]);var z=u&&O;return m.createElement(C.b,{source:{susiEntry:"post_sidebar",name:"post_sidebar"}},m.createElement(v.a,{name:"enable_different_grid"},(function(e){return m.createElement("div",{className:a(M(z,e)),"data-test-id":"post-sidebar"},m.createElement(E.w,{size:"outset"},m.createElement(E.b,{display:"flex",flexDirection:"column",width:"".concat(I,"px"),ref:j},m.createElement("div",{className:a(T(z))},D&&m.createElement(E.b,{paddingBottom:"28px",borderBottom:"BASE_LIGHTER"},D.name&&m.createElement(E.u,{href:Object(k.B)(D,t)},m.createElement(S.b,{scale:"XS"},D.name)),D.description&&m.createElement(E.b,{paddingTop:"2px",paddingBottom:"20px"},m.createElement(S.a,{scale:"M",clamp:6},D.description)),m.createElement(C.b,{source:{susiEntry:"follow_sidebar"},extendSource:!0},m.createElement(g.a,{collection:D,post:o}))),m.createElement(C.b,{source:{susiEntry:"clap_sidebar"},extendSource:!0},m.createElement(E.b,{display:"flex",marginBottom:"19px",marginLeft:"-5px",paddingTop:"28px"},m.createElement(y.a,{post:o,buttonStyle:"SUBTLE_PADDED",hasDialog:!0}))),m.createElement(b.a,{post:o})))))})),m.createElement("div",{className:a(B(z)),ref:P},m.createElement(x.a,{postId:o.id,isVisible:z})))}))},"./src/components/post/body/InteractivePostBody.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(a),s=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),l=n.n(s),c=n("./node_modules/graphql-tag/src/index.js"),u=n.n(c),m=n("./node_modules/react/index.js"),d=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),p=n("./src/components/post/body/ActivePrivateNoteContext.tsx"),g=n("./src/components/post/body/ActiveSelectionContext.tsx"),f=n("./src/components/post/body/ParagraphRefsMapContext.tsx"),h=n("./src/components/post/body/PostBody.tsx"),b=n("./src/components/post/markups/HighlightSegmentsContext.tsx"),y=n("./src/util/typeGuards.ts");function x(){var e=l()(["\n  fragment NormalizeHighlights_paragraph on Paragraph {\n    name\n    text\n  }\n"]);return x=function(){return e},e}function v(){var e=l()(["\n  fragment NormalizeHighlights_highlight on Quote {\n    endOffset\n    startOffset\n    paragraphs {\n      name\n      text\n    }\n  }\n"]);return v=function(){return e},e}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e,t,n){if(!e||"number"!=typeof t||"number"!=typeof n)return null;var r=t,o=n;return e.substr(r,o-r)}function C(e,t){return e&&t?e.map((function(e){var n=e.endOffset,r=e.startOffset,a=e.paragraphs&&e.paragraphs[0],i=function(e,t){return e?t.find((function(t){var n=t.name;return e===n})):null}(a.name,t);if(!a||!i)return null;var s=S(a.text,r,n),l=S(i.text,r,n);if(!s||!l)return null;if(s===l)return e;var c=i.text?i.text.indexOf(s):null;return"number"!=typeof c||c<0?null:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{endOffset:c+s.length,startOffset:c})})).filter(y.a):e}var w=u()(v()),O=u()(x()),_=n("./src/components/session/WithFlag.tsx"),j=n("./src/components/session/WithViewer.tsx");function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(){var e=l()(["\n  query InteractivePostBodyQuery($postId: ID!, $showHighlights: Boolean!, $showNotes: Boolean!) {\n    post(id: $postId) {\n      id\n      highlights @include(if: $showHighlights) {\n        id\n        ...ActiveSelectionContext_highlight\n        ...HighlighSegmentContext_highlight\n        ...NormalizeHighlights_highlight\n        ...PostBody_highlight\n      }\n      privateNotes @include(if: $showNotes) {\n        ...PostBody_privateNote\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return P=function(){return e},e}function I(){var e=l()(["\n  fragment InteractivePostBody_post on Post {\n    id\n    # please note that the postMeteringOptions is defined in handlers that use InteractivePostBody\n    # (PostHandler and SequencePostHandler)\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n      bodyModel {\n        ...PostBody_bodyModel\n        paragraphs {\n          ...HighlighSegmentContext_paragraph\n          ...NormalizeHighlights_paragraph\n        }\n      }\n    }\n    creator {\n      id\n      allowNotes\n      ...PostBody_creator\n    }\n    ...ActiveSelectionContext_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return I=function(){return e},e}n.d(t,"a",(function(){return M}));var M=u()(I(),g.c,b.b,O,h.a,h.b),T=u()(P(),g.b,b.a,h.c,h.d,w),B=m.forwardRef((function(e,t){var n=e.post,r=e.postBodyInserts,o=e.activeGrafId,a=e.activeNoteId,s=n.content,l=n.latestPublishedVersion;if(!s)throw new Error("Expected post to have content.");var c={bodyModel:s.bodyModel,creator:n.creator,postBodyInserts:r,ref:t,richTextStyle:"FULL_PAGE"},u=n&&n.creator&&n.creator.allowNotes||!1;return m.createElement(_.a,{name:"enable_lite_post_highlights_view_only",nonBlocking:!0},(function(e){return s.isLockedPreviewOnly||!e?m.createElement(h.e,c):m.createElement(d.b,{notifyOnNetworkStatusChange:!0,ssr:!1,query:T,variables:{postId:n.id,showHighlights:e,showNotes:u}},(function(e){var t=e.data,r=(t=void 0===t?{}:t).post,u=s.bodyModel&&s.bodyModel.paragraphs,d=C(r&&r.highlights||null,u),y=r&&r.privateNotes||null;return m.createElement(f.b,null,m.createElement(_.a,{name:"enable_lite_post_highlights",nonBlocking:!0},(function(e){var t=m.createElement(h.e,i()({},c,{highlights:d,privateNotes:y}));return e?m.createElement(p.a,{initialActivePrivateNoteId:a,initialActiveGrafName:o},m.createElement(g.d,{interactivePost:k({},n,{latestPublishedVersion:l}),highlights:d},m.createElement(j.b,{nonBlocking:!0},(function(e){return m.createElement(b.d,{highlights:d,paragraphs:u,viewer:e},t)})))):t})))}))}))}));t.b=B},"./src/components/post/body/PostBody.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(a),s=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),l=n.n(s),c=n("./node_modules/graphql-tag/src/index.js"),u=n.n(c),m=n("./node_modules/react/index.js"),d=n("./src/WatchBounds.tsx"),p=n("./src/framework/style/index.ts"),g=n("./src/styles/font.ts"),f={border:"none",marginTop:"30px",textAlign:"center",":before":{content:'"..."',letterSpacing:"0.6em",textIndent:"0.6em",fontStyle:"italic",lineHeight:"1.4"}};function h(){var e=Object(p.useCx)();return m.createElement("hr",{className:e([Object(g.b)({fontSize:28}),f])})}var b=n("./src/components/post/PostBodySection.tsx"),y=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),x=n.n(y),v=n("./node_modules/@babel/runtime/helpers/typeof.js"),E=n.n(v),S=n("./node_modules/pluralize/pluralize.js"),C=n.n(S),w=n("./src/components/user/UserAvatar.tsx"),O=n("./src/framework/design-system/components/index.ts"),_=n("./src/framework/design-system/type/Overline.tsx"),j=n("./src/framework/track/index.ts");function L(){var e=o()(["\n  fragment PostNotesDetails_user on User {\n    id\n    imageId\n    name\n    username\n    ...UserAvatar_user\n  }\n  ","\n"]);return L=function(){return e},e}function k(e){var t=e.grid.xStep;return{padding:"".concat(3*t,"px ").concat(4*t,"px ").concat(3*t,"px"),width:"400px"}}var P=m.memo((function(e){var t=e.close,n=e.users,r=Object(p.useCx)(),o=m.useRef(),a=Object(p.useTheme)(),i=a.grid.xStep;return m.useEffect((function(){function e(){var e=o.current;if(e&&e.getBoundingClientRect){var n=e.getBoundingClientRect(),r=n.bottom,i=n.top<0||r>window.innerHeight,s=window.innerWidth<a.breakpoints.xl;(i||s)&&t()}}return j.a.on("scroll_end",e),j.a.on("resize_throttled",e),function(){j.a.off("scroll_end",e),j.a.off("resize_throttled",e)}}),[]),m.createElement("section",{ref:o,className:r(k)},m.createElement(O.b,{borderBottom:"BASE_LIGHTER",marginBottom:"-".concat(i,"px"),paddingBottom:"".concat(2*i,"px")},m.createElement(_.a,null,"Highlights (".concat(n.length,")"))),m.createElement(O.b,{marginLeft:"3px"},n.length&&n.map((function(e,t){return m.createElement(O.b,{display:"inline-block",key:e.id,marginTop:"".concat(5*i,"px"),marginRight:"".concat(5*i,"px"),width:"".concat(8*i,"px")},m.createElement(w.d,{hasPopover:!0,link:!0,user:e,scale:"XS"}))}))))})),I=u()(L(),w.b),M=n("./src/components/post/markups/HighlightSegmentsContext.tsx"),T=n("./src/components/post/notes/PostAnnotationsPopover.tsx"),B=n("./src/components/post/paragraph/IframeParagraph/iframePostMessageNormalizer.ts"),R=n("./src/components/session/WithViewer.tsx"),A=n("./src/framework/design-system/type/Detail.tsx"),D=n("./src/framework/design-system/util/style/converters.ts"),N=n("./src/util/typeGuards.ts");function z(){var e=o()(["\n  fragment PostNotesMarkers_creator on User {\n    id\n    name\n    isFollowing\n  }\n"]);return z=function(){return e},e}function H(){var e=o()(["\n  fragment PostNotesMarkers_highlight on Quote {\n    id\n    endOffset\n    paragraphs {\n      id\n      name\n    }\n    startOffset\n    userId\n    user {\n      id\n      name\n      ...PostNotesDetails_user\n    }\n  }\n  ","\n"]);return H=function(){return e},e}function F(){return{border:"none",cursor:"pointer",display:"block",padding:"0px",textAlign:"left",width:"100%"}}function U(){return{left:"100%",position:"absolute",top:0}}function X(e,t){return{marginTop:"6px",maxWidth:"100%",position:"absolute",top:"".concat(e-(t||0),"px"),whiteSpace:"nowrap",width:"100%"}}function W(e){return{marginLeft:"auto",marginRight:"auto",maxWidth:"".concat(Object(D.a)(e,8,!0),"px"),position:"relative"}}function V(){return{display:"inline-block",maxWidth:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}function G(e,t){return"number"==typeof e.startOffset&&"number"==typeof t.startOffset?e.startOffset<t.startOffset?-1:1:-1}function q(e,t){var n=t.startOffset,r=t.endOffset,o=t.paragraphs[0].name;if(!o||"number"!=typeof n||"number"!=typeof r)return e;var a=!1,i=e[o]||[];return i.length&&(i=i.map((function(e){var o=n<=e.endOffset+1,i=e.startOffset,s=e.endOffset;return o&&(a=!0,e.highlights.push(t),s=Math.max(r,e.endOffset),i=Math.min(n,e.startOffset)),{highlights:e.highlights,endOffset:s,startOffset:i}}))),a||i.push({highlights:[t],endOffset:r,startOffset:n}),e[o]=i,e}function $(e,t,n){var r=new Map;if(e.size&&t.length){var o=function(e){var t=l()(e).sort(G).reduce(q,{});return Object.values(t).reduce((function(e,t){return t&&"object"===E()(t)&&t.length?(e.push.apply(e,l()(t)),e):e}),[])}(t),a=[];o.forEach((function(t){var o=t.highlights[0],i=o.paragraphs[0].name;if(o&&"number"==typeof o.startOffset&&i){var s=e.get("".concat(i,"_").concat(o.startOffset));if(s&&s.ref&&s.ref.current){var l,c=s.ref.current.getBoundingClientRect().top+window.pageYOffset;a.length&&(l=a.find((function(e){return c<e+n.newFonts.body.lineHeight.M&&c>e||c>e-n.newFonts.body.lineHeight.M&&c<e})));var u=l||c,m=r.get(u)||[];m.length||a.push(u);var d=m.concat(t.highlights);d.length&&r.set(u,d)}}}))}return r}function Y(e){var t=e.children,n=e.highlightString,r=e.toggle,o=Object(p.useCx)();return"Top highlight"===n?m.createElement(m.Fragment,null,t):m.createElement("button",{className:o(F),onClick:function(){return r()},onMouseDown:function(e){return e.preventDefault()}},t)}function K(e){var t=e.creator,n=e.positionMap,r=e.yPosOffset,o=Object(p.useCx)();if("number"!=typeof r)return null;var a=Array.from(n.entries());return m.createElement(R.b,{nonBlocking:!0},(function(e){return m.createElement(m.Fragment,null,a.map((function(n,a){var i=x()(n,2),s=i[0],l=i[1],c=function(e,t,n){if(1===e.length){if("anon"===e[0].userId)return"Top highlight";if(!t)return null;if(n&&n.id===e[0].userId&&t.id!==n.id&&!n.isFollowing)return null;if(t&&t.id===e[0].userId)return"You highlighted";if(e[0].user&&e[0].user.name)return e[0].user.name}var r=[];if(e.forEach((function(e){if(e.user){var o=t&&t.id===e.userId,a=e.user.name,i=n&&n.id===e.userId&&(!t||t.id!==n.id&&!n.isFollowing);o?r.length&&"You"===r[0]||r.unshift("You"):i||!a||r.includes(a)||r.push(a)}})),!r.length)return"Top highlight";if(1===r.length)return"You"===r[0]?"You highlighted":r[0];if(2===r.length)return"".concat(r[0]," and ").concat(r[1]);var o=r.slice(0,2),a=r.length-o.length;return"".concat(o[0],", ").concat(o[1],", and ").concat(a," ").concat(C()("other",a))}(l,e,t);return c?m.createElement("div",{className:o(X(s,r)),key:a},m.createElement(O.J,null,(function(e){var t=e.isVisible,n=e.hide,r=e.toggle;return m.createElement(m.Fragment,null,m.createElement(Y,{toggle:r,highlightString:c},m.createElement(A.a,{scale:"S"},m.createElement("span",{className:o(V)},c))),t&&m.createElement(T.a,{boundariesElement:"window",isVisible:!0,hide:n,placement:"right",popoverRenderFn:function(){var e=new Set,t=l.map((function(t){var n=t.user;return n&&n.id&&!e.has(n.id)?(e.add(n.id),n):null})).filter(N.a);return m.createElement(P,{close:n,users:t})}},m.createElement(m.Fragment,null)))}))):null})))}))}var Q=m.forwardRef((function(e,t){var n=e.creator,r=e.highlights,o=m.useContext(M.c).highlightSegments,a=m.useRef(null),i=m.useState(null),s=x()(i,2),l=s[0],c=s[1],u=Object(p.useCx)(),d=Object(p.useTheme)(),g=m.useState(null),f=x()(g,2),h=f[0],b=f[1],y=m.useState(null),v=x()(y,2),E=v[0],S=v[1];return m.useEffect((function(){var e=function(){var e=$(o,r,d);if(c(e),"function"!=typeof t&&(null==t?void 0:t.current)&&S(t.current.offsetTop),null==a?void 0:a.current){var n=a.current.getBoundingClientRect().left,i=window.innerWidth-n-8*d.grid.xStep;b(i)}};j.a.on("resize_throttled",e);var n=Object(B.a)((function(t){"iframe.resize"!==t.context&&"player.js"!==t.context||e()})).destructor;return e(),function(){j.a.off("resize_throttled",e),n()}}),[r,o]),m.createElement("div",{className:u(W)},m.createElement(O.b,{display:"block",xs:{display:"none"},sm:{display:"none"},md:{display:"none"},lg:{display:"none"}},m.createElement("aside",{className:u(U),ref:a,style:{width:h?"".concat(h,"px"):void 0}},l&&m.createElement(K,{creator:n,highlights:r,positionMap:l,yPosOffset:E,width:h}))))})),J=m.memo(Q),Z=u()(H(),I),ee=u()(z()),te=n("./src/components/post/body/ActivePrivateNoteContext.tsx"),ne=n("./src/util/richText.ts");function re(){var e=o()(["\n  fragment PostBody_privateNote on Note {\n    ...normalizedBodyModel_privateNote\n    ...PostBodySection_privateNote\n  }\n  ","\n  ","\n"]);return re=function(){return e},e}function oe(){var e=o()(["\n  fragment PostBody_creator on User {\n    ...PostNotesMarkers_creator\n  }\n  ","\n"]);return oe=function(){return e},e}function ae(){var e=o()(["\n  fragment PostBody_highlight on Quote {\n    paragraphs {\n      id\n    }\n    ...normalizedBodyModel_highlight\n    ...PostBodySection_highlight\n    ...PostNotesMarkers_highlight\n  }\n  ","\n  ","\n  ","\n"]);return ae=function(){return e},e}function ie(){var e=o()(["\n  fragment PostBody_bodyModel on RichText {\n    sections {\n      name\n      startIndex\n      textLayout\n      imageLayout\n      backgroundImage {\n        id\n        originalHeight\n        originalWidth\n      }\n      videoLayout\n      backgroundVideo {\n        videoId\n        originalHeight\n        originalWidth\n        previewImageId\n      }\n    }\n    paragraphs {\n      id\n      ...PostBodySection_paragraphs\n    }\n    ...normalizedBodyModel_richText\n  }\n  ","\n  ","\n"]);return ie=function(){return e},e}n.d(t,"a",(function(){return ce})),n.d(t,"c",(function(){return ue})),n.d(t,"b",(function(){return me})),n.d(t,"d",(function(){return de}));var se=function(){return{position:"absolute",left:0,top:"calc(100vh + ".concat(100,"px)"),bottom:"calc(100vh + ".concat(100,"px)"),width:"10px",pointerEvents:"none"}},le=m.forwardRef((function(e,t){var n=e.bodyModel,r=e.creator,o=e.highlights,a=e.privateNotes,s=e.postBodyInserts,c=e.richTextStyle,u=void 0===c?"FULL_PAGE":c,g=Object(p.useCx)(),f=Object(te.b)().privateNoteSelection,y=m.useMemo((function(){return o&&f?[].concat(l()(o),[f]):o}),[o,f]),x=m.useMemo((function(){return Object(ne.f)(n,{highlights:y,privateNotes:a,richTextStyle:u})}),[n,y,a,u]),v=s&&s.first;return m.createElement("div",{ref:t},m.createElement(m.Fragment,null,m.createElement(d.a,{name:"ghost-track",type:"ghost",className:g(se)}),"FULL_PAGE"===u&&o&&o.length>0&&m.createElement(J,{creator:r,highlights:l()(o),ref:t}),!!v&&m.createElement("section",{className:g({marginBottom:"20px"})},v.component)),x.map((function(e,t){if("HR"===e){var n,r,o=x[t-1],a=x[t+1],l="HR"!==o&&(null==o?void 0:null===(n=o.section)||void 0===n?void 0:n.backgroundImage),c="HR"!==a&&(null==a?void 0:null===(r=a.section)||void 0===r?void 0:r.backgroundImage);return l||c?null:m.createElement(h,{key:t})}return m.createElement(b.c,i()({key:e.section.name||t,postBodyInserts:s},e))})))})),ce=(t.e=le,u()(ie(),ne.i,b.c.fragments.paragraphs)),ue=u()(ae(),ne.g,b.a,Z),me=u()(oe(),ee),de=u()(re(),ne.h,b.b)},"./src/components/post/bookmark/BookmarkButton.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),i=n.n(a),s=n("./node_modules/graphql-tag/src/index.js"),l=n.n(s),c=n("./node_modules/react/index.js"),u=n.n(c),m=n("./src/components/post/bookmark/mutations.tsx"),d=n("./src/components/session/WithViewer.tsx"),p=n("./src/components/susi/SusiClickable.tsx"),g=n("./src/framework/design-system/components/index.ts"),f=n("./src/framework/reporter/index.ts"),h=n("./src/framework/source/index.ts"),b=n("./src/framework/style/index.ts"),y=n("./src/svg/bookmark-25px.svg"),x=n("./src/svg/bookmark-filled-25px.svg");function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var E=u.a.createElement("path",{d:"M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13c.2.18.52.17.71-.03a.5.5 0 0 0 .12-.29H19V6z"}),S=function(e){return u.a.createElement("svg",v({width:25,height:25,viewBox:"0 0 25 25"},e),E)},C=n("./src/util/routes.ts");function w(){var e=i()(["\n  fragment BookmarkButton_post on Post {\n    ...SusiClickable_post\n    ...WithSetReadingList_post\n  }\n  ","\n  ","\n"]);return w=function(){return e},e}n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return k}));var O=l()(w(),p.c,m.b),_=function(e){return{fill:e.baseColor.fill.light}};var j=function(e){return{fill:e.baseColor.border.light,cursor:"default"}},L=function(){var e=Object(b.useCx)();return c.createElement(S,{className:e(j)})};function k(e){var t=e.post,n=e.withTooltip,r=void 0===n||n,a=t.id,i=t.readingList,s=Object(b.useCx)(),l=Object(f.c)(),u=Object(h.d)(),v=c.useState(r),E=o()(v,2),S=E[0],w=E[1],O=c.useState(i),j=o()(O,2),k=j[0],P=j[1];c.useEffect((function(){P(i)}),[i]);var I=c.useCallback((function(e){if(i){var t={READING_LIST_NONE:"READING_LIST_QUEUE",READING_LIST_ARCHIVE:null,READING_LIST_QUEUE:"READING_LIST_NONE"}[i];t&&P(t),l.event(function(e){return{READING_LIST_NONE:"post.addedBookmark",READING_LIST_ARCHIVE:"post.addedArchive",READING_LIST_QUEUE:"post.removedBookmark"}[e]}(i),{postId:a,source:u}),e(t)().catch((function(){P(i)})),r&&w(!1)}}),[a,i,u,r]),M=c.useCallback((function(){r&&w(!0)}),[r]);return c.createElement(d.b,null,(function(e){return e?i?c.createElement("div",{className:s(_)},c.createElement(m.a,{post:t,viewer:e},(function(e){return c.createElement(g.I,{isVisible:S,darkTheme:!0,placement:"top",mouseLeaveDelay:0,targetDistance:10,popoverRenderFn:function(){return c.createElement(g.b,{padding:"8px"},{READING_LIST_NONE:"Save story",READING_LIST_ARCHIVE:"Archived",READING_LIST_QUEUE:"Unsave Story"}[i])},onMouseLeave:M},c.createElement(g.u,{onClick:function(){return I(e)}},(t=k,{READING_LIST_NONE:c.createElement(y.a,null),READING_LIST_ARCHIVE:c.createElement(L,null),READING_LIST_QUEUE:c.createElement(x.a,null)}[t])));var t}))):null:c.createElement(g.I,{isVisible:S,darkTheme:!0,placement:"top",mouseLeaveDelay:0,targetDistance:10,popoverRenderFn:function(){return c.createElement(g.b,{padding:"8px"},"Bookmark story")}},c.createElement(p.a,{post:t,operation:"register",susiEntry:"bookmark_sidebar",actionUrl:Object(C.m)(a)},c.createElement(y.a,null)))}))}},"./src/components/post/bookmark/PostPageBookmarkButton.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i=n("./src/components/post/bookmark/BookmarkButton.tsx"),s=n("./src/components/post/bookmark/PostPageBookmarkContext.tsx"),l=n("./src/components/post/bookmark/mutations.tsx"),c=n("./src/components/session/WithViewer.tsx"),u=n("./src/components/susi/SusiClickable.tsx"),m=n("./src/framework/design-system/components/index.ts"),d=n("./src/framework/reporter/index.ts"),p=n("./src/framework/source/index.ts"),g=n("./src/schema-types/globalTypes.ts"),f=n("./src/svg/bookmark-25px.svg"),h=n("./src/svg/bookmark-archive-25px.svg"),b=n("./src/svg/bookmark-remove-25px.svg"),y=n("./src/util/routes.ts");var x=function(e,t){return e&&{READING_LIST_QUEUE:"READING_LIST_ARCHIVE",READING_LIST_ARCHIVE:"READING_LIST_NONE"}[t]},v=function(e){var t=e.post,n=e.withTooltip,r=void 0===n||n,v=t.id,E=t.readingList,S=Object(d.c)(),C=Object(p.d)(),w=a.useContext(s.a),O=w.isFirstLoadAndInReadingList,_=w.setIsFirstLoadAndInReadingList,j=a.useState(r),L=o()(j,2),k=L[0],P=L[1],I=a.useCallback((function(e,t){if(E){if(S.event({READING_LIST_QUEUE:"post.addedArchive",READING_LIST_ARCHIVE:"post.removedBookmark"}[E],{postId:v,source:C}),t(x(e,E))(),x(e,E)===g.j.READING_LIST_NONE)return void _(!1);r&&P(!1)}}),[v,E,O,_,r,C]),M=a.useCallback((function(){r&&P(!0)}),[r]);return a.createElement(c.b,null,(function(e){return e?E&&a.createElement("div",null,!O||E!==g.j.READING_LIST_QUEUE&&E!==g.j.READING_LIST_ARCHIVE?a.createElement(i.b,{post:t}):a.createElement(l.a,{post:t},(function(t){return a.createElement(m.I,{isVisible:k,darkTheme:!0,placement:"top",mouseLeaveDelay:0,targetDistance:10,popoverRenderFn:function(){return a.createElement(m.b,{padding:"8px"},{READING_LIST_QUEUE:"Archive Story",READING_LIST_ARCHIVE:"Remove story from reading list"}[E])},onMouseLeave:M},a.createElement(m.u,{onClick:function(){return I(e,t)}},(n=E,{READING_LIST_QUEUE:a.createElement(h.a,null),READING_LIST_ARCHIVE:a.createElement(b.a,null)}[n])));var n}))):a.createElement(u.a,{post:t,operation:"register",susiEntry:"bookmark_sidebar",actionUrl:Object(y.m)(v)},a.createElement(f.a,null))}))}},"./src/components/post/bookmark/PostPageBookmarkContext.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./node_modules/react/index.js"),o=r.createContext({isFirstLoadAndInReadingList:!0,setIsFirstLoadAndInReadingList:function(){return null}})},"./src/components/post/bookmark/index.ts":function(e,t,n){"use strict";var r=n("./src/components/post/bookmark/BookmarkButton.tsx");n.d(t,"a",(function(){return r.b})),n.d(t,"b",(function(){return r.a}))},"./src/components/post/bookmark/mutations.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return L})),n.d(t,"a",(function(){return k}));var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),i=n.n(a),s=n("./node_modules/lodash/flowRight.js"),l=n.n(s),c=n("./node_modules/graphql-tag/src/index.js"),u=n.n(c),m=n("./node_modules/@apollo/react-hoc/lib/react-hoc.esm.js");function d(){var e=i()(["\n  fragment WithSetReadingList_post on Post {\n    ...ReadingList_post\n  }\n  ","\n"]);return d=function(){return e},e}function p(){var e=i()(["\n  mutation unarchivePostDefault($targetPostId: ID!) {\n    unarchivePost(targetPostId: $targetPostId) {\n      ...ReadingList_post\n    }\n  }\n  ","\n"]);return p=function(){return e},e}function g(){var e=i()(["\n  mutation archivePostDefault($targetPostId: ID!) {\n    archivePost(targetPostId: $targetPostId) {\n      ...ReadingList_post\n    }\n  }\n  ","\n"]);return g=function(){return e},e}function f(){var e=i()(["\n  mutation unbookmarkPostDefault($targetPostId: ID!) {\n    unbookmarkPost(targetPostId: $targetPostId) {\n      ...ReadingList_post\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function h(){var e=i()(["\n  mutation bookmarkPostDefault($targetPostId: ID!) {\n    bookmarkPost(targetPostId: $targetPostId) {\n      ...ReadingList_post\n    }\n  }\n  ","\n"]);return h=function(){return e},e}function b(){var e=i()(["\n  fragment ReadingList_post on Post {\n    id\n    readingList\n  }\n"]);return b=function(){return e},e}var y=u()(b()),x=function(e,t,n){return o()({},t,(function(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;return e({variables:{targetPostId:r},optimisticResponse:o()({__typename:"Mutation"},t,{__typename:"Post",id:r,readingList:a})})}))},v=u()(h(),y),E=Object(m.a)(v,{props:function(e){var t=e.mutate;return x(t,"bookmarkPost","READING_LIST_QUEUE")}}),S=u()(f(),y),C=Object(m.a)(S,{props:function(e){var t=e.mutate;return x(t,"unbookmarkPost","READING_LIST_NONE")}}),w=u()(g(),y),O=Object(m.a)(w,{props:function(e){var t=e.mutate;return x(t,"archivePost","READING_LIST_ARCHIVE")}}),_=u()(p(),y),j=Object(m.a)(_,{props:function(e){var t=e.mutate;return x(t,"unarchivePost","READING_LIST_QUEUE")}}),L=u()(d(),y),k=l()(E,C,O,j)((function(e){var t=e.children,n=e.post,r=e.bookmarkPost,o=e.unbookmarkPost,a=e.archivePost,i=e.unarchivePost,s=n.id;if(!s)return null;return t((function(e){return function(){switch(n.readingList){case"READING_LIST_NONE":if("READING_LIST_QUEUE"===e)return r(s,e);break;case"READING_LIST_QUEUE":if("READING_LIST_NONE"===e)return o(s);if("READING_LIST_ARCHIVE"===e)return a(s);break;case"READING_LIST_ARCHIVE":if(!e)return s;if("READING_LIST_NONE"===e)return o(s);if("READING_LIST_QUEUE"===e)return i(s)}throw new Error('Invalid reading list change from "'.concat(n.readingList||"unkown",'" to "').concat(e,'".'))}}))}))},"./src/components/post/footer/PostFooter.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),i=n.n(a),s=n("./node_modules/graphql-tag/src/index.js"),l=n.n(s),c=n("./node_modules/react/index.js"),u=n.n(c),m=n("./node_modules/react-redux/es/index.js"),d=n("./src/WatchBounds.tsx"),p=n("./src/components/format/Date.tsx"),g=n("./src/framework/design-system/components/index.ts"),f=n("./src/framework/design-system/type/index.ts"),h=n("./src/util/numbers.ts"),b=n("./src/util/routes.ts");function y(){var e=o()(["\n  fragment PostInternalLinkItem_post on Post {\n    id\n    title\n    mediumUrl\n    firstPublishedAt\n    readingTime\n  }\n"]);return y=function(){return e},e}var x=l()(y()),v=function(e){var t=e.post,n=t.firstPublishedAt,r=t.title;return c.createElement(g.b,null,c.createElement(g.b,{marginBottom:"10px"},c.createElement(f.b,{scale:"S"},c.createElement(g.f,{href:Object(b.lb)(t)},r)),c.createElement(f.a,{scale:"M",tag:"span",clamp:1},n&&c.createElement(c.Fragment,null,c.createElement(p.a,{timestamp:n})," ·"," "),c.createElement(c.Fragment,null,Object(h.f)(t.readingTime||0)," min read"))))};function E(){var e=o()(["\n  fragment PostInternalLinks_posts on Post {\n    ...PostInternalLinkItem_post\n  }\n  ","\n"]);return E=function(){return e},e}var S=l()(E(),x),C=function(e){var t=e.posts;return c.createElement(g.b,{marginTop:"48px",sm:{marginTop:"16px"}},c.createElement(g.k,{alignItems:"flex-start"},t.map((function(e,t){return c.createElement(g.l,{key:"post-internal-link-".concat(t),size:{xs:12,sm:12,md:6,lg:6,xl:6}},c.createElement(v,{post:e}))}))))},w=n("./node_modules/@babel/runtime/helpers/extends.js"),O=n.n(w),_=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),j=n.n(_),L=n("./src/components/post-listing/PostListingItemRecirc.tsx"),k=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),P=n("./src/framework/design-system/type/Heading.tsx"),I=n("./src/framework/source/index.ts");function M(e){var t=e.posts,n=e.sourceName;return 0===t.length?null:c.createElement(g.b,{margin:"32px 0",md:{marginBottom:"0px"}},c.createElement(g.b,{marginBottom:"32px",borderBottom:"BASE_LIGHTER",paddingBottom:"8px"},c.createElement(P.a,{scale:"S"},"More From Medium")),c.createElement(g.k,{alignItems:"flex-start"},t.map((function(e,t){return c.createElement(g.l,{key:"recirc-".concat(t),size:{xs:12,sm:12,md:12,lg:4,xl:4}},c.createElement(I.b,{source:{name:n,index:t}},c.createElement(L.b,{post:e})))}))))}function T(e,t){var n=Object(k.b)(e,t),r=j()(n,2),o=r[0],a=r[1];return[c.useCallback((function(e){!a.called&&e.isIntersecting&&o()}),[a]),a]}var B=n("./src/framework/track/index.ts"),R=n("./src/util/hooks/useIsRecircSSREnabled.tsx");function A(){var e=o()(["\n  query PostRecircQuery($postId: ID!, $includePostRecirc: Boolean!) {\n    post(id: $postId) {\n      id\n      ...PostRecirc_post\n    }\n  }\n  ","\n"]);return A=function(){return e},e}function D(){var e=o()(["\n  fragment PostRecirc_post on Post {\n    recirc(paging: {limit: 3}) @include(if: $includePostRecirc) {\n      items {\n        __typename\n        ... on Post {\n          ...Recirc_post\n        }\n        ... on SuggestedPost {\n          post {\n            __typename\n            ...Recirc_post\n          }\n          postSuggestionReasons {\n            reason\n            users {\n              name\n            }\n            topics {\n              name\n            }\n            collections {\n              name\n            }\n            tags {\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return D=function(){return e},e}function N(){var e=o()(["\n  fragment Recirc_post on Post {\n    ...PostListingItemRecirc_post\n  }\n  ","\n"]);return N=function(){return e},e}var z=l()(N(),L.a),H=l()(D(),z),F=l()(A(),H),U=c.forwardRef((function(e,t){var n,r,o=e.postId,a=e.rootMargin,i=T(F,{variables:{postId:o,includePostRecirc:!0},ssr:!1}),s=j()(i,2),l=s[0],u=s[1],m=u.called,d=u.loading,p=u.error,g=u.data;Object(B.f)({onIntersect:l,target:t,disconnect:function(){return m},rootMargin:a},[m]);var f=null==g?void 0:null===(n=g.post)||void 0===n?void 0:null===(r=n.recirc)||void 0===r?void 0:r.items;return!m||d||p||!f?null:c.createElement(M,{posts:f,sourceName:"post_recirc"})}));function X(e){var t,n=e.post,r=null==n?void 0:null===(t=n.recirc)||void 0===t?void 0:t.items;return c.createElement(M,{posts:r||[],sourceName:"post_recirc"})}var W=c.forwardRef((function(e,t){return Object(R.a)(e.postId)?c.createElement(X,e):c.createElement(U,O()({},e,{ref:t}))})),V=n("./src/framework/style/index.ts"),G=n("./src/styles/font.ts");function q(){var e=o()(["\n  fragment TagList_tags on Tag {\n    id\n    displayTitle\n  }\n"]);return q=function(){return e},e}var $={padding:0,margin:0},Y={display:"inline-block",listStyleType:"none",marginRight:"8px",marginBottom:"8px"},K=function(e){return{borderRadius:"3px",padding:"5px 10px",textDecoration:"none",color:e.baseColor.text.lighter,display:"block",background:e.baseColor.background.normal,lineHeight:"22px"}};function Q(e){var t=e.tags,n=Object(V.useCx)();return t?c.createElement("ul",{className:n($)},t.map((function(e){return e.id?c.createElement("li",{key:e.id,className:n(Y)},c.createElement("a",{href:Object(b.Hb)(e.id),className:n([K,Object(G.t)({fontSize:15})])},e.displayTitle)):null}))):null}var J=l()(q()),Z=n("./node_modules/@apollo/react-hoc/lib/react-hoc.esm.js"),ee=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),te=n("./src/store/actions/navigation.ts");function ne(){var e=o()(["\n  mutation PostAllowResponsesMutation($targetPostId: ID!, $allowResponses: Boolean!) {\n    setPostAllowResponses(targetPostId: $targetPostId, allowResponses: $allowResponses) {\n      id\n      allowResponses\n    }\n  }\n"]);return ne=function(){return e},e}var re=l()(ne()),oe=Object(m.c)()((function(e){var t=e.children,n=e.dispatch,r=e.onCompleted,o=e.targetPostId;return c.createElement(ee.a,{mutation:re,onCompleted:function(e){n(Object(te.k)({message:"Responses are now hidden for this post."})),r&&r()},variables:{targetPostId:o,allowResponses:!1},optimisticResponse:{__typename:"Mutation",setPostAllowResponses:{__typename:"Post",id:o,allowResponses:!1}}},(function(e){return t({mutate:e})}))})),ae=Object(m.c)()((function(e){var t=e.children,n=e.dispatch,r=e.onCompleted,o=e.targetPostId;return c.createElement(ee.a,{mutation:re,onCompleted:function(e){n(Object(te.k)({message:"Responses are now shown for this post."})),r&&r()},variables:{targetPostId:o,allowResponses:!0},optimisticResponse:{__typename:"Mutation",setPostAllowResponses:{__typename:"Post",id:o,allowResponses:!0}}},(function(e){return t({mutate:e})}))})),ie=n("./src/components/mutations/UserBlockMutation.tsx");function se(){var e=o()(["\n  mutation UserReportStoryMutation(\n    $targetPostId: ID!\n    $targetAuthorId: ID!\n    $alsoBlockAuthor: Boolean!\n    $reason: String!\n  ) {\n    reportStoryAndMaybeBlockAuthor(\n      targetPostId: $targetPostId\n      targetAuthorId: $targetAuthorId\n      alsoBlockAuthor: $alsoBlockAuthor\n      reason: $reason\n    ) {\n      id\n      isBlocking\n    }\n  }\n"]);return se=function(){return e},e}var le=l()(se()),ce=Object(m.c)()((function(e){var t=e.targetAuthorId,n=e.targetPostId,r=e.dispatch,o=e.children,a=e.onOptimisticComplete,i=e.isBlocking;return c.createElement(ee.a,{mutation:le,onCompleted:function(){r(Object(te.k)({message:"Successfully reported post."}))}},(function(e){return o({mutate:function(r,o){var s=e({variables:{targetAuthorId:t,targetPostId:n,alsoBlockAuthor:r,reason:o},optimisticResponse:{__typename:"Mutation",reportStoryAndMaybeBlockAuthor:{__typename:"User",id:t,isBlocking:i||r}}});return a&&a(),s}})}))})),ue=n("./src/components/mutations/UserUnblockMutation.tsx"),me=function(e){var t=e.onConfirm,n=e.isVisible,r=e.hide;return c.createElement(g.h,{onConfirm:t,isVisible:n,hide:r,titleText:"Hide responses",cancelText:"Cancel",confirmText:"Confirm"},"People will still be able to respond, but the link to see responses will not be displayed at the bottom of your post.")},de=n("./src/components/post/bookmark/index.ts"),pe=n("./src/components/post/bookmark/PostPageBookmarkButton.tsx"),ge=n("./node_modules/lodash/flowRight.js"),fe=n.n(ge),he=n("./src/components/collection/CollectionAvatar.tsx");function be(){var e=o()(["\n  fragment ManageSubmission_post on Post {\n    id\n    statusForCollection\n    collection {\n      ...ManageSubmission_collection\n    }\n    pendingCollection {\n      ...ManageSubmission_collection\n    }\n    creator {\n      id\n    }\n  }\n  ","\n"]);return be=function(){return e},e}function ye(){var e=o()(["\n  fragment ManageSubmission_collection on Collection {\n    name\n    viewerIsEditor\n    creator {\n      id\n    }\n    ...CollectionAvatar_collection\n  }\n  ","\n"]);return ye=function(){return e},e}var xe=function(e,t){return t&&e.creator&&t.id===e.creator.id},ve=function(e,t){var n=e.pendingCollection||e.collection;return n&&n.creator&&t.id===n.creator.id},Ee=function(e){var t=e.pendingCollection||e.collection;return t&&t.viewerIsEditor},Se=l()(ye(),he.b),Ce=l()(be(),Se),we=n("./src/components/session/WithViewer.tsx"),Oe=n("./src/components/ui/PopoverMenu.tsx");function _e(){var e=o()(["\n  fragment CollectionSubmission_post on Post {\n    id\n    ...CollectionSubmissionPopover_post\n    ...CollectionSubmissionPopoverMenuItem_post\n  }\n  ","\n  ","\n"]);return _e=function(){return e},e}function je(){var e=o()(["\n  fragment CollectionSubmissionPopover_post on Post {\n    id\n    isPublished\n    creator {\n      id\n    }\n  }\n"]);return je=function(){return e},e}function Le(){var e=o()(["\n  fragment CollectionSubmissionPopoverMenuItem_post on Post {\n    id\n    statusForCollection\n    isPublished\n    creator {\n      id\n    }\n  }\n"]);return Le=function(){return e},e}function ke(){var e=o()(["\n  query CollectionSubmissionPopoverQuery {\n    viewer {\n      id\n      writerCollections {\n        ...CollectionSubmissionPopoverQuery_collection\n      }\n      adminCollections {\n        ...CollectionSubmissionPopoverQuery_collection\n      }\n    }\n  }\n  ","\n"]);return ke=function(){return e},e}function Pe(){var e=o()(["\n  mutation CollectionSubmission_manageCollectionPostStatusMutation(\n    $postId: ID!\n    $collectionSlug: String!\n    $status: CollectionPostStatus!\n  ) {\n    manageCollectionPostStatus(postId: $postId, collectionSlug: $collectionSlug, status: $status) {\n      id\n      statusForCollection\n      pendingCollection {\n        ...CollectionSubmissionPopoverQuery_collection\n      }\n    }\n  }\n  ","\n"]);return Pe=function(){return e},e}function Ie(){var e=o()(["\n  fragment CollectionSubmissionPopoverQuery_collection on Collection {\n    ...CollectionSubmissionOption_collection\n    ...ManageSubmission_collection\n  }\n  ","\n  ","\n"]);return Ie=function(){return e},e}function Me(){var e=o()(["\n  fragment CollectionSubmissionOption_collection on Collection {\n    id\n    name\n    slug\n    ...CollectionAvatar_collection\n  }\n  ","\n"]);return Me=function(){return e},e}var Te=l()(Me(),he.b),Be=l()(Ie(),Te,Se),Re=l()(Pe(),Be),Ae=l()(ke(),Be),De=l()(Le()),Ne=l()(je()),ze=l()(_e(),Ne,De),He=[{name:"",value:"No publication",content:c.createElement(g.b,{height:"32px",display:"flex",alignItems:"center",marginLeft:"5px"},c.createElement(f.a,{scale:"M",color:"DARKER"},"No publication"))}];function Fe(e){var t=e.collection;return t.name?c.createElement(g.b,{display:"flex",justifyContent:"space-between",width:"200px",alignItems:"center",marginLeft:"5px"},c.createElement(f.a,{scale:"M",color:"DARKER"},t.name),c.createElement(he.a,{collection:t,size:32})):null}function Ue(e){var t=e.show,n=e.post,r=n.statusForCollection,o=n.isPublished;return r||!o?null:c.createElement(Ve,{post:n,noQueryReturn:null},(function(e){var r=e.loading,o=e.error,a=e.data;if(r||o)return null;var i=(void 0===a?{viewer:void 0}:a).viewer,s=n.creator;if(!i||!s||i.id!==s.id)return null;var l=i.adminCollections,u=i.writerCollections;return 0===l.length&&0===u.length?null:c.createElement(Oe.b,null,c.createElement(g.u,{onClick:t},"Add to publication"))}))}function Xe(e){var t=e.isVisible,n=e.hide;return c.createElement(g.j,{isVisible:t,hide:n,withCloseButton:!0},c.createElement(g.b,{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",maxWidth:"480px"},c.createElement(g.o,null,"Story submitted"),c.createElement(g.b,{paddingTop:"8px",paddingBottom:"24px"},c.createElement(f.f,{scale:"M"},"We’ll email you when the publication editor has reviewed your submission.")),c.createElement(g.c,{buttonStyle:"OBVIOUS",onClick:n},"OK")))}var We=fe()(Object(Z.a)(Re,{name:"manageCollectionPostStatusMutation",props:function(e){var t=e.ownProps,n=e.manageCollectionPostStatusMutation;return{addPostToCollection:function(e){return n({variables:{postId:t.post.id,collectionSlug:e.slug,status:"APPROVED"}})},submitPostToCollection:function(e){return n({variables:{postId:t.post.id,collectionSlug:e.slug,status:"PENDING"},optimisticResponse:{__typename:"Mutation",manageCollectionPostStatus:{__typename:"Post",id:t.post.id,statusForCollection:"PENDING",pendingCollection:e}}})}}}})),Ve=function(e){var t=e.children,n=e.post,r=e.noQueryReturn,o=n.creator;return o?c.createElement(we.b,null,(function(e){return e?e.id!==o.id?r:c.createElement(ee.b,{query:Ae,ssr:!1},(function(e){var n=e.loading,r=e.error,o=e.data;return t({loading:n,error:r,data:void 0===o?{}:o})})):r})):r},Ge=We((function(e){var t=e.post,n=e.addPostToCollection,r=e.submitPostToCollection,o=(e.dispatch,e.hide),a=e.showLoadingIndicator,i=e.isVisible,s=e.children,l=c.useState(""),u=j()(l,2),m=u[0],d=u[1];return t.isPublished?c.createElement(g.J,null,(function(e){var l=e.isVisible,u=e.hide,p=e.show;return c.createElement(c.Fragment,null,c.createElement(Xe,{hide:u,isVisible:l}),c.createElement(Ve,{post:t,noQueryReturn:s},(function(e){var l=e.loading,u=e.error,h=e.data;if(l||u)return s;var b=(void 0===h?{viewer:void 0}:h).viewer,y=t.creator;if(!b||!y||b.id!==y.id)return s;var x=b.adminCollections,v=b.writerCollections;if(0===x.length&&0===v.length)return s;var E=x.concat(v).filter((function(e){return!!e&&!!e.slug&&!!e.name})).map((function(e){return{name:e.slug,value:e.name,content:c.createElement(Fe,{collection:e})}})),S=He.concat(E),C=x.reduce((function(e,t){return e[t.slug||""]=t,e}),{}),w=v.reduce((function(e,t){return e[t.slug||""]=t,e}),{}),O="";if(m){var _=S.find((function(e){return e.name===m}));_&&(O=_.value)}return c.createElement(g.x,{placement:"top",hide:o,isVisible:i,popoverRenderFn:function(){return c.createElement(g.b,{padding:"20px",width:"280px",display:"flex",flexDirection:"column"},c.createElement(f.a,{scale:"M",color:"DARKER"},"Add your story to a publication:"),c.createElement(g.b,{marginTop:"10px"},c.createElement(g.z,{value:O,onChange:d,options:S})),c.createElement(g.b,{display:"flex",marginTop:"20px"},c.createElement(f.a,{scale:"M",color:"LIGHTER"},m in C?c.createElement(g.c,{onClick:function(){var e=C[m];o(),a(),n(e).then((function(){window.location.reload(!1)}))},buttonStyle:"OBVIOUS"},"Add story"):c.createElement(g.c,{onClick:function(){var e=w[m];r(e),o(),p()},disabled:!m},"Submit")),c.createElement(g.b,{marginLeft:"10px"},c.createElement(f.a,{scale:"M",color:"LIGHTER"},c.createElement(g.u,{onClick:o},c.createElement(g.b,{padding:"10px"},"Cancel"))))),c.createElement(g.b,{marginTop:"10px"},c.createElement(f.a,{scale:"M"},"This story will be automatically submitted to the publication. When you submit your story, the publication's editors will be notified and will be able to edit your story.")))}},s)})))})):s})),qe=Object(m.c)()(Ge);function $e(){var e=o()(["\n  mutation ManageSubmissionButton_manageCollectionPostStatusMutation(\n    $postId: ID!\n    $collectionSlug: String!\n    $status: CollectionPostStatus!\n  ) {\n    manageCollectionPostStatus(postId: $postId, collectionSlug: $collectionSlug, status: $status) {\n      id\n      statusForCollection\n      pendingCollection {\n        id\n      }\n    }\n  }\n"]);return $e=function(){return e},e}var Ye=l()($e()),Ke=function(e){var t=e.viewer,n=e.show,r=e.post;return t&&"PENDING"===r.statusForCollection&&(Ee(r)||ve(r,t))?c.createElement(Oe.b,null,c.createElement(g.u,{onClick:n},"Manage submission")):null},Qe=fe()(Object(Z.a)(Ye,{name:"manageCollectionPostStatusMutation",props:function(e){var t=e.ownProps,n=e.manageCollectionPostStatusMutation;return{approveCollectionSubmission:function(){return n({variables:{postId:t.post.id,collectionSlug:t.post.pendingCollection.slug,status:"APPROVED"}})},rejectCollectionSubmission:function(){return n({variables:{postId:t.post.id,collectionSlug:t.post.pendingCollection.slug,status:"REMOVED"},optimisticResponse:{__typename:"Mutation",manageCollectionPostStatus:{__typename:"Post",id:t.post.id,statusForCollection:null,pendingCollection:null}}})}}}}))((function(e){var t=e.children,n=e.isVisible,r=e.post,o=e.hide,a=e.showLoadingIndicator,i=e.approveCollectionSubmission,s=e.rejectCollectionSubmission,l=e.dispatch,u=r.pendingCollection;return u?c.createElement(c.Fragment,null,c.createElement(g.x,{isVisible:n,hide:o,popoverRenderFn:function(){return c.createElement(g.b,{padding:"16px",maxWidth:"280px"},c.createElement(g.b,{display:"flex",flexDirection:"row",alignItems:"center"},c.createElement(g.b,{paddingRight:"8px"},c.createElement(he.a,{collection:u,size:40})),c.createElement(f.a,{scale:"S"},"This draft is submitted to ",u.name,".")),c.createElement(g.b,{flexDirection:"row",display:"flex",paddingTop:"16px"},c.createElement(g.b,{paddingRight:"8px"},c.createElement(g.c,{buttonStyle:"OBVIOUS",onClick:function(){o(),a(),i().then((function(){window.location.reload(!1)}))}},"Accept")),c.createElement(g.c,{buttonStyle:"SUBTLE",onClick:function(){s().then((function(){l(Object(te.k)({message:"Story removed from ".concat(u.name||"publication")}))})),o()}},"Don't accept")))}},t)):t})),Je=Object(m.c)()(Qe);function Ze(){var e=o()(["\n  mutation ManageCollectionPostStatus_manageCollectionPostStatusMutation(\n    $postId: ID!\n    $collectionSlug: String!\n    $status: CollectionPostStatus!\n  ) {\n    manageCollectionPostStatus(postId: $postId, collectionSlug: $collectionSlug, status: $status) {\n      id\n      statusForCollection\n      collection {\n        id\n      }\n      pendingCollection {\n        id\n      }\n    }\n  }\n"]);return Ze=function(){return e},e}var et=l()(Ze()),tt=fe()(Object(Z.a)(et,{name:"manageCollectionPostStatusMutation",props:function(e){var t=e.ownProps,n=e.manageCollectionPostStatusMutation;return{removePostFromCollection:function(){var e=t.post.collection||t.post.pendingCollection;return n({variables:{postId:t.post.id,collectionSlug:e.slug,status:"REMOVED"},optimisticResponse:{__typename:"Mutation",manageCollectionPostStatus:{__typename:"Post",id:t.post.id,statusForCollection:null,collection:null,pendingCollection:null}}})}}}})),nt=function(e){var t=e.viewer,n=e.show,r=e.post;return t&&("APPROVED"===r.statusForCollection&&(Ee(r)||ve(r,t)||xe(r,t))||"PENDING"===r.statusForCollection&&xe(r,t))?c.createElement(Oe.b,null,c.createElement(g.u,{onClick:n},"Remove story from publication")):null},rt=tt((function(e){var t=e.children,n=e.isVisible,r=e.hide,o=e.post,a=e.viewer,i=e.removePostFromCollection,s=e.dispatch,l=o.collection||o.pendingCollection;return l?c.createElement(c.Fragment,null,c.createElement(g.x,{isVisible:n,hide:r,popoverRenderFn:function(){return c.createElement(g.b,{padding:"16px",maxWidth:"280px"},c.createElement(g.b,{display:"flex",flexDirection:"row",alignItems:"center"},c.createElement(g.b,{paddingRight:"8px"},c.createElement(he.a,{collection:l,size:40})),"APPROVED"===o.statusForCollection?c.createElement(f.a,{scale:"S"},xe(o,a)?"Your":"This"," story is published in"," ",l.name,"."):"PENDING"===o.statusForCollection?c.createElement(f.a,{scale:"S"},"Your story is being reviewed by ",l.name," editors."):c.createElement(f.a,{scale:"S"},"This draft is submitted to ",l.name)),c.createElement(g.b,{flexDirection:"row",display:"flex",paddingTop:"16px"},c.createElement(g.b,{paddingRight:"8px"},c.createElement(g.c,{buttonStyle:"SUBTLE",onClick:function(){i().then((function(){s(Object(te.k)({message:"Story removed from ".concat(l.name||"publication")}))})),r()}},"PENDING"===o.statusForCollection?"Cancel submission":"Remove from ".concat(l.name||"")))))}},t)):t})),ot=Object(m.c)()(rt),at=n("./src/components/post/multivote/MultiVote.tsx"),it=n("./src/components/session/WithFlag.tsx"),st=n("./src/components/social/ShareButtons.tsx"),lt=n("./src/components/susi/SusiClickable.tsx"),ct=n("./src/components/user/UserBlockConfirmDialog.tsx"),ut=n("./src/components/style/BaseThemeProvider.tsx"),mt=function(e){var t=e.isVisible,n=e.hide,r=e.onSubmit,o=c.useState(!1),a=j()(o,2),i=a[0],s=a[1],l=c.useState("Spam"),u=j()(l,2),m=u[0],d=u[1],p=c.useCallback((function(e,t){return d(t)}),[]);return c.createElement(ut.b,null,c.createElement(g.j,{isVisible:t,hide:n},c.createElement(g.b,{display:"flex",margin:"auto",flexDirection:"column",alignItems:"center",width:"100%",height:"100%"},c.createElement(f.b,{scale:"M"},"Report Story"),c.createElement(g.b,{display:"flex",flexDirection:"column",width:"100%",paddingRight:"5px",marginBottom:"30px"},c.createElement(g.b,{marginTop:"25px",marginBottom:"30px",padding:"5px 0"},c.createElement(g.z,{onChange:p,value:m,options:[{name:"Spam",value:"Spam"},{name:"Harassment",value:"Harassment"},{name:"Rules Violation",value:"Other"}]})),c.createElement(g.e,{checked:i,onChange:function(){s(!i)}},"Also block the author of this story")),c.createElement(g.b,{display:"flex",justifyContent:"center",marginBottom:"10px"},c.createElement(g.b,{marginRight:"8px"},c.createElement(g.c,{buttonStyle:"OBVIOUS",onClick:function(){r(i,m),n()}},"Report")),c.createElement(g.c,{onClick:n},"Cancel")),c.createElement(g.b,{marginTop:"50px",textAlign:"center"},c.createElement(g.d,null,"Report"," ",c.createElement(g.u,{href:"https://medium.com/policy/mediums-copyright-and-dmca-policy-d126f73695",linkStyle:"OBVIOUS",inline:!0},"copyright infringement")," ","or"," ",c.createElement(g.u,{href:"https://medium.com/policy/mediums-trademark-policy-e3bb53df59a7",linkStyle:"OBVIOUS",inline:!0},"trademark infringement"),".",c.createElement("br",null),"Read"," ",c.createElement(g.u,{href:"https://medium.com/policy/medium-rules-30e5502c4eb4",linkStyle:"OBVIOUS",inline:!0},"our rules"),".")))))},dt=n("./src/framework/source/SourceContext.tsx");function pt(){return(pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var gt=u.a.createElement("path",{d:"M-463 284.6c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5zm-7-.9c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6-1.6.7-1.6 1.6.7 1.6 1.6 1.6zm0 .9c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5z"}),ft=function(e){return u.a.createElement("svg",pt({width:25,height:25,viewBox:"-480.5 272.5 21 21"},e),gt)};function ht(){var e=o()(["\n  fragment PostFooterActionsBar_post on Post {\n    id\n    visibility\n    isPublished\n    allowResponses\n    viewerClapCount\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n    }\n    creator {\n      id\n      isBlocking\n    }\n    collection {\n      id\n      viewerIsEditor\n    }\n    ...BookmarkButton_post\n    ...MultiVote_post\n    ...SusiClickable_post\n    ...ManageSubmission_post\n    ...CollectionSubmission_post\n    ...ShareButtons_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return ht=function(){return e},e}function bt(e){return{fill:e.baseColor.fill.normal}}function yt(){return c.createElement(g.K,null,(function(e){return c.createElement(ft,{className:e(bt)})}))}var xt=Object(m.c)((function(e){return{authDomain:e.config.authDomain}}))((function(e){var t=e.post,n=e.viewerId,r=e.submitClaps,o=e.clapsForPost,a=e.setClapCountsForPost,i=(e.authDomain,c.useState(!1)),s=j()(i,2),l=s[0],u=s[1],m=c.useState(!1),d=j()(m,2),p=d[0],f=d[1],h=c.useState(!1),b=j()(h,2),y=b[0],x=b[1],v=t.id,E=t.isPublished,S=t.allowResponses,C=t.content,w=t.creator,O=(t.collection||{}).viewerIsEditor,_=o.clapCount,L=o.viewerClapCount,k=(C||{}).isLockedPreviewOnly,P=c.createElement(dt.b,{source:{name:"post_actions_footer",susiEntry:"clap_footer"}},c.createElement(at.a,{post:t,buttonStyle:"OBVIOUS",hasDialog:!0})),I=c.createElement(it.a,{name:"enable_disregard_trunc_state_for_footer"},(function(e){return e?P:!k&&P}));return c.createElement(g.J,null,(function(e){var o=e.isVisible,i=e.show;return c.createElement(c.Fragment,null,o&&c.createElement(g.v,null),c.createElement(we.b,null,(function(e){return c.createElement(g.b,{display:"flex",justifyContent:"space-between",marginTop:"15px",print:{display:"none"}},I,c.createElement(g.b,{display:"flex",alignItems:"center"},E&&c.createElement(c.Fragment,null,c.createElement(st.a,{post:t,source:{name:"post_actions_footer"}}),c.createElement(g.b,{flexGrow:"0",paddingRight:"8px"},c.createElement(dt.b,{source:{name:"post_actions_footer",susiEntry:"bookmark_footer"}},c.createElement(pe.a,{post:t})))),w&&c.createElement(g.J,null,(function(o){var s=o.isVisible,m=o.toggle,d=o.hide;return c.createElement(g.J,null,(function(o){var h=o.isVisible,b=o.show,E=o.hide;return c.createElement(g.J,null,(function(o){var C=o.isVisible,j=o.show,k=o.hide;return c.createElement(g.J,null,(function(o){var P=o.isVisible,I=o.show,M=o.hide;return c.createElement(ie.a,{targetUserId:w.id,viewerId:n,onCompleted:E},(function(o){var T=o.mutate;return c.createElement(ue.a,{targetUserId:w.id,viewerId:n},(function(o){var B=o.mutate;return c.createElement(ce,{targetAuthorId:w.id,targetPostId:t.id,isBlocking:w.isBlocking},(function(o){var R=o.mutate;return c.createElement(ae,{targetPostId:v},(function(o){var A=o.mutate;return c.createElement(oe,{targetPostId:v},(function(o){var D=o.mutate;return c.createElement(c.Fragment,null,c.createElement(g.x,{isVisible:s,hide:d,popoverRenderFn:function(){return c.createElement(Oe.a,null,c.createElement(c.Fragment,null,c.createElement(Ue,{post:t,show:function(){f(!0),d()}}),c.createElement(nt,{viewer:e,post:t,show:function(){x(!0),d()}}),c.createElement(Ke,{viewer:e,post:t,show:function(){u(!0),d()}})),n===w.id||O?c.createElement(c.Fragment,null,c.createElement(Oe.b,null,c.createElement(g.u,{onClick:function(){S?I():A(),d()}},S?"Hide responses":"Show responses")),c.createElement(Oe.c,null)):null,n&&_&&L&&L>0?c.createElement(Oe.b,null,c.createElement(g.u,{onClick:function(){r(-L),a({postId:v,clapCount:_-L,viewerClapCount:0,viewerHasClappedSinceFetch:!0}),d()}},"Undo applause for this post")):null,c.createElement(Oe.b,null,n?c.createElement(g.u,{onClick:function(){j(),d()}},"Report story"):c.createElement(lt.a,{operation:"register",post:t,susiEntry:"report_footer"},"Report story")),n?c.createElement(Oe.b,null,c.createElement(g.u,{onClick:function(){w.isBlocking?B():b(),d()}},w.isBlocking?"Unblock author":"Block author")):null)}},c.createElement(qe,{post:t,isVisible:p,hide:function(){f(!1)},showLoadingIndicator:i},c.createElement(ot,{viewer:e,post:t,isVisible:y,hide:function(){x(!1)}},c.createElement(Je,{viewer:e,post:t,isVisible:l,hide:function(){u(!1)},showLoadingIndicator:i},c.createElement(g.b,{flexGrow:"0"},c.createElement(g.u,{onClick:m},c.createElement(yt,null))))))),c.createElement(me,{onConfirm:D,isVisible:P,hide:M}),c.createElement(ct.a,{onConfirm:T,isVisible:h,hide:E}),c.createElement(mt,{onSubmit:R,isVisible:C,hide:k}))}))}))}))}))}))}))}))}))}))))})))}))})),vt=Object(Z.a)(at.c,{props:at.d})(xt),Et=function(e){return c.createElement(we.b,null,(function(t){return c.createElement(vt,O()({},e,{viewerId:t&&t.id}))}))},St=l()(ht(),de.b,at.b,lt.c,Ce,ze,st.b),Ct=n("./src/components/collection/CollectionFollowButton.tsx"),wt=n("./src/components/user/UserAvatar.tsx"),Ot=n("./src/components/user/UserFollowButton.tsx"),_t=n("./src/components/user/UserUnblockButton.tsx");function jt(){var e=o()(["\n  fragment PostFooterByline_post on Post {\n    id\n    creator {\n      name\n      username\n      bio\n      id\n      isBlocking\n      ...UserAvatar_user\n      ...UserFollowButton_user\n    }\n    collection {\n      name\n      description\n      ...CollectionAvatar_collection\n      ...CollectionFollowButton_collection\n      ...collectionUrl_collection\n    }\n    ...UserFollowButton_post\n    ...CollectionFollowButton_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return jt=function(){return e},e}var Lt=wt.c.XL,kt=wt.c.XL+22,Pt=function(e){var t=e.creator,n=e.post,r=t.name,o=t.username,a=t.bio,i=void 0===a?"":a,s=t.id,l=t.isBlocking;return r&&o?c.createElement(we.b,null,(function(e){return c.createElement(g.b,{marginBottom:"32px",position:"relative",minHeight:"".concat(Lt,"px")},c.createElement(g.b,{tag:"span",sm:{display:"flex",alignItems:"center",marginBottom:"24px"}},c.createElement(g.b,{position:"absolute",sm:{position:"relative",width:"".concat(kt,"px")}},c.createElement(wt.d,{user:t,scale:"XL",link:!0})),c.createElement(g.b,{tag:"span"},c.createElement(g.b,{paddingLeft:"".concat(kt,"px"),sm:{paddingLeft:"0"}},c.createElement(f.d,null,"Written by")),c.createElement(g.b,{paddingLeft:"".concat(kt,"px"),display:"flex",marginBottom:"6px",sm:{paddingLeft:"0"}},c.createElement(g.b,{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},c.createElement(f.b,{scale:"M"},c.createElement(g.u,{href:Object(b.Vb)(o)},r||o)),c.createElement(g.b,{sm:{display:"none"}},e&&l?c.createElement(_t.a,{targetUserId:s}):c.createElement(Ot.c,{buttonSize:"SMALL",post:n,user:t})))))),c.createElement(g.b,{maxWidth:"555px",paddingLeft:"".concat(kt,"px"),sm:{display:"block",paddingLeft:"0"}},c.createElement(g.b,{maxWidth:"450px"},c.createElement(f.a,{scale:"L"},i)),c.createElement(g.b,{display:"none",sm:{display:"block",marginTop:"24px"}},c.createElement(Ot.c,{buttonSize:"SMALL",post:n,user:t}))))})):null},It=function(e){var t=e.collection,n=e.currentLocation,r=e.post,o=t.name,a=t.description,i=void 0===a?"":a;return c.createElement(g.b,{marginBottom:"32px",position:"relative",minHeight:"".concat(Lt,"px")},c.createElement(g.b,{tag:"span",sm:{display:"flex",alignItems:"center",marginBottom:"24px"}},c.createElement(g.b,{position:"absolute",sm:{position:"relative",width:"".concat(kt,"px")}},c.createElement(he.a,{collection:t,size:Lt,link:!0})),c.createElement(g.b,{tag:"span"},c.createElement(g.b,{paddingLeft:"".concat(kt,"px"),display:"flex",marginBottom:"6px",sm:{paddingLeft:"0"}},c.createElement(g.b,{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},c.createElement(f.b,{scale:"M"},c.createElement(g.u,{href:Object(b.B)(t,n)},o)),c.createElement(g.b,{sm:{display:"none"}},c.createElement(Ct.a,{collection:t,post:r})))))),c.createElement(g.b,{maxWidth:"550px",paddingLeft:"".concat(kt,"px"),sm:{display:"block",paddingLeft:"0"}},c.createElement(g.b,{maxWidth:"450px"},c.createElement(f.a,{scale:"L"},i)),c.createElement(g.b,{display:"none",sm:{display:"block",marginTop:"24px"}},c.createElement(Ct.a,{collection:t,post:r}))))};var Mt=l()(jt(),he.b,Ct.b,Ct.c,b.C,wt.b,Ot.a,Ot.b),Tt=Object(m.c)((function(e){return{currentLocation:e.navigation.currentLocation}}))((function(e){var t=e.currentLocation,n=e.post,r=n.creator,o=n.collection;return r?c.createElement(g.b,{marginTop:"25px",marginBottom:"25px",paddingTop:"32px",borderTop:"BASE_LIGHTER",print:{display:"none"}},c.createElement(Pt,{creator:r,post:n}),o&&c.createElement(c.Fragment,null,c.createElement(g.b,{paddingTop:"32px"}),c.createElement(It,{collection:o,currentLocation:t,post:n}))):null})),Bt=n("./src/components/session/useFlag.tsx");function Rt(){var e=o()(["\n  fragment PostFooterResponsesButton_post on Post {\n    id\n    responsesCount\n    isLimitedState\n  }\n"]);return Rt=function(){return e},e}var At=l()(Rt()),Dt=Object(m.c)((function(e){return{authDomain:e.config.authDomain}}))((function(e){var t=e.authDomain,n=e.post,r=e.setIsResponsesSidebarVisible,o=Object(V.useCx)(),a=n.id,i=n.responsesCount,s=n.isLimitedState,l=i&&i>0;var u=Object(Bt.a)("enable_responses_2");return c.createElement(g.u,{href:s||u?" ":Object(b.xb)(t,a),onClick:s?function(e){e.preventDefault()}:u?function(e){e.preventDefault(),r(!0)}:void 0},c.createElement("span",{className:o((function(e){return{color:e.baseColor.text.light,opacity:s?.25:1,cursor:s?"not-allowed":"pointer"}}))},c.createElement(g.b,{sm:{display:l?"block":"none"},border:s?"BASE_NORMAL":"ACCENT_NORMAL",borderRadius:"4px",padding:"20px",textAlign:"center"},s?c.createElement(g.I,{darkTheme:!0,popoverRenderFn:function(){return c.createElement(g.b,{padding:"8px",whiteSpace:"nowrap"},"This feature is temporarily disabled.")},placement:"top",targetDistance:15},l?"See responses (".concat(i||0,")"):"Write the first response"):c.createElement("span",{className:o((function(e){return{color:e.accentColor.text.normal}}))},l?"See responses (".concat(i||0,")"):"Write the first response"))))})),Nt=n("./src/svg/creative-commons-by-21px.svg"),zt=n("./src/svg/creative-commons-nc-21px.svg"),Ht=n("./src/svg/creative-commons-nd-21px.svg"),Ft=n("./src/svg/creative-commons-sa-21px.svg"),Ut=n("./src/svg/creative-commons-zero-21px.svg"),Xt="title",Wt=function(e){return{fill:e.baseColor.fill.lighter}};function Vt(e,t){return{PUBLIC_DOMAIN:{title:"Public Domain",link:"https://creativecommons.org/publicdomain/mark/1.0/"},CC_40_ZERO:{title:"Creative Commons copyright waiver",link:"http://creativecommons.org/publicdomain/zero/1.0/"},CC_40_BY:{title:"Creative Commons Attribution 4.0 International",link:"http://creativecommons.org/licenses/by/4.0/"},CC_40_BY_ND:{title:"Creative Commons Attribution-NoDerivatives 4.0 International",link:"https://creativecommons.org/licenses/by-nd/4.0/"},CC_40_BY_SA:{title:"Creative Commons Attribution-ShareAlike 4.0 International",link:"https://creativecommons.org/licenses/by-sa/4.0/"},CC_40_BY_NC:{title:"Creative Commons Attribution-NonCommercial 4.0 International",link:"https://creativecommons.org/licenses/by-nc/4.0/"},CC_40_BY_NC_ND:{title:"Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International",link:"https://creativecommons.org/licenses/by-nc-nd/4.0/"},CC_40_BY_NC_SA:{title:"Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International",link:"https://creativecommons.org/licenses/by-nc-sa/4.0/"}}[e][t]}var Gt=function(e){var t=e.license,n=Object(V.useCx)();return t?c.createElement(g.b,null,c.createElement(g.b,{display:"inline-block"},c.createElement(f.a,{scale:"S"},c.createElement(g.I,{darkTheme:!0,placement:"top",popoverRenderFn:function(){return c.createElement(g.b,{width:"300px",padding:"8px"},function(e){switch(e){case"PUBLIC_DOMAIN":return"Except where otherwise noted, this work is in the public domain.";case"CC_40_ZERO":return"Except where otherwise noted, this work has been dedicated to the public domain using CC0.";default:return"Except where otherwise noted, this work is licensed under a ".concat(Vt(e,Xt)," license by the author.")}}(t))}},c.createElement(g.u,{disableSourceParam:!0,href:Vt(t,"link"),linkStyle:"SUBTLE",inline:!0,target:"_blank"},function(e){switch(e){case"PUBLIC_DOMAIN":return"Public domain.";case"CC_40_ZERO":return"No rights reserved";default:return"Some rights reserved"}}(t))))),c.createElement(g.b,{display:"inline-block"},c.createElement(f.a,{scale:"S"},"CC_40_ZERO"===t&&c.createElement("span",null," by the author."),c.createElement("span",{className:n(Wt),style:{marginLeft:"5px",verticalAlign:"text-bottom"}},function(e){return{CC_40_ZERO:c.createElement(Ut.a,null),CC_40_BY:c.createElement(Nt.a,null),CC_40_BY_ND:c.createElement(c.Fragment,null,c.createElement(Nt.a,null),c.createElement(Ht.a,null)),CC_40_BY_SA:c.createElement(c.Fragment,null,c.createElement(Nt.a,null),c.createElement(Ft.a,null)),CC_40_BY_NC:c.createElement(c.Fragment,null,c.createElement(Nt.a,null),c.createElement(zt.a,null)),CC_40_BY_NC_ND:c.createElement(c.Fragment,null,c.createElement(Nt.a,null),c.createElement(zt.a,null),c.createElement(Ht.a,null)),CC_40_BY_NC_SA:c.createElement(c.Fragment,null,c.createElement(Nt.a,null),c.createElement(zt.a,null),c.createElement(Ft.a,null)),PUBLIC_DOMAIN:c.createElement(c.Fragment,null)}[e]}(t))))):null},qt=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),$t=n.n(qt);function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(n),!0).forEach((function(t){$t()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qt(){var e=o()(["\n  fragment ThanksTo_post on Post {\n    id\n    creator {\n      id\n    }\n    collaborators {\n      id\n      user {\n        id\n        name\n      }\n      state\n    }\n  }\n"]);return Qt=function(){return e},e}function Jt(){var e=o()(["\n  mutation setCollaboratorState($postId: ID!, $collaboratorId: ID!, $isVisible: Boolean!) {\n    setCollaboratorState(postId: $postId, collaboratorId: $collaboratorId, isVisible: $isVisible)\n  }\n"]);return Jt=function(){return e},e}var Zt=l()(Jt()),en=l()(Qt()),tn=function(e){var t=e.viewer,n=e.post,r=e.collaborator,o=r.user,a=n.creator;return o&&t&&a&&(t.id===a.id||t.id===o.id)?c.createElement(ee.a,{mutation:Zt,optimisticResponse:{__typename:"Mutation",setCollaboratorState:!0},update:function(e,t){var o,a=e.readFragment({id:"Post:".concat(n.id),fragment:en});e.writeFragment({id:"Post:".concat(n.id),fragment:en,data:Kt({},a,{collaborators:(null!==(o=null==a?void 0:a.collaborators)&&void 0!==o?o:[]).map((function(e){return e.id===r.id?Kt({},e,{state:"visible"===e.state?"hidden":"visible"}):e}))})})}},(function(e){return"hidden-collab"===r.state&&a.id===t.id?"(declined)":c.createElement(c.Fragment,null,"(",c.createElement(g.u,{onClick:function(t){e({variables:{postId:n.id,collaboratorId:o.id,isVisible:"visible"!==r.state}})}},"visible"===r.state?"hide":"show"),")")})):null},nn=function(e){var t=e.index,n=e.total;return t===n-1?"":n>=3?t===n-2?", and ":", ":" and "},rn=function(e){var t=e.post,n=t.collaborators,r=t.creator;return r&&n&&n.length?c.createElement(we.b,null,(function(e){return c.createElement(g.b,null,c.createElement(f.a,{scale:"S"},"Thanks to ",n.map((function(o,a){var i=o.user;return i?c.createElement(c.Fragment,{key:o.id},i.name,function(e,t,n){return e&&(e.id===t.id||n&&e.id===n.id)}(e,r,i)&&c.createElement(c.Fragment,null," ",c.createElement(tn,{viewer:e,post:t,collaborator:o})),c.createElement(nn,{index:a,total:n.length})):null})),". "))})):null};function on(){var e=o()(["\n  fragment TranslatedBy_post on Post {\n    creator {\n      name\n      username\n    }\n    translationSourcePost {\n      id\n      title\n      mediumUrl\n    }\n  }\n"]);return on=function(){return e},e}var an=l()(on()),sn=function(e){var t=e.post,n=t.creator;if(!t.translationSourcePost||!n)return null;var r=c.createElement(g.u,{linkStyle:"SUBTLE",inline:!0,href:Object(b.lb)(t.translationSourcePost)},"original"),o=c.createElement(g.u,{linkStyle:"SUBTLE",inline:!0,href:Object(b.Vb)(n.username||"")},n.name);return c.createElement(g.b,null,c.createElement(f.a,{scale:"S"},"Translated from ",r," by ",o,"."))},ln=n("./src/components/sequence/SequenceCoverImage.tsx");function cn(){var e=o()(["\n  fragment SequencePreview_sequence on Sequence {\n    sequenceId\n    ...SequenceCoverImage_sequence\n    description\n    eyebrow\n    slug\n    tabletImage {\n      id\n    }\n    title\n    hideIndex\n  }\n  ","\n"]);return cn=function(){return e},e}var un=function(e){return{textTransform:"uppercase"}};function mn(e){var t=e.sequence,n=Object(V.useCx)();return c.createElement(g.b,{display:"flex",flexDirection:"column",marginBottom:"56px"},c.createElement(g.b,{display:"flex",marginTop:"48px",xs:{marginTop:"32px",display:"flex"}},c.createElement(g.b,{flexShrink:"0",borderRadius:"4px",overflow:"hidden",md:{display:"none"}},c.createElement(ln.b,{sequence:t,width:200,height:265})),c.createElement(g.b,{flexShrink:"0",borderRadius:"4px",overflow:"hidden",display:"none",md:{display:"block"},xs:{display:"none !important"}},c.createElement(ln.b,{sequence:t,width:180,height:238})),c.createElement(g.b,{flexShrink:"0",borderRadius:"4px",overflow:"hidden",display:"none",xs:{display:"block"}},c.createElement(ln.b,{sequence:t,width:98,height:130})),c.createElement(g.b,{display:"flex",flexDirection:"column",marginLeft:"32px",justifyContent:"center",xs:{marginLeft:"20px",display:"flex"}},c.createElement("div",{className:n(un)},c.createElement(f.d,null,"About this ",t.eyebrow||"Collection")),t.title&&t.slug&&c.createElement(g.f,{href:Object(b.sb)(t.slug)},c.createElement(g.b,null,c.createElement(f.g,{scale:"M"},t.title))),t.description&&c.createElement(g.b,{marginTop:"14px",xs:{display:"none"},maxWidth:"680px"},c.createElement(f.a,{scale:"L"},t.description)))),t.description&&c.createElement(g.b,{display:"none",marginTop:"29px",xs:{display:"block"}},c.createElement(f.a,{scale:"M"},t.description)))}var dn=l()(cn(),ln.a);function pn(){var e=o()(["\n  query SequencePostRecircQuery($postId: ID!, $includeSequenceRecirc: Boolean!) {\n    post(id: $postId) {\n      id\n      ...SequencePostRecirc_post\n    }\n  }\n  ","\n"]);return pn=function(){return e},e}function gn(){var e=o()(["\n  fragment SequencePostRecirc_post on Post {\n    elevateRecirc(paging: {limit: 3}) @include(if: $includeSequenceRecirc) {\n      items {\n        __typename\n        ... on Post {\n          ...PostListingItemRecirc_post\n        }\n      }\n    }\n  }\n  ","\n"]);return gn=function(){return e},e}var fn=l()(gn(),L.a),hn=l()(pn(),fn),bn=c.forwardRef((function(e,t){var n,r,o=e.postId,a=e.rootMargin,i=T(hn,{variables:{postId:o,includeSequenceRecirc:!0},ssr:!1}),s=j()(i,2),l=s[0],u=s[1],m=u.called,d=u.loading,p=u.error,g=u.data;Object(B.f)({onIntersect:l,target:t,disconnect:function(){return m},rootMargin:a},[m]);var f=null==g?void 0:null===(n=g.post)||void 0===n?void 0:null===(r=n.elevateRecirc)||void 0===r?void 0:r.items;return!m||d||p||!f?null:c.createElement(M,{posts:f,sourceName:"elevate_recirc"})}));function yn(e){var t,n=e.post,r=null==n?void 0:null===(t=n.elevateRecirc)||void 0===t?void 0:t.items;return c.createElement(M,{posts:r||[],sourceName:"elevate_recirc"})}var xn=c.forwardRef((function(e,t){return Object(R.a)(e.postId)?c.createElement(yn,e):c.createElement(bn,O()({},e,{ref:t}))})),vn=n("./src/components/session/RequireFlag.tsx"),En=n("./src/store/actions/multiVote.ts"),Sn=n("./src/styles/flex.ts"),Cn=n("./src/svg/unlisted-19px.svg"),wn=n("./src/util/post/claps.ts");function On(){var e=o()(["\n  fragment PostFooter_post on Post {\n    id\n    visibility\n    license\n    isPublished\n    allowResponses\n    collection {\n      name\n      description\n    }\n    sequence {\n      sequenceId\n      ...SequencePreview_sequence\n    }\n    tags {\n      ...TagList_tags\n    }\n    viewerClapCount\n    ...PostRecirc_post\n    ...SequencePostRecirc_post\n    ...PostFooterActionsBar_post\n    ...PostFooterByline_post\n    ...PostFooterResponsesButton_post\n    ...ThanksTo_post\n    ...TranslatedBy_post\n    ...PostInternalLinks_posts\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return On=function(){return e},e}n.d(t,"a",(function(){return kn}));var _n=function(e){return{color:e.baseColor.text.normal}},jn=function(e){return{marginTop:"40px",clear:"both",marginBottom:e?void 0:"40px"}},Ln={setClapCountsForPost:En.d},kn=(t.b=Object(m.c)((function(e){return{clapsPerPost:e.multiVote.clapsPerPost,isAmp:e.config.isAmp}}),Ln)((function(e){var t=e.post,n=e.isAmp,r=e.clapsPerPost,o=e.setClapCountsForPost,a=e.setIsResponsesSidebarVisible,s=t.id,l=t.tags,u=t.sequence,m=t.visibility,p=t.isPublished,h=t.allowResponses,b=c.useRef(null),y=Object(V.useCx)(),x=c.useContext(d.b);return c.useEffect((function(){x.updateWatchedBounds("footer",b,{type:"footer"})}),[]),c.createElement("div",{ref:b},c.createElement(dt.b,{source:{susiEntry:"follow_footer",name:"follow_footer"}},c.createElement("div",{className:y([jn(p),Object(Sn.a)({flexDirection:"column",justifyContent:"center"})])},c.createElement(g.w,{size:"inset"},!p&&c.createElement(g.b,{height:"20px",borderTop:"BASE_LIGHTER"}),c.createElement(g.b,{display:"flex",flexWrap:"wrap"},p&&c.createElement(rn,{post:t}),p&&c.createElement(sn,{post:t})),c.createElement(g.b,{display:"flex",flexWrap:"wrap",alignItems:"center"},"UNLISTED"===m&&c.createElement(g.b,null,c.createElement(f.a,{scale:"S"},c.createElement(Cn.a,null)," ",c.createElement("span",{className:y(_n)},"Unlisted"),"ALL_RIGHTS_RESERVED"!==t.license&&c.createElement("span",{style:{marginLeft:"5px",marginRight:"5px"}},"|"))),t.license&&"ALL_RIGHTS_RESERVED"!==t.license&&c.createElement(Gt,{license:t.license})),l&&c.createElement(g.b,{marginTop:"25px"},c.createElement(Q,{tags:l})),!n&&c.createElement(Et,{post:t,clapsForPost:Object(wn.a)(t,r),setClapCountsForPost:o}),p&&c.createElement(c.Fragment,null,c.createElement(Tt,{post:t}),h&&c.createElement(g.b,{borderTop:"BASE_LIGHTER",paddingTop:"25px",print:{display:"none"}},c.createElement(Dt,{post:t,setIsResponsesSidebarVisible:a})))),p&&c.createElement(g.b,{backgroundColor:"BASE_LIGHT",marginTop:"64px",print:{display:"none"}},c.createElement(g.w,null,u&&!u.hideIndex&&c.createElement(mn,{sequence:u}),u?c.createElement(xn,{ref:b,postId:s,rootMargin:"0px 0px 2000px 0px",post:t}):c.createElement(W,{ref:b,postId:s,rootMargin:"0px 0px 2000px 0px",post:t}),c.createElement(vn.a,{name:"post_internal_links"},c.createElement(C,{posts:i()(new Array(8)).map((function(e){return t}))})))))))})),l()(On(),H,fn,St,Mt,At,dn,J,en,an,S))},"./src/components/post/multivote/MultiVote.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/extends.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(a),s=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),l=n.n(s),c=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),u=n.n(c),m=n("./node_modules/graphql-tag/src/index.js"),d=n.n(m),p=n("./node_modules/react/index.js"),g=n.n(p),f=n("./node_modules/@apollo/react-hoc/lib/react-hoc.esm.js"),h=n("./node_modules/react-redux/es/index.js"),b=n("./src/framework/design-system/components/index.ts"),y=n("./src/framework/style/index.ts"),x=n("./src/styles/colors.ts"),v=n("./src/styles/mediaTypes.ts");function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var S=5,C=360/S,w={top:"0",left:"0",width:"60px",height:"60px"},O={top:"-2px",left:"0",width:"25px",height:"36px"},_=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({position:"absolute",pointerEvents:"none"},e?w:O)},j={"0%":{opacity:"0",transform:"scale(1)"},"32%":{opacity:"1"},"100%":{opacity:"0",transform:"scale(1.5)"}},L={"0%":{opacity:"0",transform:"scale(1)"},"32%":{opacity:"1",transform:"scale(1.3)"},"100%":{opacity:"0",transform:"scale(1.6)"}},k=function(e){return i()({animation:"370ms ease-out 1 ".concat(e)},Object(v.b)("reduce"),{animationDuration:"0.1ms"})},P=function(e){var t=e?30:13;return{position:"absolute",top:"".concat(48,"%"),left:"".concat(-5,"px"),transformOrigin:"".concat(t+2+3,"px"),width:"".concat(2,"px"),height:"".concat(2,"px"),borderRadius:"50%",backgroundColor:x.n}},I=function(e){var t=e?30:13;return{position:"absolute",top:"".concat(44,"%"),left:"".concat(-9,"px"),transformOrigin:"".concat(t+6+3,"px"),width:"0",height:"0",borderTop:"2px solid transparent",borderBottom:"2px solid transparent",borderLeft:"".concat(6,"px solid ").concat(x.h)}};function M(e){var t=e.isLarge,n=e.offset,r=e.onBurstEnd,o=Object(y.useCx)(),a=o(_(t));return p.createElement(b.L,{keyframes:{dotKeyframesName:j,triangleKeyframesName:L}},(function(e){for(var i=e.dotKeyframesName,s=e.triangleKeyframesName,l=[],c=[],u=0;u<S;u++){var m=C*u+n;l.push(p.createElement("div",{key:m,className:"".concat(o(P(t))),style:{transform:"rotate(".concat(m,"deg)")}})),c.push(p.createElement("div",{key:m,className:"".concat(o(I(t))),style:{transform:"rotate(".concat(m+13,"deg)")}}))}return p.createElement("div",{className:a},p.createElement("div",{className:"".concat(a," ").concat(o(k(i))),onAnimationEnd:function(){return r(n)}},l),p.createElement("div",{className:"".concat(a," ").concat(o(k(s)))},c))}))}var T=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),B=n.n(T),R=n("./src/styles/breakpoints.ts"),A=n("./src/svg/clap-25px.svg");function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var N=g.a.createElement("g",{fillRule:"evenodd"},g.a.createElement("path",{d:"M13.74 1l.76 2.97.76-2.97zM16.82 4.78l1.84-2.56-1.43-.47zM10.38 2.22l1.84 2.56-.41-3.03zM22.38 22.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M9.1 22.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L6.1 15.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L6.4 11.26l-1.18-1.18a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L11.96 14a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L8.43 9.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L20.63 15c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM13 6.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 23 23.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"})),z=function(e){return g.a.createElement("svg",D({width:29,height:29},e),N)};function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var F=g.a.createElement("path",{d:"M28.86 17.34l-3.64-6.4c-.3-.43-.71-.73-1.16-.8a1.12 1.12 0 0 0-.9.21c-.62.5-.73 1.18-.32 2.06l1.22 2.6 1.4 2.45c2.23 4.09 1.51 8-2.15 11.66a9.6 9.6 0 0 1-.8.71 6.53 6.53 0 0 0 4.3-2.1c3.82-3.82 3.57-7.87 2.05-10.39zm-6.25 11.08c3.35-3.35 4-6.78 1.98-10.47L21.2 12c-.3-.43-.71-.72-1.16-.8a1.12 1.12 0 0 0-.9.22c-.62.49-.74 1.18-.32 2.06l1.72 3.63a.5.5 0 0 1-.81.57l-8.91-8.9a1.33 1.33 0 0 0-1.89 1.88l5.3 5.3a.5.5 0 0 1-.71.7l-5.3-5.3-1.49-1.49c-.5-.5-1.38-.5-1.88 0a1.34 1.34 0 0 0 0 1.89l1.49 1.5 5.3 5.28a.5.5 0 0 1-.36.86.5.5 0 0 1-.36-.15l-5.29-5.29a1.34 1.34 0 0 0-1.88 0 1.34 1.34 0 0 0 0 1.89l2.23 2.23L9.3 21.4a.5.5 0 0 1-.36.85.5.5 0 0 1-.35-.14l-3.32-3.33a1.33 1.33 0 0 0-1.89 0 1.32 1.32 0 0 0-.39.95c0 .35.14.69.4.94l6.39 6.4c3.53 3.53 8.86 5.3 12.82 1.35zM12.73 9.26l5.68 5.68-.49-1.04c-.52-1.1-.43-2.13.22-2.89l-3.3-3.3a1.34 1.34 0 0 0-1.88 0 1.33 1.33 0 0 0-.4.94c0 .22.07.42.17.61zm14.79 19.18a7.46 7.46 0 0 1-6.41 2.31 7.92 7.92 0 0 1-3.67.9c-3.05 0-6.12-1.63-8.36-3.88l-6.4-6.4A2.31 2.31 0 0 1 2 19.72a2.33 2.33 0 0 1 1.92-2.3l-.87-.87a2.34 2.34 0 0 1 0-3.3 2.33 2.33 0 0 1 1.24-.64l-.14-.14a2.34 2.34 0 0 1 0-3.3 2.39 2.39 0 0 1 3.3 0l.14.14a2.33 2.33 0 0 1 3.95-1.24l.09.09c.09-.42.29-.83.62-1.16a2.34 2.34 0 0 1 3.3 0l3.38 3.39a2.17 2.17 0 0 1 1.27-.17c.54.08 1.03.35 1.45.76.1-.55.41-1.03.9-1.42a2.12 2.12 0 0 1 1.67-.4 2.8 2.8 0 0 1 1.85 1.25l3.65 6.43c1.7 2.83 2.03 7.37-2.2 11.6zM13.22.48l-1.92.89 2.37 2.83-.45-3.72zm8.48.88L19.78.5l-.44 3.7 2.36-2.84zM16.5 3.3L15.48 0h2.04L16.5 3.3z",fillRule:"evenodd"}),U=function(e){return g.a.createElement("svg",H({width:33,height:33,viewBox:"0 0 33 33"},e),F)},X=n("./src/svg/clap-filled-25px.svg");function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var V=g.a.createElement("g",{fillRule:"evenodd"},g.a.createElement("path",{d:"M13.74 1l.76 2.97.76-2.97zM18.63 2.22l-1.43-.47-.4 3.03zM11.79 1.75l-1.43.47 1.84 2.56zM24.47 14.3L21.45 9c-.29-.43-.69-.7-1.12-.78a1.16 1.16 0 0 0-.91.22c-.3.23-.48.52-.54.84l.05.07 2.85 5c1.95 3.56 1.32 6.97-1.85 10.14a8.46 8.46 0 0 1-.55.5 5.75 5.75 0 0 0 3.36-1.76c3.26-3.27 3.04-6.75 1.73-8.91M14.58 10.89c-.16-.83.1-1.57.7-2.15l-2.5-2.49c-.5-.5-1.38-.5-1.88 0-.18.18-.27.4-.33.63l4.01 4z"}),g.a.createElement("path",{d:"M17.81 10.04a1.37 1.37 0 0 0-.88-.6.81.81 0 0 0-.64.15c-.18.13-.71.55-.24 1.56l1.43 3.03a.54.54 0 1 1-.87.61L9.2 7.38a.99.99 0 1 0-1.4 1.4l4.4 4.4a.54.54 0 1 1-.76.76l-4.4-4.4L5.8 8.3a.99.99 0 0 0-1.4 0 .98.98 0 0 0 0 1.39l1.25 1.24 4.4 4.4a.54.54 0 0 1 0 .76.54.54 0 0 1-.76 0l-4.4-4.4a1 1 0 0 0-1.4 0 .98.98 0 0 0 0 1.4l1.86 1.85 2.76 2.77a.54.54 0 0 1-.76.76L4.58 15.7a.98.98 0 0 0-1.4 0 .99.99 0 0 0 0 1.4l5.33 5.32c3.37 3.37 6.64 4.98 10.49 1.12 2.74-2.74 3.27-5.54 1.62-8.56l-2.8-4.94z"})),G=function(e){return g.a.createElement("svg",W({width:29,height:29},e),V)};function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var $=g.a.createElement("g",{fillRule:"evenodd"},g.a.createElement("path",{d:"M29.58 17.1l-3.85-6.78c-.37-.54-.88-.9-1.44-.99a1.5 1.5 0 0 0-1.16.28c-.42.33-.65.74-.7 1.2v.01l3.63 6.37c2.46 4.5 1.67 8.8-2.33 12.8-.27.27-.54.5-.81.73a7.55 7.55 0 0 0 4.45-2.26c4.16-4.17 3.87-8.6 2.21-11.36zm-4.83.82l-3.58-6.3c-.3-.44-.73-.74-1.19-.81a1.1 1.1 0 0 0-.89.2c-.64.51-.75 1.2-.33 2.1l1.83 3.86a.6.6 0 0 1-.2.75.6.6 0 0 1-.77-.07l-9.44-9.44c-.51-.5-1.4-.5-1.9 0a1.33 1.33 0 0 0-.4.95c0 .36.14.7.4.95l5.6 5.61a.6.6 0 1 1-.84.85l-5.6-5.6-.01-.01-1.58-1.59a1.35 1.35 0 0 0-1.9 0 1.35 1.35 0 0 0 0 1.9l1.58 1.59 5.6 5.6a.6.6 0 0 1-.84.86L4.68 13.7c-.51-.51-1.4-.51-1.9 0a1.33 1.33 0 0 0-.4.95c0 .36.14.7.4.95l2.36 2.36 3.52 3.52a.6.6 0 0 1-.84.85l-3.53-3.52a1.34 1.34 0 0 0-.95-.4 1.34 1.34 0 0 0-.95 2.3l6.78 6.78c3.72 3.71 9.33 5.6 13.5 1.43 3.52-3.52 4.2-7.13 2.08-11.01zM11.82 7.72c.06-.32.21-.63.46-.89a1.74 1.74 0 0 1 2.4 0l3.23 3.24a2.87 2.87 0 0 0-.76 2.99l-5.33-5.33zM13.29.48l-1.92.88 2.37 2.84zM21.72 1.36L19.79.5l-.44 3.7zM16.5 3.3L15.48 0h2.04z"})),Y=function(e){return g.a.createElement("svg",q({width:33,height:33},e),$)};function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Q=g.a.createElement("path",{d:"M20.13 8.11l-5.61 5.61-5.6-5.61-.81.8 5.61 5.61-5.61 5.61.8.8 5.61-5.6 5.61 5.6.8-.8-5.6-5.6 5.6-5.62",fillRule:"evenodd"}),J=function(e){return g.a.createElement("svg",K({width:29,height:29},e),Q)};var Z=n("./src/util/hooks/useIsomorphicLayoutEffect.tsx"),ee=n("./src/util/useragent.ts");function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=200,oe="multi-vote-undo-revealed",ae={S:p.createElement(A.a,null),M:p.createElement(z,null),L:p.createElement(U,null)},ie={S:p.createElement(X.a,null),M:p.createElement(G,null),L:p.createElement(Y,null)},se={"0%":{transform:"scale(1)",opacity:1},"70%":{transform:"scale(1.4)",opacity:0},"100%":{opacity:0}},le=function(e){return e?"accentColor":"baseColor"},ce={left:"0",height:"100%",position:"absolute",top:"0",width:"100%"},ue=function(e){return function(t){var n;return n={backgroundColor:t.backgroundColor,border:"1px solid ".concat(t.baseColor.border.lighter),borderRadius:"50%",display:"flex",alignItems:"center",height:"60px",position:"relative",width:"60px"},i()(n,Object(v.b)("no-preference"),{transition:"border-color 150ms ease"}),i()(n,":hover",{borderColor:t[e].border.dark}),n}},me=function(e){return{border:"1px solid ".concat(e.baseColor.border.dark)}},de={transform:"translateX(-35px)"},pe=i()({transform:"translateX(0)"},Object(v.b)("no-preference"),{transition:"transform .2s ".concat("cubic-bezier(.25,0,.6,1.4)")}),ge=i()({},":hover + .".concat(oe),de),fe=function(e){var t;return t={},i()(t,R.sm(e),{display:"none"}),i()(t,"border","none"),i()(t,"cursor","pointer"),i()(t,"fill",e.baseColor.fill.lighter),i()(t,"left","4px"),i()(t,"outline","none"),i()(t,"padding","0"),i()(t,"position","absolute"),i()(t,"transition","transform .3s ".concat("cubic-bezier(.25,0,.6,1.4)"," 1s")),i()(t,":hover",de),i()(t,":focus",{fill:e.baseColor.fill.dark}),i()(t,Object(v.b)("reduce"),{transitionDuration:"0.1ms !important"}),t},he=function(e,t){return function(n){return i()({},Object(v.b)("no-preference"),{"::before":ne({background:"\n      radial-gradient(circle, ".concat(n[t].border.darker," 60%, transparent 70%)\n    "),borderRadius:"50%",content:'""',display:"block",zIndex:0},ce),":hover::before":{animation:"".concat(e," 2000ms infinite cubic-bezier(.1,.12,.25,1)")}})}},be=function(e,t){return function(n){var r=ye(e,t,n);return ne({alignItems:"center",background:n.backgroundColor,borderRadius:"50%",display:"flex",justifyContent:"center",zIndex:2},ce,{},r,i()({},Object(v.b)("no-preference"),{transition:"fill ".concat(re,"ms ease")}))}},ye=function(e,t,n){var r,o;switch(e){case"accentColor":var a=n.accentColor.fill;r=a.dark,o=a.normal;break;default:var i=n.baseColor.fill;r=i.lighter,o=i.light}return{fill:o,":focus":{fill:t?o:r},":hover":{fill:t?o:r}}},xe=function(e,t){return function(n){return ye(e,t,n)}},ve=function(e){return{opacity:.25,cursor:"not-allowed"}},Ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return ne({padding:0,outline:0,border:0,userSelect:"none",cursor:"pointer","> svg":{pointerEvents:"none"},":active":{borderStyle:e?"solid":"none"}},t?ge:null,{"-webkit-user-select":"none"})}},Se=!1;function Ce(e){var t=e.callback,n=e.ms,r=void 0===n?300:n,o=e.callImmediately,a=void 0===o||o,i=p.useState(!1),s=u()(i,2),l=s[0],c=s[1];!function(e,t){var n=p.useRef(e);function r(){n.current&&n.current()}p.useEffect((function(){n.current=e}),[e]),p.useEffect((function(){if(null!==t){var e=setInterval(r,t);return function(){clearInterval(e)}}}),[t])}(t,l?r:null);var m=p.useCallback((function(e){"touchstart"===e.type&&(Se=!0),("mousedown"!==e.type||!Se&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:navigator.userAgent;return 0===e.button&&!(Object(ee.a)(t)&&e.ctrlKey)}(e))&&(a&&t(),c(!0))})),d=p.useCallback((function(){c(!1)}));return Object(Z.a)((function(){if(l)return document.addEventListener("mouseup",d),function(){return document.removeEventListener("mouseup",d)}}),[l]),{onMouseDown:m,onTouchStart:m,onTouchEnd:d}}function we(e){var t=e.pulseOnHover,n=void 0===t||t,r=e.isAccentColor,o=void 0!==r&&r,a=e.children,i=Object(y.useCx)(),s=le(o);return p.createElement(b.L,{keyframes:{pulseAnimation:se}},(function(e){var t=e.pulseAnimation;return p.createElement("div",{className:i([ue(s)].concat(n?he(t,s):me))},a)}))}function Oe(e){var t=e.isSuppressed,n=e.onClick,r=Object(y.useCx)();return p.createElement("button",{className:"".concat(r([fe].concat(t?pe:[]))).concat(t?"":" "+oe),onClick:n},p.createElement(J,null))}function _e(e){var t=e.canUndo,n=void 0!==t&&t,r=e.isCircle,a=void 0!==r&&r,i=e.isFilled,s=void 0!==i&&i,l=e.isDisabled,c=void 0!==l&&l,u=e.isUndoSuppressed,m=void 0!==u&&u,d=e.isAccentColor,g=void 0!==d&&d,f=e.scale,h=void 0===f?"L":f,b=e.onClickAndHold,x=e.onUndo,v=Object(y.useCx)(),E=le(g),S=a?be(E,c):xe(E,c),C=Ce({callback:b,ms:re}),w=s||c?ie[h]:ae[h];return b?p.createElement(p.Fragment,null,p.createElement("button",o()({className:v([Ee(a,n),S])},C),w),n&&p.createElement(Oe,{onClick:x,isSuppressed:m})):p.createElement("div",{className:v([Ee(a),S].concat(B()(c?[ve]:[])))},w)}function je(e){var t=e.canUndo,n=e.isCircle,r=e.isFilled,a=e.isUndoSuppressed,i=e.disableReason,s=e.isAccentColor,l=e.scale,c=e.onClickAndHold,u=e.onUndo,m={isFilled:r,scale:l},d={onClickAndHold:c,isAccentColor:s};return i?p.createElement(b.I,{darkTheme:!0,popoverRenderFn:function(){return p.createElement(b.b,{padding:"8px",whiteSpace:"nowrap"},i)},placement:"top",targetDistance:15},p.createElement(_e,o()({isDisabled:!0},m))):n?p.createElement(we,{pulseOnHover:!r,isAccentColor:s},p.createElement(_e,o()({isCircle:!0,canUndo:t,isUndoSuppressed:a,onUndo:u},m,d))):p.createElement(_e,o()({},m,d))}var Le=n("./node_modules/pluralize/pluralize.js"),ke=n.n(Le),Pe=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),Ie=n.n(Pe),Me=n("./node_modules/@babel/runtime/regenerator/index.js"),Te=n.n(Me),Be=n("./node_modules/lodash/cloneDeep.js"),Re=n.n(Be),Ae=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),De=n("./src/components/user/UserAvatar.tsx"),Ne=n("./src/components/user/UserFollowButton.tsx"),ze=n("./src/framework/design-system/type/index.ts"),He=n("./src/framework/design-system/util/type/toRule.ts");function Fe(){return(Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ue=g.a.createElement("g",{fillRule:"evenodd"},g.a.createElement("path",{d:"M7.94 1h-.89L7.5 2.9zM10.09 1.33l-.84-.3-.23 1.95zM5.73 1.04l-.84.3L5.97 3zM5.63 11.57a3043.52 3043.52 0 0 0-1.6-1.6C2.32 8.26 1.25 7.5 1.75 7c.25-.25.62-.3.93 0 .45.46 1.54 1.65 1.54 1.65a.69.69 0 0 0 .34.2c.17.04.36-.06.5-.2.14-.13.06-.47-.06-.6L2.94 5.98c-.29-.29-.39-.78-.08-1.09.3-.29.64-.14.9.12l2.1 2.15a.33.33 0 0 0 .24.1.42.42 0 0 0 .26-.12c.13-.12.2-.36.07-.49L5 5.2c-.56-.56-.6-.95-.36-1.2.35-.35.82-.24 1.45.48l2.8 2.95-.59-1.46s-.37-.97 0-1.17c.37-.2.74.33 1 .72l1.37 2.62a3.29 3.29 0 0 1-.57 4.05c-1.22 1.22-3.18.69-4.48-.6z"}),g.a.createElement("path",{d:"M11.37 4.73c-.26-.4-.7-.4-.98-.19-.19.15-.16.48-.15.7l1.18 2.07c.91 1.49 1.23 2.7.19 4.1.31-.14.4-.27.58-.49.65-.8 1.05-2.47.39-3.88a3.35 3.35 0 0 0-.03-.05l-1.18-2.26z"})),Xe=function(e){return g.a.createElement("svg",Fe({width:15,height:15},e),Ue)},We=n("./src/util/routes.ts");function Ve(){var e=l()(["\n  query PostVotersDialogQuery($postId: ID!, $pagingOptions: PagingOptions) {\n    post(id: $postId) {\n      id\n      title\n      clapCount\n      voterCount\n      voters(paging: $pagingOptions) {\n        items {\n          user {\n            id\n            username\n            name\n            bio\n            ...UserAvatar_user\n            ...UserFollowButton_user\n          }\n          clapCount\n        }\n        pagingInfo {\n          next {\n            page\n          }\n        }\n      }\n      ...UserFollowButton_post\n    }\n  }\n  ","\n  ","\n  ","\n"]);return Ve=function(){return e},e}function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var qe=function(e){return{position:"relative",bottom:"12px",borderRadius:"10px",color:e.backgroundColor,fill:e.backgroundColor,background:e.accentColor.fill.normal,textAlign:"center"}},$e=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({left:"20px",padding:"0 6px"},Object(He.a)((function(e){return{font:e.font.uiHeavy,fontSize:15,lineHeight:20}}))(e))},Ye={left:"24px",padding:"0 2px"},Ke=function(e){var t=e.clapCount,n=[qe,t?$e:Ye];return p.createElement(b.K,null,(function(e){return p.createElement("span",{className:e(n)},t?"+".concat(t):p.createElement(Xe,null))}))},Qe=function(e){var t=e.user,n=e.clapCount,r=e.post,o=t.username,a=t.name,i=t.bio,s=void 0===i?"":i;return a&&o?p.createElement(b.b,{padding:"12px 0"},p.createElement(b.b,{display:"flex",alignItems:"flex-start",justifyContent:"space-between"},p.createElement(b.b,{display:"flex",alignItems:"flex-start"},p.createElement(b.b,{marginRight:"20px"},p.createElement(De.d,{user:t,scale:"S"}),p.createElement(Ke,{clapCount:n})),p.createElement(b.b,{display:"flex",flexDirection:"column",alignItems:"flex-start"},p.createElement(b.u,{href:Object(We.Vb)(o)},p.createElement(ze.b,{scale:"XS"},a," ")),p.createElement(ze.a,{scale:"S"},s))),p.createElement(b.b,{marginLeft:"48px"},p.createElement(Ne.c,{buttonSize:"SMALL",post:r,user:t})))):null},Je=function(e){var t=e.isVisible,n=e.hide,r=e.post,o=e.fetchMore,a=p.useState(!1),i=u()(a,2),s=i[0],l=i[1],c=p.useCallback((function(){return Te.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o||s){e.next=8;break}return l(!0),e.prev=2,e.next=5,Te.a.awrap(o());case 5:return e.prev=5,l(!1),e.finish(5);case 8:case"end":return e.stop()}}),null,null,[[2,,5,8]])}),[o,s,l]);if(!r)return null;var m=r.title,d=r.voters,g=r.clapCount,f=r.voterCount;return p.createElement(b.j,{isVisible:t,hide:n,withAnimation:!0},p.createElement(b.b,{maxWidth:"550px",sm:{paddingTop:"0"},paddingTop:"88px"},p.createElement(b.b,{display:"flex",flexDirection:"column",marginBottom:"24px",textAlign:"center"},p.createElement(ze.b,{scale:"S"},g," claps from ",f," ",1===f?"person":"people",' for "',m,'"')),d&&d.items.map((function(e){var t=e.user,n=e.clapCount;return t&&p.createElement(Qe,{user:t,clapCount:n,post:r,key:t.id})})),o&&p.createElement(b.b,{display:"flex",flexDirection:"column",margin:"24px",alignItems:"center"},p.createElement(b.c,{buttonStyle:"SOCIAL",size:"SMALL",onClick:c},"Show more claps"))))};function Ze(e){var t=e.postId,n=e.isVisible,r=Ie()(e,["postId","isVisible"]);return n?p.createElement(Ae.b,{ssr:!1,query:et,variables:{postId:t,pagingOptions:{limit:10}}},(function(e){var t,a=e.data,i=(a=void 0===a?{}:a).post,s=void 0===i?{}:i,l=e.loading,c=e.error,u=e.fetchMore;if(l)return p.createElement(b.v,null);if(c||!s)return null;var m=s.voters.pagingInfo&&s.voters.pagingInfo.next;if(m){m.__typename;var d=Ie()(m,["__typename"]);t=function(){return u({variables:{pagingOptions:d},updateQuery:function(e,t){var n=t.fetchMoreResult,r=Re()(n);return r.post.voters.items=[].concat(B()(e.post.voters.items),B()(n.post.voters.items)),r}})}}return p.createElement(Je,o()({isVisible:n,post:s,loading:l,fetchMore:t},r))})):null}var et=d()(Ve(),De.b,Ne.b,Ne.a),tt=n("./src/util/numbers.ts");function nt(){var e=l()(["\n  fragment PostVotersNetwork_post on Post {\n    voterCount\n    viewerClapCount\n    recommenders {\n      name\n    }\n  }\n"]);return nt=function(){return e},e}var rt=function(e){var t=e.post,n=e.showVoters,r=(t.viewerClapCount?[{name:"you"}]:[]).concat(t.recommenders||[]).slice(0,2).map((function(e){return e.name}));if(!r.length)return null;var o=(t.voterCount||0)-r.length,a=r.join(o>0?", ":" and "),i="".concat(r.length>1?",":""," and"),s=ke()("other",o),l=o>0?"".concat(i," ").concat(Object(tt.g)(o)," ").concat(s):"";return p.createElement(b.b,{sm:{display:"none"}},p.createElement(b.u,{onClick:n},p.createElement(ze.a,{scale:"S"},"Applause from ".concat(a).concat(l))))},ot=d()(nt()),at=n("./src/framework/design-system/components/util/VisibilityController.tsx"),it=n("./src/framework/design-system/type/Detail.tsx");function st(){var e=l()(["\n  fragment MultiVoteCount_post on Post {\n    id\n    ...PostVotersNetwork_post\n  }\n  ","\n"]);return st=function(){return e},e}function lt(e){var t=e.clapCount,n=e.hasLabel,r=void 0!==n&&n,o=e.showFullNumber,a=void 0!==o&&o,i=e.post,s=e.shouldShowNetwork,l=e.hasDialog,c=void 0!==l&&l,u=i.id;if(!(t>0))return null;var m=r?ke()("clap",t):"",d=function(e){var t=e.showVoters;return s?p.createElement(rt,{showVoters:t,post:i}):null},g="".concat(a?Object(tt.g)(t):Object(tt.d)(t)," ").concat(m),f=function(e){var t=e.showVoters,n=Object(y.useCx)();return p.createElement("div",{className:n((function(e){return{"& button":{textAlign:"left"}}}))},p.createElement(it.a,{color:r?"DARKER":"LIGHTER",scale:"M"},t?p.createElement(b.u,{onClick:t},g):g,p.createElement(d,{showVoters:t})))};return c&&u?p.createElement(at.a,null,(function(e){var t=e.isVisible,n=e.show,r=e.hide;return p.createElement(p.Fragment,null,p.createElement(f,{showVoters:n}),p.createElement(Ze,{isVisible:t,hide:r,postId:u}))})):p.createElement(f,null)}var ct=d()(st(),ot),ut={"0%":{transform:"matrix(0.97, 0, 0, 1, 0, 12)",opacity:"0"},"20%":{transform:"matrix(0.99, 0, 0, 1, 0, 2)",opacity:".7"},"40%":{transform:"matrix(1, 0, 0, 1, 0, -1)",opacity:"1"},"70%":{transform:"matrix(1, 0, 0, 1, 0, 0)",opacity:"1"},"100%":{transform:"matrix(1, 0, 0, 1, 0, 0)",opacity:"1"}},mt="400ms ease-out",dt={"0%":{opacity:"1",transform:"translateY(0px)"},"10%":{opacity:"1",transform:"translateY(-3px)"},"100%":{opacity:"0",transform:"translateY(-50px)"}},pt="400ms ease-out 500ms",gt={"0%":{transform:"scale(1)"},"15%":{transform:"scale(1.1)"},"100%":{transform:"scale(1)"}},ft="500ms",ht=function(e,t){return function(n){var r=t?"accentColor":"baseColor";return i()({backgroundColor:n[r].fill.normal,bottom:"FAR"===e?"85px":"39px",color:"#fff",borderRadius:"50%",fontSize:"15px",height:"35px",left:"FAR"===e?"12px":"-4px",lineHeight:"35px",position:"absolute",textAlign:"center",width:"35px"},Object(v.b)("reduce"),{animationDuration:"0.1ms !important"})}},bt=function(e,t){var n=e.current;n&&(n.style.animation=t,n.scrollTop)};function yt(e){var t=e.clappedAt,n=e.count,r=e.isAccentColor,o=e.onFloatEnd,a=e.placement,i=Object(y.useCx)(),s=p.useState(t),l=u()(s,2),c=l[0],m=l[1],d=t!==c,g=p.useRef({enter:"",exit:"",pop:""}),f=p.useRef(null),h=p.useCallback((function(e){f.current=e,e&&bt(f,"".concat(g.current.enter," ").concat(mt))}),[]);function x(e){var t=g.current;e.animationName===t.enter||e.animationName===t.pop?bt(f,"".concat(t.exit," ").concat(pt)):e.animationName===t.exit&&o()}return d&&(bt(f,""),bt(f,"".concat(g.current.pop," ").concat(ft)),m(t)),p.createElement(b.L,{keyframes:{enter:ut,exit:dt,pop:gt}},(function(e){return g.current=e,p.createElement("div",{ref:h,className:i([ht(a,r)]),onAnimationEnd:x},"+".concat(n))}))}var xt={"0%":{transform:"scale(1)"},"50%":{transform:"scale(1.1)"},"100%":{transform:"scale(1)"}},vt=function(e,t){return i()({animation:"".concat(t," 500ms 1")},Object(v.b)("reduce"),{animationDuration:"0.1ms"})};function Et(e){var t=e.isPopping,n=void 0!==t&&t,r=e.onPopEnd,o=e.children,a=Object(y.useCx)();return p.createElement(b.L,{keyframes:{popAnimation:xt}},(function(e){var t=e.popAnimation;return p.createElement("div",{className:n?a(vt(n,t)):"",onAnimationEnd:r},o)}))}var St=n("./src/components/session/WithViewer.tsx"),Ct=n("./src/components/susi/SusiClickable.tsx"),wt=n("./src/framework/reporter/index.ts"),Ot=n("./src/framework/source/index.ts"),_t=n("./src/store/actions/multiVote.ts"),jt=n("./src/util/post/claps.ts");function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pt(){var e=l()(["\n  mutation MultiVote_clap($targetPostId: ID!, $userId: ID!, $numClaps: Int!) {\n    clap(targetPostId: $targetPostId, userId: $userId, numClaps: $numClaps) {\n      ...clapMutation_post\n    }\n  }\n  ","\n"]);return Pt=function(){return e},e}function It(){var e=l()(["\n  fragment clapMutation_post on Post {\n    id\n    clapCount\n    viewerClapCount\n    ...MultiVoteCount_post\n  }\n  ","\n"]);return It=function(){return e},e}function Mt(){var e=l()(["\n  fragment MultiVote_post on Post {\n    id\n    clapCount\n    creator {\n      id\n      ...SusiClickable_user\n    }\n    viewerClapCount\n    isPublished\n    ...SusiClickable_post\n    collection {\n      id\n      slug\n    }\n    isLimitedState\n    ...MultiVoteCount_post\n  }\n  ","\n  ","\n  ","\n"]);return Mt=function(){return e},e}n.d(t,"b",(function(){return At})),n.d(t,"c",(function(){return Nt})),n.d(t,"d",(function(){return zt})),n.d(t,"a",(function(){return Ut}));var Tt=500,Bt=50,Rt={SUBTLE:"S",SUBTLE_PADDED:"M",OBVIOUS:"L"};var At=d()(Mt(),Ct.c,Ct.e,ct),Dt=d()(It(),ct),Nt=d()(Pt(),Dt),zt=function(e){var t=e.ownProps,n=e.mutate;return{submitClaps:function(e){return n({variables:{targetPostId:t.post.id,userId:t.viewerId,numClaps:e},optimisticResponse:{__typename:"Mutation",clap:kt({__typename:"Post"},t.post,{clapCount:t.post.clapCount+e,viewerClapCount:t.post.viewerClapCount+e})},update:function(n,r){var o=r.data.clap,a=n.readFragment({id:"Post:".concat(o.id),fragment:Dt,fragmentName:"clapMutation_post"});n.writeFragment({id:"Post:".concat(o.id),fragment:Dt,fragmentName:"clapMutation_post",data:kt({},a,{clapCount:t.post.clapCount+e,viewerClapCount:t.post.viewerClapCount+e})})}})}}},Ht=Object(f.a)(Nt,{props:zt})((function(e){var t=e.post,n=e.viewerId,r=e.buttonStyle,o=e.setClapCountsForPost,a=e.clearClapCountsForPost,i=e.submitClaps,s=e.clapsPerPost,l=e.hasDialog,c=e.isAccentColor,m=void 0===c?!!t.collection:c,d=p.useState(null),g=u()(d,2),f=g[0],h=g[1],y=p.useState(0),x=u()(y,2),v=x[0],E=x[1],S=p.useState([]),C=u()(S,2),w=C[0],O=C[1],_=p.useState(!1),j=u()(_,2),L=j[0],k=j[1],P=p.useState(!1),I=u()(P,2),T=I[0],B=I[1],R=p.useState(0),A=u()(R,2),D=A[0],N=A[1],z=Object(jt.a)(t,s),H=z.clapCount,F=z.viewerClapCount,U=z.viewerHasClappedSinceFetch,X=Object(wt.c)(),W=Object(Ot.d)();function V(e){O(w.filter((function(t){return t!==e})))}function G(){i(v),E(0),X.event("post.clientUpvote",{postId:t.id,postIds:[t.id],voteCount:v,source:W})}p.useEffect((function(){if(clearTimeout(f),0!==v){var e=setTimeout(G,Tt);h(e)}else h(null)}),[v]),p.useEffect((function(){return function(){a({postId:t.id})}}),[]);var q,$=t.collection,Y=t.creator,K=t.id,Q=t.isPublished,J=t.isLimitedState,Z=(q=!(!Y||Y.id!==n),J?"This feature is temporarily disabled.":Q?q?"You cannot applaud your own story.":void 0:"You cannot applaud a draft."),ee="OBVIOUS"===r,te=!!(F&&F>0),ne=!!(H&&H>0),re=Rt[r],oe=$&&$.slug?Object(We.Pb)($.slug,K):Object(We.Ob)(K);return p.createElement(b.b,{display:"flex",alignItems:"center"},p.createElement(b.b,{marginRight:ee&&!Z?"16px":"5px",position:"relative"},n||Z?p.createElement(p.Fragment,null,L&&p.createElement(yt,{count:F,clappedAt:D,placement:ee?"FAR":"NEAR",isAccentColor:m,onFloatEnd:function(){k(!1)}}),p.createElement(Et,{isPopping:T,onPopEnd:function(){B(!1)}},p.createElement(je,{scale:re,canUndo:te,isAccentColor:m,isCircle:ee,isFilled:te,isUndoSuppressed:w.length>0,disableReason:Z,onClickAndHold:function(){for(var e=360*Math.random();-1!==w.indexOf(e);)e+=360;O(w.concat(e)),N(Date.now()),k(!0),B(!0),function(){if(F&&F>=Bt)return;o({postId:t.id,clapCount:H+1,viewerClapCount:F+1,viewerHasClappedSinceFetch:!0}),E(v+1)}()},onUndo:function(){F&&(i(-F),o({postId:t.id,clapCount:H-F,viewerClapCount:0,viewerHasClappedSinceFetch:!0}),E(0),X.event("post.clientUnvote",{postId:t.id,postIds:[t.id],unvoteCount:F,source:W}))}})),w.map((function(e){return p.createElement(M,{key:e,isLarge:ee,offset:e,onBurstEnd:V})}))):p.createElement(Ct.a,{operation:"register",post:t,user:t.creator,actionUrl:oe},p.createElement(je,{isAccentColor:m,isCircle:ee,scale:re}))),ne&&!L&&p.createElement(b.b,{marginTop:"5px"},p.createElement(lt,{shouldShowNetwork:ee,post:t,clapCount:H,showFullNumber:U,hasLabel:ee,hasDialog:l})))})),Ft={setClapCountsForPost:_t.d,clearClapCountsForPost:_t.c},Ut=Object(h.c)((function(e){return{clapsPerPost:e.multiVote.clapsPerPost}}),Ft)((function(e){var t=e.post;return p.createElement(Ot.b,{source:{postId:t&&t.id},extendSource:!0},p.createElement(St.b,null,(function(t){return p.createElement(Ht,o()({},e,{viewerId:t&&t.id}))})))}))},"./src/components/post/paragraph/IframeParagraph/iframePostMessageNormalizer.ts":function(e,t,n){"use strict";function r(e){e&&e.iframe&&e.height&&(e.iframe.getAttribute&&"number"==typeof e.height&&i({context:"iframe.resize",height:e.height,src:e.iframe.getAttribute("src")||""}))}function o(e){if(e.data&&"string"==typeof e.data){var t;try{t=JSON.parse(e.data)}catch(e){return}i(t)}}n.d(t,"a",(function(){return s}));var a=[];function i(e){a.forEach((function(t){return t(e)}))}function s(e){return window._resizeIframe||(window._resizeIframe=r,window.addEventListener("message",o)),a.push(e),{destructor:function(){0===(a=a.filter((function(t){return e!==t}))).length&&"undefined"!=typeof window&&(window._resizeIframe=null,window.removeEventListener("message",o))}}}},"./src/components/post/paragraph/ImageParagraph.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(a),s=n("./node_modules/@babel/runtime/helpers/extends.js"),l=n.n(s),c=n("./node_modules/lodash/round.js"),u=n.n(c),m=n("./node_modules/graphql-tag/src/index.js"),d=n.n(m),p=n("./node_modules/react/index.js"),g=n("./src/components/collection/theming/customStyleSheet.ts"),f=n("./src/components/post/body/ParagraphRefsMapContext.tsx"),h=n("./src/components/post/markups/InteractiveMarkups.tsx"),b=n("./src/components/post/markups/Markups.tsx"),y=n("./src/components/post/notes/PostAnnotationsMarker.tsx"),x=n("./src/components/ui/image/FocusableMiroImage.tsx"),v=n("./src/framework/design-system/components/index.ts"),E=n("./src/framework/style/index.ts"),S=n("./src/util/miroImage.ts"),C=function(e){return{backgroundColor:e.brandColor.sage.light}},w=function(e,t){var n=Object(S.d)({freezeGifs:!1,miroId:e,strategy:S.a.Resample,width:t.breakpoints.sm}),r=Object(S.d)({freezeGifs:!1,miroId:e,strategy:S.a.Resample,width:t.breakpoints.md}),o=Object(S.d)({freezeGifs:!1,miroId:e,strategy:S.a.Resample,width:t.breakpoints.lg}),a=Object(S.d)({freezeGifs:!1,miroId:e,strategy:S.a.Resample,width:t.breakpoints.xl});return{xl:"url('".concat(a,"')"),lg:"url('".concat(a,"')"),md:"url('".concat(o,"')"),sm:"url('".concat(r,"')"),xs:"url('".concat(n,"')")}};function O(e){var t=e.metadata,n=Object(E.useCx)();return p.createElement(v.M,null,(function(e){return p.createElement("div",{className:n(C)},p.createElement(x.a,{backgroundImage:w(t.id,e),miroId:t.id,height:"60vh",width:"100%",minHeight:{xl:500,lg:400,md:400,sm:300,xs:300},imgHeight:500,imgWidth:2e3,focusPercent:null===t.focusPercentX||void 0===t.focusPercentX||null===t.focusPercentY||void 0===t.focusPercentY?void 0:[t.focusPercentX,t.focusPercentY]}))}))}var _=n("./src/components/session/WithFlag.tsx"),j=n("./src/components/session/WithViewer.tsx"),L=n("./src/components/session/useFlag.tsx"),k=n("./src/components/ui/FigCaption.tsx"),P=n("./src/components/ui/Figure.tsx"),I=n("./src/components/ui/image/index.ts"),M=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),T=n.n(M),B=n("./src/framework/reporter/index.ts"),R=n("./src/framework/track/index.ts"),A=n("./src/styles/zIndex.ts"),D=function(e,t,n,r,o,a,i){if(!i)return{};var s=Math.min(Math.min(t,r||1/0)/a,Math.min(e,n||1/0)/o),l=a*s,c=o*s,u=(e-c)/2,m=((t-l)/2-(i.left+(a-l)/2))/s,d=(u-(i.top+(o-c)/2))/s;return{transition:"transform 300ms cubic-bezier(0.2, 0, 0.2, 1)",zIndex:A.a.floating,transform:"scale(".concat(s,") translate(").concat(m,"px, ").concat(d,"px)"),position:"absolute",height:"".concat(o,"px"),width:"".concat(a,"px"),cursor:"zoom-out"}},N=function(e){var t=e.children,n=e.height,r=e.width,o=e.originalHeight,a=e.originalWidth,i=e.paragraphRef;return e.isLinked||!o||!a||!n||n===o&&r===a?t:p.createElement(z,{originalHeight:o,originalWidth:a,height:n,width:r,paragraphRef:i},t)},z=function(e){var t=e.children,n=e.originalHeight,r=e.originalWidth,o=e.height,a=e.width,i=e.paragraphRef,s=p.useState(null),l=T()(s,2),c=l[0],u=l[1],m=p.useState(0),d=T()(m,2),g=d[0],f=d[1],h=p.useState(0),b=T()(h,2),y=b[0],x=b[1],S=p.useState(0),C=T()(S,2),w=C[0],O=C[1],_=Object(E.useCx)(),j=Object(B.c)(),L=i&&i.current&&i.current.getBoundingClientRect(),k=p.useCallback((function(){j.event("client.action",{action:"zoom",eventType:"click"})}),[]);p.useEffect((function(){f(window.innerHeight),x(window.innerWidth),O(window.scrollY);var e=function(){c&&Math.abs(w-window.scrollY)>40&&u(!1)},t=function(){f(window.innerHeight),x(window.innerWidth)};return R.a.on("scroll",e),R.a.on("resize",t),function(){R.a.off("scroll",e),R.a.off("resize",t)}}));var P;return p.createElement(p.Fragment,null,p.createElement("div",{onClick:function(){c||k(),u(!c)},className:_(c?D(g,y,n,r,o,a,L):(P=c,{transition:"transform 300ms cubic-bezier(0.2, 0, 0.2, 1)",cursor:"zoom-in",position:"relative",zIndex:null===P?"auto":A.a.floating,width:"100%"})),onTransitionEnd:function(){c||u(null)}},t),p.createElement(v.j,{padding:0,withPageScroll:!0,isVisible:!!c,hide:function(){return u(!1)},withCloseButton:!1},p.createElement(p.Fragment,null)))},H=n("./src/styles/breakpoints.ts"),F=n("./src/styles/position.ts"),U=n("./src/styles/post/spacing.ts"),X=n("./src/util/richText.ts");function W(){var e=o()(["\n  fragment ImageParagraph_customStyleSheet on CustomStyleSheet {\n    id\n    postBodyImage {\n      ...SupportedContainerStyles_styleNode\n    }\n  }\n  ","\n"]);return W=function(){return e},e}function V(){var e=o()(["\n  fragment ImageParagraph_privateNote on Note {\n    ...PostAnnotationsMarker_privateNote\n  }\n  ","\n"]);return V=function(){return e},e}function G(){var e=o()(["\n  fragment ImageParagraph_highlight on Quote {\n    id\n    ...InteractiveMarkups_highlight\n    ...Markups_highlight\n  }\n  ","\n  ","\n"]);return G=function(){return e},e}function q(){var e=o()(["\n  fragment ImageParagraph_paragraph on Paragraph {\n    href\n    layout\n    metadata {\n      id\n      originalHeight\n      originalWidth\n      focusPercentX\n      focusPercentY\n      alt\n    }\n    ...InteractiveMarkups_paragraph\n    ...Markups_paragraph\n    ...PostAnnotationsMarker_paragraph\n  }\n  ","\n  ","\n  ","\n"]);return q=function(){return e},e}n.d(t,"b",(function(){return Y})),n.d(t,"a",(function(){return K})),n.d(t,"c",(function(){return Q}));var $=function(e){return e.experimentalContainers.postPage.paragraphs.IMG||{}},Y=(t.d=p.memo((function(e){var t=e.isSequenceCover,n=void 0!==t&&t,r=e.highlights,o=e.paragraph,a=e.paragraphStyle,s=e.privateNotes,c=e.richTextStyle,m=e.sequenceAspectRatio,d=e.spaceTop,x=e.updateWatchedBounds,C=e.customStyleSheet,w=Object(E.useCx)(),M=Object(L.a)("enable_theme_editor"),T=p.useRef(null),B=Object(f.c)(o,a);p.useEffect((function(){if(x){var e=o.name,t=o.metadata&&o.metadata.id;if(e&&t){var n="";T.current&&(n=T.current.offsetTop.toString()),x("".concat(e,"-").concat(t,"-").concat(n),T,{type:"image"})}}}),[]);var R=o.metadata,A=o.layout;if(!R)return null;var D,z=R.id,W=R.originalHeight,V=R.originalWidth,G=R.alt,q=Object(S.c)(z),Y=function(e){var t=e.layout,n=e.originalWidth,r=e.originalHeight,o=e.sequenceAspectRatio,a=S.a.Resample,i=r&&n?r/n:null,s=n;switch(t){case"CROPPED_HEIGHT_PREVIEW":s=700,i=.3,a=S.a.Crop;break;case"CONSTRAINED_HEIGHT_PREVIEW":s=700,i&&240/i<s&&(s=240/i);break;case"INSET_LEFT":case"INSET_CENTER_SMALL":case"INSET_RIGHT":s=350;break;case"OUTSET_LEFT":s=500;break;case"OUTSET_ROW":case"OUTSET_ROW_CONTINUE":if(s=1e3,o&&i)s*=1/i/o;break;case"OUTSET_CENTER":s=1e3;break;case"FULL_WIDTH":case"FULL_WIDTH_CROPPED_COVER":s=2400;break;default:s=700}return n&&(s=Math.min(s,n)),{width:s,height:i?i*s:void 0,strategy:a}}({layout:A,originalWidth:V||0,originalHeight:W||0,sequenceAspectRatio:m}),K=Y.width,Q=Y.height,J=Y.strategy;if("OUTSET_ROW_CONTINUE"===A&&V&&W&&m){var Z=V/W;D=u()(m/Z,2)}var ee,te=o.text?p.createElement(k.a,{ref:B,textAlign:n?"left":"center",extendLeftRatio:D},s&&p.createElement(y.a,{paragraph:o,privateNotes:s}),p.createElement(_.a,{name:"enable_lite_post_highlights",nonBlocking:!0},(function(e){var t={highlights:r,paragraph:o,paragraphStyle:a};return e&&"FULL_PAGE"===c?p.createElement(j.b,{nonBlocking:!0},(function(e){return p.createElement(h.a,l()({},t,{viewer:e}))})):p.createElement(b.a,l()({},t,{richTextStyle:c}))}))):null;if(n)ee=p.createElement(O,{metadata:{id:z,focusPercentX:R.focusPercentX,focusPercentY:R.focusPercentY}});else{var ne={isAmp:!1,alt:G||void 0,miroId:z,height:Q,width:K,rules:Q?[F.a]:[{maxWidth:"100%"}],maxWidth:Q?void 0:"100%",strategy:J,freezeGifs:"STREAM"===c||"RESAMPLE"!==J,focusPercentX:R.focusPercentX,focusPercentY:R.focusPercentY};if(Object(X.j)(c)){var re=function(){return p.createElement("div",{className:w(K>0?{maxWidth:"".concat(K,"px")}:{})},p.createElement(I.c,ne))};if(!K||!Q)return p.createElement("div",{className:w(Object(U.m)(d))},p.createElement(re,null));ee=p.createElement(re,null)}else if("OUTSET_LEFT"===A||"INSET_LEFT"===A||"INSET_CENTER"===A&&V||"OUTSET_CENTER"===A&&V){var oe=V&&(q?V/2:V);ee=p.createElement(N,{isLinked:!!o.href,width:ne.width,height:ne.height,originalHeight:R.originalHeight,originalWidth:R.originalWidth,paragraphRef:T},p.createElement("div",{className:w((function(e){return{marginLeft:"auto",marginRight:"auto",maxWidth:"OUTSET_CENTER"===A&&oe&&oe<e.maxWidths.outset?"".concat(e.maxWidths.outset,"px"):"".concat(oe,"px")}}))},p.createElement(I.c,l()({},ne,{height:R.originalHeight||ne.height,width:R.originalWidth||ne.width}))))}else ee=V&&"INSET_CENTER"!==A?p.createElement(N,{isLinked:!!o.href,width:ne.width,height:ne.height,originalHeight:R.originalHeight,originalWidth:R.originalWidth,paragraphRef:T},p.createElement(I.c,l()({},ne,{height:R.originalHeight||ne.height,width:R.originalWidth||ne.width}))):p.createElement(v.b,{display:"flex",justifyContent:"center",sm:{display:"block"}},p.createElement(N,{isLinked:!!o.href,width:ne.width,height:ne.height,originalHeight:R.originalHeight,originalWidth:R.originalWidth,paragraphRef:T},p.createElement(I.c,l()({},ne,{width:null,maxWidth:"100%",strategy:null}))));o.href&&(ee=p.createElement("a",{href:o.href},ee))}var ae=[Object(U.m)(d)];if(ae.push({clear:"both"}),n)ae.push((function(e){return i()({},H.lg(e),{paddingLeft:"0px",paddingRight:"0px"})}));else if(("OUTSET_ROW"===A||"OUTSET_ROW_CONTINUE"===A)&&V&&W&&m){var ie=V/W,se=u()(ie/m*100,2);ae.push({width:"".concat(se,"%"),marginRight:"10px",paddingTop:"5px",paddingBottom:"5px",":last-of-type":{marginRight:0}})}else"OUTSET_CENTER"===A?ae.push({paddingBottom:"5px",paddingTop:"5px"}):"OUTSET_LEFT"===A?ae.push((function(e){var t;return t={background:e.backgroundColor,borderWidth:e.borderWidthThick+"px",borderStyle:e.borderStyle,borderColor:e.backgroundColor,float:"left",marginLeft:"-150px",marginRight:"30px",width:"75%",padding:"0",paddingBottom:"10px"},i()(t,H.lg(e),{float:"none",marginLeft:"0",marginRight:"0",width:"100%"}),i()(t,"marginBottom","16px"),t})):"INSET_LEFT"===A?ae.push({float:"left",width:"50%",paddingBottom:"10px",paddingRight:"30px",marginBottom:"16px"}):"FULL_WIDTH"===A?ae.push({width:"100%"}):"INSET_CENTER"===A&&ae.push({marginLeft:"auto",marginRight:"auto"});return M&&(ae.push($),ae.push((function(){return function(e){return Object(g.c)(null==e?void 0:e.postBodyImage)}(C)}))),p.createElement(P.a,{className:"".concat(w(ae)," paragraph-image"),figCaption:te,figureRef:T},ee)})),d()(q(),h.c,b.c,y.b)),K=d()(G(),h.b,b.b),Q=d()(V(),y.c);d()(W(),g.a)},"./src/components/read-next/ReadNext.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(a),s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),l=n.n(s),c=n("./node_modules/graphql-tag/src/index.js"),u=n.n(c),m=n("./node_modules/react/index.js"),d=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),p=n("./node_modules/react-redux/es/index.js"),g=n("./src/components/ui/image/index.ts"),f=n("./src/framework/design-system/components/index.ts"),h=n("./src/framework/design-system/type/Detail.tsx"),b=n("./src/framework/design-system/type/Overline.tsx"),y=n("./src/framework/style/index.ts"),x=n("./src/util/miroImage.ts"),v=n("./src/util/routes.ts");function E(){var e=o()(["\n  fragment ReadNextPostCard_post on Post {\n    id\n    title\n    mediumUrl\n    primaryTopic {\n      name\n      slug\n    }\n    collection {\n      id\n      name\n    }\n    previewImage {\n      id\n      alt\n      focusPercentX\n      focusPercentY\n    }\n  }\n"]);return E=function(){return e},e}var S=u()(E()),C=Object(p.c)((function(e){return{mediumOwnedAndOperatedCollectionIds:e.config.mediumOwnedAndOperatedCollectionIds,isCustomDomain:e.client.isCustomDomain}}))((function(e){var t=e.isCustomDomain,n=e.mediumOwnedAndOperatedCollectionIds,r=e.post,o=r&&r.previewImage||{},a=o.focusPercentX,i=o.focusPercentY,s=o.id,l=o.alt,c=r.collection||{},u=c.name,d=c.id,p=r.primaryTopic&&r.primaryTopic.name,E=d&&(n.includes(d)?u:p)||"",S=r&&r.title||"",C=Object(v.lb)(r,t),w=Object(y.useCx)(),O=m.createElement(f.b,{marginBottom:"4px"},m.createElement(b.a,{tag:"span"},m.createElement(h.a,{scale:"S",color:"DARKER"},m.createElement("div",{className:w({whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"})},E))));return m.createElement(f.f,{href:C},m.createElement(f.b,{display:"flex",flexDirection:"column",justifyContent:"center",marginTop:"20px"},O,m.createElement(f.b,{display:"flex",flexDirection:"row"},m.createElement(g.b,{miroId:s||"",alt:l||"",height:50,width:50,freezeGifs:!0,strategy:x.a.Crop,rules:{marginRight:"9px",marginTop:"4px"},focusPercentX:a||50,focusPercentY:i||50}),m.createElement(f.b,{display:"flex",flexDirection:"column",width:"130px"},m.createElement(h.a,{scale:"S",color:"DARKER",clamp:3},S)))))})),w=n("./src/components/session/WithViewer.tsx"),O=n("./src/framework/design-system/components/buttons/CloseButton.tsx"),_=n("./src/framework/design-system/type/index.ts"),j=n("./src/framework/design-system/util/style/responsiveStyles.ts"),L=n("./src/framework/reporter/index.ts"),k=n("./src/framework/source/index.ts"),P=n("./src/screens/helpers/visits.ts"),I=n("./src/util/constants.ts");function M(){var e=o()(["\n  query ReadNextQuery($postId: ID!) {\n    post(id: $postId) {\n      id\n      readNext {\n        ... on ReadNextItem {\n          reason\n          post {\n            ... on Post {\n              ...ReadNextPostCard_post\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return M=function(){return e},e}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return A})),n.d(t,"b",(function(){return D}));var R=function(e){var t={display:"none"};return Object(j.a)(e,{":last-of-type":{xs:t,sm:t,md:t,lg:t,xl:{display:"block"}}})},A=function(e){var t=e.isVisible,n=void 0===t||t,r=e.postId,o=m.useState(!1),a=l()(o,2),i=a[0],s=a[1],c=Object(d.d)(w.a).data,u=(c=void 0===c?{viewer:void 0}:c).viewer,p=Object(d.b)(N),g=l()(p,2),h=g[0],b=g[1],x=b.called,v=b.loading,E=b.error,S=b.data,j=(S=void 0===S?{post:void 0}:S).post,I=u&&D(u)&&!(Object(P.g)()||i),M=Object(L.c)(),T=Object(y.useCx)(),A=Object(k.e)(),z=j&&j.readNext;return m.useEffect((function(){v||!E||z&&z.length||M.event("readNextError",{post:j,postId:r,error:E,readNextLength:z&&z.length||0})}),[v]),m.useEffect((function(){n&&z&&(M.event("readNext.viewed",{position:"sidebar"}),z.slice(0,4).map((function(e,t){var n=e.post,r=e.reason;return M.event("post.clientPresented",{source:Object(k.c)(B({},A,{index:t,postFeedReason:r||void 0})),location:"post/".concat(n&&n.id)}),!0})))}),[n,z]),!x&&I&&h({variables:{postId:r||""}}),x&&!v&&!E&&j&&z&&z.length&&I?m.createElement(k.b,{source:{name:"read_next",sectionType:k.a.READ_NEXT_SIDEBAR},extendSource:!0},m.createElement(f.b,{width:"188px"},m.createElement(f.b,{md:{display:"none"},lg:{width:"780px",margin:"0 24px"},position:"relative",backgroundColor:"BACKGROUND",paddingBottom:"24px",paddingTop:"24px",width:"100%"},m.createElement(f.b,{position:"absolute",right:"0",top:"-4px"},m.createElement(O.a,{onClick:function(){Object(P.a)(),s(!0)},size:"SMALL",isPositionAbsolute:!1})),m.createElement(f.b,{width:"200px"},m.createElement(_.c,{scale:"XS"},"Your journey starts here.")),m.createElement(f.b,{display:"flex",flexDirection:"column",justifyContent:"space-between"},j.readNext.slice(0,4).map((function(e,t){var n=e.post;return m.createElement("div",{className:T(R),key:t},m.createElement(C,{key:t,post:n}))})))))):null};function D(e){return e&&e.createdAt+I.a>Date.now()}var N=u()(M(),S)},"./src/components/responses/ResponsesSidebar.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return E}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(a),s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),l=n.n(s),c=n("./node_modules/graphql-tag/src/index.js"),u=n.n(c),m=n("./node_modules/react/index.js"),d=n("./src/framework/design-system/components/index.ts"),p=n("./src/framework/design-system/components/buttons/CloseButton.tsx"),g=n("./src/framework/style/index.ts"),f=n("./src/styles/breakpoints.ts");function h(){var e=o()(["\n  fragment PostResponses_post on Post {\n    responses {\n      stream {\n        itemType {\n          ... on StreamItemPostStoryResponse {\n            post {\n              content {\n                bodyModel {\n                  paragraphs {\n                    text\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return h=function(){return e},e}var b=function(){return{top:"0px",left:"0px",width:"100%",height:"100%",position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.08)",zIndex:510,cursor:"pointer",opacity:1,transition:"opacity 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s"}},y=function(e){return l()({width:"414px",position:"fixed",zIndex:520,backgroundColor:"white",right:"0px",top:"0px",height:"100%",boxSizing:"border-box",padding:"0px 24px",overflow:"hidden scroll",boxShadow:"rgba(0, 0, 0, 0.15) 0px 4px 12px",opacity:1,transform:"translateX(0px)",transition:"transform 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s, opacity 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s"},Object(f.sm)(e),{left:0,top:"30px",right:"100%",width:"100%",borderTopLeftRadius:"20px",borderTopRightRadius:"20px"})},x=function(e,t){if(!e){return t<727.98?{transform:"translateY(100%)"}:{transform:"translateX(415px)"}}},v=function(e){var t=e.setIsResponsesSidebarVisible,n=e.isResponsesSidebarVisible,r=Object(g.useCx)(),o=m.useRef(null),a=m.useState(0),s=i()(a,2),l=s[0],c=s[1],u=function(e){var n;(null==o?void 0:null===(n=o.current)||void 0===n?void 0:n.contains(e.target))||t(!1)};return m.useEffect((function(){c(window.innerWidth)}),[]),m.useEffect((function(){if(n)return document.addEventListener("mousedown",u),function(){document.removeEventListener("mousedown",u)}}),[n]),m.createElement(m.Fragment,null,n&&m.createElement("div",{className:r(b)}),m.createElement("div",{ref:o,className:r([y,x(n,l)])},m.createElement(d.b,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end",paddingTop:"24px",paddingBottom:"12px"},m.createElement("h2",null,"Responses"),m.createElement(p.a,{onClick:function(){return t(!1)},size:"SMALL",isPositionAbsolute:!1}))))},E=u()(h())},"./src/components/sequence/SequenceCoverImage.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return d}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/graphql-tag/src/index.js"),i=n.n(a),s=n("./node_modules/react/index.js"),l=n("./src/components/ui/image/index.ts"),c=n("./src/util/miroImage.ts");function u(){var e=o()(["\n  fragment SequenceCoverImage_sequence on Sequence {\n    title\n    coverImage {\n      id\n    }\n  }\n"]);return u=function(){return e},e}function m(e){var t=e.sequence,n=e.width,r=e.height,o=t.title,a=t.coverImage;return a?s.createElement("div",null,s.createElement(l.b,{miroId:a.id,alt:o||"Collection on Medium",width:n,height:r,strategy:c.a.Resample,freezeGifs:!1})):null}var d=i()(u())},"./src/components/social/ShareButton.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/extends.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),i=n.n(a),s=n("./node_modules/graphql-tag/src/index.js"),l=n.n(s),c=n("./node_modules/react/index.js"),u=n.n(c),m=n("./node_modules/react-redux/es/index.js"),d=n("./src/framework/design-system/components/index.ts"),p=n("./src/framework/design-system/type/index.ts"),g=n("./src/framework/reporter/index.ts"),f=n("./src/framework/source/index.ts"),h=n("./src/framework/style/index.ts");function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var y=u.a.createElement("path",{d:"M18.26 10.55c0-4.3-3.47-7.79-7.75-7.79a7.77 7.77 0 0 0-7.75 7.79 7.77 7.77 0 0 0 6.54 7.68v-5.49H7.4v-2.2h1.9V8.92c0-1.88 1.14-2.9 2.8-2.9.8 0 1.49.06 1.69.08v1.97h-1.15c-.91 0-1.1.43-1.1 1.07v1.4h2.17l-.28 2.2h-1.88v5.52a7.77 7.77 0 0 0 6.7-7.71"}),x=function(e){return u.a.createElement("svg",b({width:21,height:21,viewBox:"0 0 21 21"},e),y)};function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var E=u.a.createElement("path",{d:"M23.2 5H5.8a.8.8 0 0 0-.8.8V23.2c0 .44.35.8.8.8h9.3v-7.13h-2.38V13.9h2.38v-2.38c0-2.45 1.55-3.66 3.74-3.66 1.05 0 1.95.08 2.2.11v2.57h-1.5c-1.2 0-1.48.57-1.48 1.4v1.96h2.97l-.6 2.97h-2.37l.05 7.12h5.1a.8.8 0 0 0 .79-.8V5.8a.8.8 0 0 0-.8-.79"}),S=function(e){return u.a.createElement("svg",v({width:29,height:29},e),E)};function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var w=u.a.createElement("path",{d:"M3 4.07C3 3.48 3.5 3 4.1 3h12.8c.6 0 1.1.48 1.1 1.07v12.86c0 .59-.5 1.07-1.1 1.07H4.1A1.1 1.1 0 0 1 3 16.93V4.07z"}),O=u.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.55 15.56V8.78H5.28v6.78h2.27zM6.4 7.86c.8 0 1.29-.52 1.29-1.17-.02-.67-.5-1.17-1.27-1.17-.78 0-1.28.5-1.28 1.17 0 .65.49 1.17 1.25 1.17h.01zM8.8 15.56h2.27v-3.79a1.24 1.24 0 0 1 1.24-1.37c.81 0 1.14.62 1.14 1.53v3.63h2.27v-3.89c0-2.08-1.12-3.05-2.61-3.05-1.22 0-1.76.68-2.06 1.15h.02v-.99H8.8c.03.64 0 6.78 0 6.78z",fill:"#fff"}),_=function(e){return u.a.createElement("svg",C({width:21,height:21,viewBox:"0 0 21 21",fill:"none"},e),w,O)};function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var L=u.a.createElement("path",{d:"M5 6.36C5 5.61 5.63 5 6.4 5h16.2c.77 0 1.4.61 1.4 1.36v16.28c0 .75-.63 1.36-1.4 1.36H6.4c-.77 0-1.4-.6-1.4-1.36V6.36z"}),k=u.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.76 20.9v-8.57H7.89v8.58h2.87zm-1.44-9.75c1 0 1.63-.65 1.63-1.48-.02-.84-.62-1.48-1.6-1.48-.99 0-1.63.64-1.63 1.48 0 .83.62 1.48 1.59 1.48h.01zM12.35 20.9h2.87v-4.79c0-.25.02-.5.1-.7.2-.5.67-1.04 1.46-1.04 1.04 0 1.46.8 1.46 1.95v4.59h2.87v-4.92c0-2.64-1.42-3.87-3.3-3.87-1.55 0-2.23.86-2.61 1.45h.02v-1.24h-2.87c.04.8 0 8.58 0 8.58z",fill:"#fff"}),P=function(e){return u.a.createElement("svg",j({width:29,height:29,viewBox:"0 0 29 29",fill:"none"},e),L,k)},I=n("./src/svg/twitter-filled-21px.svg");function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var T=u.a.createElement("path",{d:"M22.05 7.54a4.47 4.47 0 0 0-3.3-1.46 4.53 4.53 0 0 0-4.53 4.53c0 .35.04.7.08 1.05A12.9 12.9 0 0 1 5 6.89a5.1 5.1 0 0 0-.65 2.26c.03 1.6.83 2.99 2.02 3.79a4.3 4.3 0 0 1-2.02-.57v.08a4.55 4.55 0 0 0 3.63 4.44c-.4.08-.8.13-1.21.16l-.81-.08a4.54 4.54 0 0 0 4.2 3.15 9.56 9.56 0 0 1-5.66 1.94l-1.05-.08c2 1.27 4.38 2.02 6.94 2.02 8.3 0 12.86-6.9 12.84-12.85.02-.24 0-.43 0-.65a8.68 8.68 0 0 0 2.26-2.34c-.82.38-1.7.62-2.6.72a4.37 4.37 0 0 0 1.95-2.51c-.84.53-1.81.9-2.83 1.13z"}),B=function(e){return u.a.createElement("svg",M({width:29,height:29},e),T)},R=n("./src/util/routes.ts");function A(){var e=i()(["\n  fragment ShareButton_post on Post {\n    id\n  }\n"]);return A=function(){return e},e}n.d(t,"b",(function(){return V})),n.d(t,"a",(function(){return q}));var D={fill:"#3b5998"},N={fill:"#38a1f3"},z={fill:"#292929"},H=function(e){return{fill:e.baseColor.fill.lighter}},F=function(e){return{fill:e.baseColor.fill.normal}},U=function(e){return{opacity:.25,cursor:"not-allowed"}},X={marginRight:"8px"},W={FACEBOOK:"Facebook",TWITTER:"Twitter",LINKEDIN:"LinkedIn"},V=l()(A());function G(e){var t=e.buttonStyle,n=e.socialPlatform,r=Object(h.useCx)();switch(t){case"LINK_DISABLED":switch(n){case"FACEBOOK":return c.createElement(S,{className:r(U)});case"TWITTER":return c.createElement(B,{className:r(U)});case"LINKEDIN":return c.createElement(P,{className:r(U)});default:return null}case"LINK":switch(n){case"FACEBOOK":return c.createElement(S,{className:r(F)});case"TWITTER":return c.createElement(B,{className:r(F)});case"LINKEDIN":return c.createElement(P,{className:r(F)});default:return null}case"LINK_INLINE":switch(n){case"FACEBOOK":return c.createElement(x,{className:r(H)});case"TWITTER":return c.createElement(I.a,{className:r(H)});case"LINKEDIN":return c.createElement(_,{className:r(H)});default:return null}case"BUTTON_BRANDED":switch(n){case"FACEBOOK":return c.createElement(x,{className:r([D,X])});case"TWITTER":return c.createElement(I.a,{className:r([N,X])});case"LINKEDIN":return c.createElement(_,{className:r([z,X])});default:return null}default:return null}}var q=Object(m.c)((function(e){var t=e.config;return{authDomain:t.authDomain,isAmp:t.isAmp}}))((function(e){var t,n=e.authDomain,r=e.isAmp,a=e.post,i=e.buttonStyle,s=e.socialPlatform,l=Object(g.c)(),u=Object(f.f)();if("FACEBOOK"===s)t=Object(R.L)(n,a.id);else if("TWITTER"===s)t=Object(R.Lb)(n,a.id);else{if("LINKEDIN"!==s)return null;t=Object(R.X)(n,a.id)}var m=W[s];if(!m)return null;var h={href:t,onClick:function(){u&&l.event("post.shareOpen",{postId:a.id,source:u,dest:s.toLowerCase(),dialogType:"native"})},target:"_blank",noFollow:!0};if(!r&&"LINKEDIN"===s){delete h.href,delete h.target;var b=h.onClick;h.onClick=function(){b();var e=Math.max((window.outerHeight||200)/2-560,100),n=(window.outerWidth||200)/2-250;window.open(t,"LIP","resizable,scrollbars,status,top=".concat(e,",left=").concat(n,",height=").concat(560,",width=").concat(500))}}switch(i){case"LINK_DISABLED":return c.createElement(d.I,{darkTheme:!0,popoverRenderFn:function(){return c.createElement(d.b,{padding:"8px",whiteSpace:"nowrap"},"This feature is temporarily disabled.")},placement:"top",targetDistance:15},c.createElement(G,{buttonStyle:i,socialPlatform:s}));case"LINK":return c.createElement(d.u,h,c.createElement(G,{buttonStyle:i,socialPlatform:s}));case"LINK_INLINE":return c.createElement(d.u,h,c.createElement(G,{buttonStyle:i,socialPlatform:s}),c.createElement(d.b,{display:"inline",marginLeft:"8px",marginTop:"2px"},c.createElement(p.a,{scale:"S",tag:"span"},"Share on ",m)));case"BUTTON_BRANDED":return c.createElement(d.c,o()({},h,{buttonStyle:"SOCIAL",size:"REGULAR",width:"212px"}),c.createElement(d.b,{display:"flex",alignItems:"center",justifyContent:"center"},c.createElement(G,{buttonStyle:i,socialPlatform:s}),"Share with ".concat(m)));default:return null}}))},"./src/components/social/ShareButtons.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return g}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/graphql-tag/src/index.js"),i=n.n(a),s=n("./node_modules/react/index.js"),l=n("./src/components/session/WithFlag.tsx"),c=n("./src/components/social/ShareButton.tsx"),u=n("./src/framework/design-system/components/index.ts"),m=n("./src/framework/source/index.ts");function d(){var e=o()(["\n  fragment ShareButtons_post on Post {\n    id\n    isLimitedState\n    visibility\n    ...ShareButton_post\n  }\n  ","\n"]);return d=function(){return e},e}var p=i()(d(),c.b);function g(e){var t=e.post,n=e.source,r="UNLISTED"===t.visibility;return s.createElement(m.b,{source:n},s.createElement(u.b,{flexGrow:"0",paddingRight:"8px"},!r&&s.createElement(c.a,{socialPlatform:"TWITTER",buttonStyle:t.isLimitedState?"LINK_DISABLED":"LINK",post:t})),s.createElement(l.a,{name:"share_post_linkedin"},(function(e){return e?s.createElement(u.b,{flexGrow:"0",paddingRight:"8px"},!r&&s.createElement(c.a,{socialPlatform:"LINKEDIN",buttonStyle:t.isLimitedState?"LINK_DISABLED":"LINK",post:t})):null})),s.createElement(u.b,{flexGrow:"0",paddingRight:"8px"},!r&&s.createElement(c.a,{socialPlatform:"FACEBOOK",buttonStyle:t.isLimitedState?"LINK_DISABLED":"LINK",post:t})))}},"./src/components/stream/Quote.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(a),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),l=n.n(s),c=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),u=n.n(c),m=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),d=n.n(m),p=n("./node_modules/@babel/runtime/helpers/inherits.js"),g=n.n(p),f=n("./node_modules/graphql-tag/src/index.js"),h=n.n(f),b=n("./node_modules/react/index.js"),y=n("./src/components/post/paragraph/TextParagraph.tsx"),x=n("./src/framework/design-system/components/index.ts"),v=n("./src/util/quote.ts"),E=n("./src/util/routes.ts");function S(){var e=o()(["\n  fragment Quote_quote on Quote {\n    quoteId\n    userId\n    post {\n      id\n      title\n      mediumUrl\n      creator {\n        id\n        username\n        name\n      }\n    }\n    startOffset\n    endOffset\n    paragraphs {\n      text\n      type\n      markups {\n        anchorType\n        end\n        href\n        rel\n        start\n        title\n        type\n        userId\n      }\n      ...TextParagraph_paragraph\n    }\n    ...buildQuotePreviewParagraph_quote\n  }\n  ","\n  ","\n"]);return S=function(){return e},e}var C=function(e){function t(){return i()(this,t),u()(this,d()(t).apply(this,arguments))}return g()(t,e),l()(t,[{key:"render",value:function(){var e=this.props.quote;if(!e||null==e.startOffset||null==e.endOffset||!e.post||!e.post.id)return null;var t=e.post.title,n=e.post.creator&&e.post.creator.name,r=e.post.creator&&e.post.creator.username;if(!n||!r)return null;var o=Object(v.a)(e),a=o&&o.type;return o&&a?b.createElement(x.b,{paddingLeft:"20px",paddingRight:"20px"},b.createElement(x.A,{ui:"REGULAR"},b.createElement(x.d,null,"From"," ",b.createElement(x.u,{href:Object(E.lb)(e.post),inline:!0},t)," ","by"," ",b.createElement(x.u,{href:Object(E.Vb)(r),inline:!0},n))),b.createElement(x.f,{href:Object(E.lb)(e.post)},b.createElement(y.d,{paragraph:o,paragraphStyle:a,spaceTop:30,richTextStyle:"STREAM"}))):null}}]),t}(b.Component);t.b=C;var w=h()(S(),v.b,y.d.fragments.paragraph)},"./src/components/susi/RedirectToSignIn.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("./node_modules/react/index.js"),o=n("./node_modules/react-redux/es/index.js"),a=n("./src/components/navigation/Redirect.tsx"),i=n("./src/util/navigation.ts"),s=n("./src/util/routes.ts"),l=function(e){var t=e.opt_isDraft,n=Object(o.e)((function(e){return{authDomain:e.config.authDomain,currentLocation:e.navigation.currentLocation}})),l=n.authDomain,c=n.currentLocation,u=Object(i.a)(Object(s.ub)(l),{redirect:c,isDraft:t?"1":"0"});return r.createElement(a.a,{to:u,temporary:!0})}},"./src/components/susi/alternate-user/NotYou.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),s=n("./node_modules/react-redux/es/index.js"),l=n("./src/components/session/WithViewer.tsx"),c=n("./src/framework/design-system/components/index.ts"),u=n("./src/framework/source/index.ts"),m=n("./src/store/actions/navigation.ts");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var p=function(e){var t=e.declineSuggestedAccount,n=e.isSocial,r=Object(u.g)(),p=Object(s.d)(),g=Object(i.d)(l.a),f=g.loading,h=g.error,b=g.data,y=(b=void 0===b?{viewer:void 0}:b).viewer;if(f||h)return a.createElement(a.Fragment,null);var x=function(e){var n="SIGNIN_OPTIONS"===e?"login":"register";t(),p(Object(m.o)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({operation:n,step:e},!!r&&{susiEntry:r})))};return y?a.createElement(c.u,{onClick:function(){return t()}},"Not me"):n?a.createElement(c.u,{onClick:function(){return x("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"See all login options"):a.createElement(a.Fragment,null,"Not you?"," ",a.createElement(c.u,{onClick:function(){return x("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"Sign in")," or ",a.createElement(c.u,{onClick:function(){return x("SIGNUP_OPTIONS")},linkStyle:"OBVIOUS"},"create an account"))}},"./src/components/tns/SuspendedBannerLoader.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/graphql-tag/src/index.js"),i=n.n(a),s=n("./node_modules/react/index.js"),l=n("./node_modules/react-redux/es/index.js"),c=n("./src/store/actions/navigation.ts");function u(){var e=o()(["\n  fragment SuspendedBannerLoader_post on Post {\n    id\n    isSuspended\n  }\n"]);return u=function(){return e},e}function m(){var e=o()(["\n  fragment SuspendedBannerLoader_user on User {\n    id\n    isSuspended\n  }\n"]);return m=function(){return e},e}t.c=Object(l.c)()((function(e){var t=e.dispatch,n=e.user,r=e.post;return s.useEffect((function(){n&&n.isSuspended?t(Object(c.k)({duration:"FOREVER",message:"This is a suspended user.",toastStyle:"ERROR"})):r&&r.isSuspended&&t(Object(c.k)({duration:"FOREVER",message:"This story is suspended.",toastStyle:"ERROR"}))}),[]),null}));var d=i()(m()),p=i()(u())},"./src/components/ui/Card.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n("./src/framework/design-system/components/index.ts"),a=n("./src/framework/style/index.ts");t.a=function(e){var t=e.children,n=Object(a.useTheme)();return r.createElement(o.b,{backgroundColor:"BACKGROUND",border:"BASE_LIGHTER",borderRadius:"5px",boxShadow:"0 1px 4px ".concat(n.baseColor.border.lighter),marginBottom:"24px",padding:"23px 0"},t)}},"./src/components/ui/FigCaption.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(a),s=n("./node_modules/react/index.js"),l=n("./src/framework/design-system/util/style/converters.ts"),c=n("./src/framework/style/index.ts"),u=n("./src/styles/breakpoints.ts"),m=n("./src/styles/font.ts"),d=function(e){return function(t){return i()({color:t.baseColor.text.lighter,fontSize:"16px",lineHeight:1.4,marginTop:"10px",textAlign:e,maxWidth:"".concat(Object(l.a)(t,8,!0),"px"),marginLeft:"left"===e?"0":"auto",marginRight:"auto"},u.lg(t),{marginLeft:"auto",textAlign:"center"})}},p=function(e){return function(t){var n=e&&100*e;return{width:"".concat(n,"%"),position:"relative",left:"calc(".concat(100-n/2,"% - 8px)"),transform:"translateX(-50%)"}}},g=s.forwardRef((function(e,t){var n=e.children,r=e.textAlign,a=void 0===r?"center":r,i=e.extendLeftRatio,l=Object(c.useCx)();return s.createElement("figcaption",{className:l([d(a),Object(m.g)()].concat(o()(i?[p(i)]:[]))),ref:t},n)}));t.a=g},"./src/components/ui/Figure.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./node_modules/react/index.js");function o(e){var t=e.children,n=e.figCaption,o=e.className,a=e.figureRef;return r.createElement("figure",{className:o,ref:a},t,n)}},"./src/components/ui/image/FocusableMiroImage.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i=n("./src/framework/design-system/util/style/responsiveStyles.ts"),s=n("./src/framework/style/index.ts"),l=n("./src/util/miroImage.ts"),c=function(e){var t=o()(e,1)[0];return"number"==typeof t?"".concat(t,"px"):t},u=function(e){var t=o()(e,1)[0];return"".concat(t[0],"% ").concat(t[1],"%")},m=function(e){return o()(e,1)[0]};function d(e){var t=e.backgroundImage,n=e.boxShadowRules,r=e.miroId,o=e.height,d=e.width,p=e.minHeight,g=e.minWidth,f=e.imgHeight,h=e.imgWidth,b=e.focusPercent,y=e.strategy,x=void 0===y?l.a.Resample:y,v=e.darken,E=e.freezeGifs,S=Object(s.useCx)(),C=t;if(!C){var w=Object(l.d)({miroId:r,height:f,width:h,strategy:x,darken:v,freezeGifs:E});C="url(".concat(w,")")}var O=Object(i.b)(c,o),_=Object(i.b)(c,d),j=p&&Object(i.b)(c,p),L=g&&Object(i.b)(c,g),k=Object(i.b)(u,b),P=Object(i.b)(m,C);return a.createElement("div",{className:S([function(e){return Object(i.a)(e,{backgroundImage:P,display:"block",backgroundOrigin:"border-box",backgroundSize:"cover",height:O,width:_,minHeight:j,minWidth:L,backgroundPosition:k,maxWidth:"100%"})},n])})}d.defaultProps={focusPercent:[50,50]}},"./src/components/user/UserBlockConfirmDialog.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("./node_modules/react/index.js"),o=n("./src/framework/design-system/components/index.ts");function a(e){var t=e.onConfirm,n=e.isVisible,a=e.hide;return r.createElement(o.h,{onConfirm:t,isVisible:n,hide:a,titleText:"Block this user?",cancelText:"Cancel",confirmText:"Block"},"They will no longer be able to follow you or view your content."," ",r.createElement(o.u,{inline:!0,linkStyle:"OBVIOUS",href:"https://help.medium.com/hc/en-us/articles/214994577-Block-this-user"},"Learn more about blocking"),".")}},"./src/components/user/UserUnblockButton.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/createClass.js"),i=n.n(a),s=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),l=n.n(s),c=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),u=n.n(c),m=n("./node_modules/@babel/runtime/helpers/inherits.js"),d=n.n(m),p=n("./node_modules/react/index.js"),g=n("./src/components/mutations/UserUnblockMutation.tsx"),f=n("./src/components/session/WithViewer.tsx"),h=n("./src/framework/design-system/components/index.ts"),b=function(e){function t(e){var n;return o()(this,t),(n=l()(this,u()(t).call(this,e))).state={isHovering:!1},n}return d()(t,e),i()(t,[{key:"handleMouseEnter",value:function(){this.setState({isHovering:!0})}},{key:"handleMouseLeave",value:function(){this.setState({isHovering:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.buttonSize,r=t.targetUserId,o=this.state.isHovering;return p.createElement(f.b,null,(function(t){return p.createElement(g.a,{targetUserId:r,viewerId:t&&t.id},(function(t){var r=t.mutate;return p.createElement(h.c,{buttonStyle:o?"SUBTLE":"ERROR",onClick:r,size:n||"REGULAR",onMouseEnter:function(){return e.handleMouseEnter()},onMouseLeave:function(){return e.handleMouseLeave()}},o?"Unblock":"Blocked")}))}))}}]),t}(p.Component);t.a=b},"./src/framework/design-system/index.ts":function(e,t,n){"use strict";var r=n("./src/framework/design-system/components/grid-system/index.ts");n.d(t,"a",(function(){return r.c}))},"./src/framework/error/ErrorTypes.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),i=n.n(a),s=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(s),c=n("./node_modules/@babel/runtime/helpers/inherits.js"),u=n.n(c),m=n("./node_modules/@babel/runtime/helpers/wrapNativeSuper.js"),d=function(e){function t(){return o()(this,t),i()(this,l()(t).call(this,"Expected postResult to exist.\n       For more detail, try checking for GraphQL server errors with the same x-request-id."))}return u()(t,e),t}(n.n(m)()(Error))},"./src/handlers/PostHandler.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"PostHandler",(function(){return b}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/graphql-tag/src/index.js"),i=n.n(a),s=n("./node_modules/react/index.js"),l=n("./src/components/session/WithFlag.tsx"),c=n("./src/components/session/useFlag.tsx"),u=n("./src/framework/source/index.ts"),m=n("./src/handlers/SharedPostHandler.tsx"),d=n("./src/screens/PostScreen.tsx"),p=n("./src/util/hooks/useIsRecircSSREnabled.tsx"),g=n("./src/util/routes.ts");function f(){var e=o()(["\n  query PostHandler(\n    $postId: ID!\n    $postMeteringOptions: PostMeteringOptions\n    $enableThemeEditor: Boolean!\n    $includePostRecirc: Boolean!\n    $includeSequenceRecirc: Boolean = false\n  ) {\n    meterPost(postId: $postId, postMeteringOptions: $postMeteringOptions) {\n      __typename\n      ... on MeteringInfo {\n        ...SharedPostHandler_meteringInfo\n        ...PostScreen_meteringInfo\n      }\n    }\n    postResult(id: $postId) {\n      __typename\n      ...SharedPostHandler_postResult\n      ... on Post {\n        ...PostScreen_post\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return f=function(){return e},e}var h=i()(f(),m.d,d.a,m.e,d.b),b=function(e){var t=e.match,n=Object(g.kb)(t),r=Object(p.a)(n),o=!!Object(c.a)("enable_theme_editor");return s.createElement(m.c,{match:t,query:h,extraVariables:{enableThemeEditor:o,includePostRecirc:r}},(function(e){var t=e.meterPost,n=e.postId,r=e.postResult,o=e.viewer;return s.createElement(u.b,{source:{name:"post_page",postId:n}},s.createElement(l.a,{name:"enable_more_branch_data"},(function(e){return s.createElement(d.c,{enableMoreBranchDataFlag:!!e,isLoggedIn:!!o,viewer:o,meteringInfo:t,post:r})})))}))}},"./src/handlers/SharedPostHandler.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),i=n.n(a),s=n("./node_modules/graphql-tag/src/index.js"),l=n.n(s),c=n("./node_modules/react/index.js"),u=n("./node_modules/@apollo/react-components/lib/react-components.esm.js"),m=n("./node_modules/react-redux/es/index.js"),d=n("./node_modules/@babel/runtime/helpers/typeof.js"),p=n.n(d),g=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),f=n.n(g),h=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),b=n("./src/components/optimizely/OptimizelyWrapper.tsx"),y=n("./src/components/style/BaseThemeProvider.tsx"),x=n("./src/framework/design-system/components/index.ts"),v=n("./src/framework/style/index.ts"),E=n("./src/styles/colors.ts"),S=n("./src/styles/zIndex.ts"),C=function(){return{"0%":{transform:"translateY(100%)"},"90%":{transform:"translateY(-5%)"},"100%":{transform:"translateY(0%)"}}},w=function(){return{"0%":{transform:"translateY(0%)",opacity:1},"10%":{transform:"translateY(-5%)",opacity:1},"100%":{transform:"translateY(100%)",opacity:0}}},O=function(e,t){return function(n){return{position:"fixed",bottom:"0",width:"100%",transform:t?"translateY(0%)":"translateY(100%)",transition:"max-height 800ms ease-in",animation:"".concat(e," ").concat(t?800:550,"ms ease-in-out"),zIndex:S.a.metabarCenter}}},_=function(e){var t=e.children,n=e.hide,r=e.isVisible,o=e.responsiveRules,a=e.timeOut,i=e.width,s=e.bannerType,l=c.useState(!1),u=f()(l,2),m=u[0],d=u[1],p=c.useState(null),g=f()(p,2),h=g[0],S=g[1],_=Object(v.useCx)();return a&&!h?S(setTimeout(n,a)):a||clearTimeout(h),r||setTimeout((function(){d(!0)}),800),m?null:c.createElement(y.b,null,c.createElement(x.L,{keyframes:{shiftUp:C,shiftDown:w}},(function(e){var n=e.shiftUp,a=e.shiftDown;return c.createElement("div",{className:_(r?[O(n,r)]:[O(a,r)])},c.createElement(x.M,null,(function(e){return c.createElement(b.a,{featureString:"".concat(s,"-meter-banner"),target:"background-color"},c.createElement(x.b,{boxShadow:"0px 2px 10px ".concat(e.baseColor.border.lighter),width:i||"100%",background:E.D,borderRadius:"4px 4px 0 0",position:"relative",margin:"0 auto",sm:{margin:"0 8px 8px 8px",width:"initial",borderRadius:"4px"},md:o&&o.md||{}},t))})))})))},j=n("./node_modules/pluralize/pluralize.js"),L=n.n(j),k=n("./src/util/numbers.ts"),P=function(e){return e<1||e>9?"".concat(e):Object(k.e)(e)},I=function(e,t){switch(e){case 1:return"You have two free stories left this month.";case 2:return"You have one free story left this month.";case 3:return"This is your last free story.";case 6:return"Smart stories. New ideas. No ads. $5/month.";case 7:case 11:return"Read smarter, not harder.";case 8:return"Some thoughts are worth more than a penny.";case 4:case 9:return"Know more. Upgrade today.";case 5:case 10:default:return"This is the only ad on ".concat(t,". You can make it go away.")}},M=function(e,t,n){var r=t-e,o=P(r),a=L()("story",r);switch(e){case 1:return{lg:"Members get unlimited access to the best stories on ".concat(n," — but you can read ").concat(P(t)," for free this month. Upgrade for $5/month."),sm:"Welcome to your free member preview for this month. Upgrade for unlimited access."};case 5:case 10:return{lg:"We’ve built a better place on the internet for readers, not advertisers. You have ".concat(o," ").concat(a," left in your free member preview this month, so upgrade today for more big ideas and insightful stories."),sm:"We’ve built a better place on the internet for readers, not advertisers. You have ".concat(o," ").concat(a," left in your free member preview this month.")};default:return{lg:"Unlock the best of ".concat(n," when you upgrade for $5/month."),sm:"Unlock the best of ".concat(n," when you upgrade for $5/month.")}}},T=function(e){return{marginTop:"1px",fontStyle:"normal",fontWeight:500,fontFamily:e.font.marketing.family,display:"flex",justifyContent:"center",height:"100px",flexDirection:"column",textAlign:"center"}},B={height:"100px",overflow:"hidden",position:"relative",":after":{position:"absolute",bottom:"0",height:"100%",width:"100%",content:'""',background:"linear-gradient(to bottom, ".concat(E.D," 0%, ").concat(Object(E.B)(0)," 25%, ").concat(Object(E.B)(0)," 75%, ").concat(E.D," 100% )")}},R=function(){return{"25%":{opacity:"1.0"},"50%":{opacity:"0.2"},"75%":{opacity:"1.0"},"100%":{transform:"translateY(calc(-100% + 100px))"}}},A=function(e){var t=e.maxNumber,n=e.minNumber,r=Object(v.useCx)();return c.createElement(x.L,{keyframes:{rollUp:R}},(function(e){var o,a=e.rollUp;return c.createElement("div",{className:r(B)},c.createElement("div",{className:r((o=a,function(e){return{fontSize:"42px",color:e.accentColor.fill.normal,fill:e.accentColor.fill.normal,animation:"".concat(o," 1.5s cubic-bezier(.68, 0, .15,1) forwards 800ms")}}))},Array.from(Array(t-n+1)).map((function(e,n){return c.createElement("div",{className:r(T),key:"number".concat(t-n)},t-n)}))))}))},D=n("./src/components/session/WithViewer.tsx"),N=n("./src/components/susi/alternate-user/AlternateUserEmail.tsx"),z=n("./src/components/susi/alternate-user/AlternateUserSocial.tsx"),H=n("./src/components/susi/alternate-user/NotYou.tsx"),F=n("./src/components/susi/alternate-user/SusiAlternateUserController.tsx"),U=n("./src/components/upsell/UpsellClickable.tsx"),X=n("./src/framework/design-system/type/index.ts"),W=n("./src/framework/design-system/util/style/responsiveStyles.ts"),V=n("./src/framework/reporter/index.ts"),G=n("./src/framework/source/index.ts"),q=n("./src/framework/track/UpsellPresentationTracker.tsx"),$=n("./src/screens/helpers/users.ts"),Y=n("./src/store/actions/navigation.ts"),K=n("./src/svg/arrow-down-19px.svg");function Q(){var e=i()(["\n  fragment LIMeterBanner_post on Post {\n    id\n    ...UpsellClickable_post\n  }\n  ","\n"]);return Q=function(){return e},e}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Z=function(e){return function(t){var n=e?"solid 1px ".concat(t.baseColor.border.lighter):"none";return Object(W.a)(t,{maxHeight:e?"200px":0,overflow:"hidden",animationDelay:"200ms",transition:"max-height 250ms ease-in",borderTop:{xs:n,sm:n,md:"none",lg:"none",xl:"none"},paddingTop:{xs:e?"12px":"0",sm:e?"12px":"0",md:"0",lg:"0",xl:"0"}})}},ee=function(e){return function(t){var n=e?"none":"block",r="block";return Object(W.a)(t,{visibility:e?"hidden":"visible",fill:t.baseColor.text.lighter,":hover":{fill:t.baseColor.text.normal},display:{xs:n,sm:n,md:r,lg:r,xl:r}})}},te=function(e){var t=e.userSocialLogins,n=e.declineSuggestedAccount,r=Object(m.d)();return c.createElement(x.b,{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"normal",alignItems:"center"},c.createElement(x.b,{display:"flex",flexDirection:"row",marginRight:"20px"},t&&(t.facebook||t.google||t.twitter)?c.createElement(z.a,{userSocialLogins:t}):c.createElement(N.a,{onSuccess:function(){return r(Object(Y.o)({step:"CHECK_YOUR_INBOX",operation:"login"}))},redactedEmailAddress:t&&t.redactedEmailAddress||"",userId:t&&t.userId||""},(function(e){var t=e.handleSubmit;return c.createElement("div",{style:{whiteSpace:"nowrap"}},c.createElement(x.c,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:t},"Send login link"))}))),n&&c.createElement(x.b,{display:"flex"},c.createElement(X.a,{scale:"M"},c.createElement(H.a,{declineSuggestedAccount:n,isSocial:!!t&&!!(t.facebook||t.google||t.twitter)}))))},ne=function(e){var t=e.optimizelyFeatureString,n=e.post;return c.createElement(G.b,{source:{name:"upgrade_membership",dimension:"post_counter"}},c.createElement(q.a,null,c.createElement(x.b,{marginTop:"28px",paddingBottom:"36px",sm:{display:"none"},display:"inline-block",textAlign:"center"},c.createElement(b.a,{featureString:t,target:"desktop-upsell-button"},c.createElement(U.a,{width:"170px",isButton:!0,buttonStyle:"BRAND",buttonSize:"REGULAR",post:n},c.createElement(D.b,null,(function(e){return e&&e.hasPastMemberships?"Resume membership":"Upgrade"}))))),c.createElement(x.b,{display:"none",paddingBottom:"20px",sm:{margin:"12px 0 0",display:"block"},textAlign:"center"},c.createElement(b.a,{featureString:t,target:"mobile-upsell-button"},c.createElement(U.a,{width:"170px",isButton:!0,buttonStyle:"BRAND",buttonSize:"SMALL",post:n},c.createElement(D.b,null,(function(e){return e&&e.hasPastMemberships?"Resume membership":"Upgrade"})))))))},re=function(e){var t=e.meterCount,n=e.meterLimit,r=e.post,a=e.reportEventInfo,i=c.useState(!1),s=f()(i,2),l=s[0],u=s[1],d=Object(v.useTheme)(),p=Object(v.useCx)(),g=Object(V.c)(),h=Object(m.e)((function(e){return e.config.productName})),E=Object(m.e)((function(e){return e.session.user.id})),S=function(e,t,n,r){var o=e>1||document.body.offsetWidth<=r.breakpoints.md;return{headlineCopy:I(e,n),isTimer:o,microCopy:M(e,t,n)}}(t,n,h,d),C=S.headlineCopy,w=S.microCopy,O=S.isTimer,j="li-meter-banner-"+t,L=function(e,t,n){a.data.type=t?6:1,g.event("meter.showMeterBanner",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a.data,{alternateUserSuggestionShown:t,alternateUserSuggestionAccountType:Object($.a)(n),alternateUserSuggestionTargetUserId:n.userId,alternateUserSuggestionSourceUserId:e?e.id:E}))};return c.createElement(y.b,null,c.createElement(x.J,{initialVisibility:!0},(function(e){var o=e.isVisible,a=e.hide;return c.createElement(F.a,{postRenderCallback:L},(function(e){var i=e.loading,s=e.showSuggestedAccount,m=e.declineSuggestedAccount,d=e.userSocialLogins;if(i)return c.createElement(c.Fragment,null);var g=O&&!l?6e3:null,f=t>1?"1024px":"100%",h=1===t?void 0:{md:{width:"740px"}};return s&&(u(!1),g=null,f="100%"),c.createElement(_,{hide:a,isVisible:o,timeOut:g,width:f,bannerType:"li",responsiveRules:h},c.createElement(x.b,{display:"flex",flexDirection:"column",justifyContent:"center",padding:"0 40px",maxWidth:"1040px",margin:"0 auto",sm:{padding:"0"}},c.createElement(x.b,{display:"flex"},c.createElement(b.a,{featureString:j,target:"meter-count-slot-machine"},c.createElement(x.b,{sm:{padding:"0 20px"}},c.createElement(A,{minNumber:n-t,maxNumber:n}))),c.createElement(x.b,{display:"flex",flexDirection:"column",paddingLeft:"40px",flexShrink:"1",flexGrow:"1",sm:{padding:"0",margin:"0",justifyContent:"center"},marginTop:"34px"},c.createElement(b.a,{featureString:j,target:"header"},s?c.createElement(c.Fragment,null,c.createElement(x.b,{paddingBottom:"16px",display:"block",sm:{paddingBottom:"0",display:"none",marginTop:"20px"}},c.createElement(X.c,{scale:"L"},"Switch to your member account for unlimited reading.")),c.createElement(x.b,{marginTop:"-5px",paddingBottom:"0",display:"none",sm:{display:"block"}},c.createElement(X.a,{color:"DARKER",scale:"L"},"Switch to your member account for unlimited reading."))):c.createElement(x.b,{paddingBottom:"16px",sm:{paddingBottom:"0",marginTop:"0"}},c.createElement(X.c,{scale:{xs:"XS",sm:"XS",md:"M",lg:"M",xl:"M"}},C))),c.createElement(b.a,{featureString:j,target:"desktop-expandable-section"},c.createElement(x.b,{sm:{display:"none"}},c.createElement("div",{className:p(Z(l||s))},c.createElement(b.a,{featureString:j,target:"desktop-expanded-copy"},c.createElement(X.a,{scale:"L"},s&&d?"Looks like you're already a Medium member. Sign in to keep reading without interruptions.":w.lg)),s?null:c.createElement(ne,{optimizelyFeatureString:j,post:r})))),c.createElement(x.b,{display:"block",sm:{display:"none"},marginTop:"20px",marginBottom:"20px"},s&&d?c.createElement(te,{userSocialLogins:d,declineSuggestedAccount:m}):null)),c.createElement(x.b,{display:"flex",flexDirection:"column",justifyContent:"flex-start",marginTop:"33px",sm:{justifyContent:"center",margin:"0"}},c.createElement(x.b,{display:"flex",padding:"12px"},!s&&c.createElement(b.a,{featureString:j,target:"details-button"},c.createElement("div",{className:p(ee(!!l))},c.createElement(X.a,{scale:"M"},c.createElement(x.u,{onClick:function(){return u(!0)},linkStyle:"SUBTLE"},c.createElement(x.b,{display:"inline",md:{display:"none",marginRight:"0"},marginRight:"4px"},"Details"),c.createElement(x.b,{display:"inline",sm:{margin:"0",display:"block"}},c.createElement(K.a,null)))))),c.createElement(b.a,{featureString:j,target:"".concat(O?"timer":"close","-button")},c.createElement(x.b,{marginLeft:"24px",sm:{display:l||s?"block":"none",margin:"0"}},s||!O||l?c.createElement(x.g,{onClick:a,isPositionAbsolute:!1,size:"SMALL"}):c.createElement(x.i,{delay:800,duration:5200,radius:8,strokeWidth:4})))))),c.createElement(b.a,{featureString:j,target:"mobile-expandable-section"},c.createElement(x.b,{display:"none",sm:{padding:"0 12px",textAlign:"center",display:"block"}},c.createElement("div",{className:p(Z(l))},c.createElement(b.a,{featureString:j,target:"mobile-expanded-copy"},c.createElement(X.a,{scale:"L"},w.sm)),c.createElement(ne,{optimizelyFeatureString:j,post:r}))))),c.createElement(x.b,{marginLeft:"20px",display:"none",sm:{display:"block"},paddingBottom:"20px"},s&&d?c.createElement(te,{userSocialLogins:d,declineSuggestedAccount:m}):null))}))})))},oe=l()(Q(),U.b),ae=n("./node_modules/@babel/runtime/helpers/extends.js"),ie=n.n(ae),se=n("./src/components/session/useFlag.tsx"),le=n("./src/components/susi/SusiClickable.tsx"),ce=n("./src/components/susi/oauth-buttons/FacebookSusiButton.tsx"),ue=n("./src/components/susi/oauth-buttons/GoogleSusiButton.tsx"),me=n("./src/framework/track/index.ts"),de=n("./src/util/miroImage.ts");function pe(){var e=i()(["\n  fragment LOMeterBanner_post on Post {\n    id\n  }\n"]);return pe=function(){return e},e}function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var fe="smart_meter",he=function(e){var t=e.unlockCount,n=Object(de.d)({miroId:"1*LyzKW5k0VC763U3vP6udTQ.png",height:128,width:227,strategy:de.a.Resample}),r="url(".concat(n,")");return c.createElement(b.a,{featureString:"lo-meter-banner-".concat(t),target:"left-image",tag:"span"},c.createElement(x.b,{display:"flex",minWidth:"227px",height:"100%",flexBasis:"227px",backgroundImage:r,backgroundPosition:"right center",backgroundSize:"cover",md:{display:"none"}}))},be=function(e){var t=e.showSuggestedAccount,n=e.userSocialLogins,r=e.unlockCount,o=Object(m.d)(),a={operation:"register"},i=c.createElement(c.Fragment,null,c.createElement(b.a,{featureString:"lo-meter-banner-".concat(r),target:"google-button"},c.createElement(x.b,{marginRight:"12px",sm:{marginRight:"0px",marginBottom:"12px"}},c.createElement(ue.a,a))),c.createElement(b.a,{featureString:"lo-meter-banner-".concat(r),target:"facebook-button"},c.createElement(ce.a,a)));return t&&n&&(i=c.createElement(x.b,{display:"flex",justifyContent:"center"},n.facebook||n.google||n.twitter?c.createElement(z.a,{userSocialLogins:n}):c.createElement(N.a,{onSuccess:function(){return o(Object(Y.o)({step:"CHECK_YOUR_INBOX",operation:"login",susiEntry:fe}))},redactedEmailAddress:n.redactedEmailAddress||"",userId:n.userId},(function(e){var t=e.handleSubmit;return c.createElement(x.c,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:t},"Send login link")})))),c.createElement(x.b,{display:"flex",marginTop:"12px",textAlign:"center",sm:{flexDirection:"column",marginBottom:"12px"}},i)},ye=function(e){var t=e.post,n=e.reportEventInfo,r=c.useState(window.innerWidth),a=f()(r,2),i=a[0],s=a[1],l=Object(m.e)((function(e){return e.config.productName})),u=Object(m.e)((function(e){return e.session.user.id})),d=Object(se.a)("enable_lo_meter_swap"),p=n.data.unlockCount,g=d&&2===p,h=d&&3===p,y=Object(V.c)(),E=Object(v.useTheme)();fe=g||h?g?"metered_view_2":"metered_view_3":"smart_meter";var S=function(e,t,r){y.event("meter.showMeterBanner",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.data,{alternateUserSuggestionShown:t,alternateUserSuggestionAccountType:Object($.a)(r),alternateUserSuggestionTargetUserId:r.userId,alternateUserSuggestionSourceUserId:e?e.id:u}))};return c.useEffect((function(){window.innerWidth<E.breakpoints.md&&y.event("experiment.eligible",{experimentId:"273cb0ef6bb1"});var e=function(){s(window.innerWidth)};return me.a.on("resize",e),function(){me.a.off("resize",e)}}),[]),c.createElement(x.J,{initialVisibility:!0},(function(e){var n=e.isVisible,r=e.hide;return c.createElement(_,{hide:r,isVisible:n,bannerType:"lo"},c.createElement(x.w,{size:{xs:"full",sm:"full",md:"full",lg:"full",xl:"outset"}},c.createElement(x.b,{marginLeft:"12px",marginRight:"12px",display:"flex",flexDirection:"row",md:{marginLeft:"36px",marginRight:"36px",paddingTop:"10px",paddingBottom:"20px"},sm:{marginLeft:"12px",marginRight:"12px",flexDirection:"column"}},i>=1440?c.createElement(c.Fragment,null):c.createElement(he,{unlockCount:p}),c.createElement(G.b,{source:{susiEntry:fe,postId:t.id}},c.createElement(x.b,{display:"flex",flexDirection:"column",marginTop:"33px",marginBottom:"20px",marginLeft:"56px",flexGrow:"1",flexShrink:"1",md:{marginLeft:"0px"},sm:{marginTop:"0px",marginBottom:"0px",marginLeft:"0px"}},c.createElement(x.b,{alignSelf:"flex-end",display:"flex",flexDirection:"row",position:"relative",marginBottom:"-15px",marginRight:"12px",marginTop:"-27px",marginLeft:"12px",md:{marginRight:"0px"},sm:{flexDirection:"column",width:"100%",textAlign:"right",marginBottom:"8px",marginRight:"0px",marginTop:"0px",marginLeft:"0px"}},c.createElement(x.g,{onClick:r,isPositionAbsolute:!1,size:"LARGE"})),c.createElement(F.a,{postRenderCallback:S},(function(e){var t=e.loading,n=e.showSuggestedAccount,o=e.declineSuggestedAccount,a=e.userSocialLogins;if(t)return c.createElement(c.Fragment,null);var i="".concat(n?"suggested-account-":"","lo-meter-banner-").concat(p);return c.createElement(c.Fragment,null,c.createElement(x.b,{display:"flex",flexDirection:"row",sm:{flexDirection:"column",textAlign:"center",marginRight:"0"},marginRight:"86px",flexGrow:"1",flexShrink:"1"},c.createElement(b.a,{featureString:i,target:"header"},c.createElement(X.c,{scale:{xs:"XS",sm:"XS",md:"M",lg:"M",xl:"M"}},n?"Welcome back. Sign in to your ".concat(l," ").concat(a&&a.isMember?"member ":"","account."):g?"Read more stories this month when you create a free Medium account.":h?"This is your last free story this month. Sign up and get an extra one for free.":"Get one more story in your member preview when you sign up. It’s free."))),c.createElement(x.b,ie()({display:"flex",flexDirection:"row",alignItems:"center",sm:{flexDirection:"column",paddingTop:"4px"}},!!n&&{justifyContent:"space-between"}),c.createElement(be,{showSuggestedAccount:n,userSocialLogins:a,unlockCount:p}),c.createElement(x.b,{display:"flex",textAlign:"left",marginTop:"12px",sm:{textAlign:"center",marginLeft:"0px",marginTop:"0px"},marginLeft:"12px",flexShrink:"1"},c.createElement(X.a,{scale:"L"},n&&o?c.createElement(x.b,{margin:"0 12px"},c.createElement(H.a,{declineSuggestedAccount:function(){r(),o()},isSocial:!!a&&!!(a.facebook||a.google||a.twitter)})):c.createElement(c.Fragment,null,c.createElement(b.a,{featureString:i,target:"sign-in-copy",tag:"span"},"Already have an account?"," "),c.createElement(b.a,{featureString:i,target:"sign-in-link",tag:"span"},c.createElement(le.a,{linkStyle:"OBVIOUS",operation:"login",susiEntry:fe},"Sign in")))))))})))))))}))},xe=l()(pe()),ve=n("./src/components/read-next/ReadNext.tsx"),Ee=n("./src/components/susi/susi-modal/SusiContainer.tsx"),Se=n("./src/screens/helpers/visits.ts"),Ce=n("./src/store/actions/branch.ts"),we=n("./src/store/actions/googleOneTap.ts");function Oe(){var e=i()(["\n  fragment MeterController_meteringInfo on MeteringInfo {\n    postIds\n    maxUnlockCount\n  }\n"]);return Oe=function(){return e},e}function _e(){var e=i()(["\n  fragment MeterController_post on Post {\n    creator {\n      id\n    }\n    isLocked\n    lockedSource\n    ...LIMeterBanner_post\n    ...LOMeterBanner_post\n    ...SusiContainer_post\n  }\n  ","\n  ","\n  ","\n"]);return _e=function(){return e},e}function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ke=function(e){var t=e.defaultEventInfo,n=e.meterCount,r=e.meteringInfo,o=e.post,a=e.viewer,i=r.maxUnlockCount||3,s={eventName:"meter.showMeterBanner",data:Le({},t,{type:0,userId:a&&a.id||void 0})};return n<=i?Object(Se.l)()&&Object(ve.b)(a)?(Object(Se.f)(),null):c.createElement(re,{meterCount:n,meterLimit:i,post:o,reportEventInfo:s}):null},Pe=function(e){var t=e.defaultEventInfo,n=e.meterCount,r=e.post,o=e.viewer,a=Object(m.d)(),i=Object(V.c)(),s=Object(m.e)((function(e){return e.navigation})).hasRenderedGoogleOneTap,l=Object(se.a)("one_tap_not_meter"),u=Object(se.a)("enable_lo_meter_swap"),d=c.useState(!1),g=f()(d,2),h=g[0],b=g[1],y=c.useState(!1),x=f()(y,2),v=x[0],E=x[1];c.useEffect((function(){void 0!==("undefined"==typeof document?"undefined":p()(document))&&(i.event("experiment.eligible",{experimentId:"58abb9eeee1e"}),i.event("experiment.eligible",{experimentId:"b630dbce3fa2"}),E(!0))}),[s]);var S={eventName:"meter.showMeterBanner",data:Le({},t,{type:0,userId:o&&o.id||void 0})},C=function(e){return!l||!u||v&&!0!==s?u?(S.data.type=3,c.createElement(ye,{post:r,reportEventInfo:S})):(S.data.type=2,function(e){h||(a(Object(Y.o)({step:"SIGNUP_OPTIONS",post:r,operation:"register",susiEntry:e,reportEventInfo:S})),b(!0))}(e),null):null};switch(n){case 1:return u?null:!l||v&&!0!==s?(S.data.type=3,c.createElement(ye,{post:r,reportEventInfo:S})):null;case 2:return C("metered_view_2");case 3:return C("metered_view_3");default:return null}},Ie=function(e){var t=e.meteringInfo,n=e.post,r=t.postIds.length,o=Object(m.d)(),a=Object(se.a)("enable_mk_branch_cleanup"),i={postId:n.id,unlockCount:r},s=c.useState(!1),l=f()(s,2),u=l[0],d=l[1];c.useEffect((function(){void 0!==("undefined"==typeof document?"undefined":p()(document))&&d(!0)}),[]),c.useEffect((function(){return(1===r&&!a||r>2||v)&&o(Object(Ce.f)(!1)),function(){o(Object(Ce.f)(!0))}}),[]);var g=Object(h.d)(D.a),b=g.loading,y=g.error,x=g.data,v=(x=void 0===x?{viewer:void 0}:x).viewer;if(b||y)return c.createElement(c.Fragment,null);var E=v&&v.mediumMemberAt||void 0,S=n&&n.creator&&n.creator.id||void 0,C=v&&v.id||void 0,w=v?E||S===C:"LOCKED_POST_SOURCE_SYNDICATED"===n.lockedSource,O=!u||!n.isLocked||!t.postIds.includes(n.id)||w,_=v?c.createElement(ke,{defaultEventInfo:i,meterCount:r,meteringInfo:t,post:n,viewer:v}):c.createElement(Pe,{defaultEventInfo:i,hideGoogleOneTap:we.d,meterCount:r,post:n,viewer:v});return c.createElement(c.Fragment,null,!O&&_)},Me=l()(_e(),oe,xe,Ee.d),Te=l()(Oe()),Be=n("./node_modules/url/url.js"),Re=n.n(Be),Ae=n("./src/components/navigation/Redirect.tsx"),De=n("./src/util/navigation.ts");function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(){var e=i()(["\n  fragment PostCanonicalizer_post on Post {\n    mediumUrl\n  }\n"]);return ze=function(){return e},e}var He=l()(ze()),Fe=Object(m.c)((function(e){return{currentHost:e.navigation.host,shareKey:e.navigation.shareKey,source:e.navigation.referrerSource}}))((function(e){var t=e.post,n=e.matchedPath,r=e.children,a=e.currentHost,i=e.shareKey,s=e.source,l=t.mediumUrl;if(!l)return r;var u=Re.a.parse(decodeURIComponent(l)),m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},s?{source:s}:{},{},i?{sk:i}:{});return a!==u.host?c.createElement(Ae.a,{to:Object(De.a)(l,m)}):u.path&&n!==u.path?c.createElement(Ae.a,{to:Object(De.a)(u.path,m)}):r})),Ue=n("./node_modules/date-fns/index.js"),Xe=n("./src/util/referrers.ts");function We(){var e=i()(["\n  fragment FreePostSusiController_post on Post {\n    visibility\n    latestPublishedVersion\n    collection {\n      id\n      domain\n      slug\n    }\n    ...SusiContainer_post\n  }\n  ","\n"]);return We=function(){return e},e}var Ve=function(e){var t=e.post,n=Object(m.d)(),r=Object(V.c)(),o=Object(v.useTheme)(),a=c.useState(!1),i=f()(a,2),s=i[0],l=i[1],u=Object(h.d)(D.a),d=u.loading,p=u.error,g=u.data,b=(g=void 0===g?{viewer:void 0}:g).viewer,y=Object(se.a)("pardon_the_interruption_4"),x=Object(m.e)((function(e){return{isBot:e.client.isBot,isCustomDomain:e.client.isCustomDomain,referrer:e.navigation.referrer,signInWallCustomDomainCollectionIds:e.config.signInWallCustomDomainCollectionIds}})),E=x.isBot,S=x.isCustomDomain,C=x.referrer,w=x.signInWallCustomDomainCollectionIds;c.useEffect((function(){return!function(e,t,n,r,o,a,i,s){var l=e?3:1;return!(n||document.body.offsetWidth<i.breakpoints.lg||Object(Xe.c)(t)||Object(Ue.addDays)(Object(Se.d)(),1)>Date.now()||function(e,t,n){var r="UNLISTED"===e.visibility||!e.latestPublishedVersion,o=e.collection,a=n&&!t.includes(o&&o.id),i=!(!o||!o.slug||"policy"!==o.slug);return r||a||i}(o,a,r))&&(Object(Se.e)()<1&&s.event("experiment.eligible",{experimentId:"e63b47e2f5ac"}),!(Object(Se.e)()<l))}(y,C,E,S,t,w,o,r)?n(Object(Ce.f)(!1)):(l(!0),Object(Se.m)(),n(Object(we.d)()),r.event("signInWall.eligible",{})),function(){n(Object(Ce.f)(!0))}}),[t.id]);var O=S?"post_custom_domain":"post_free";return c.useEffect((function(){!b&&s&&n(Object(Y.o)({step:"SIGNUP_OPTIONS",post:t,operation:"register",susiEntry:O,user:b}))}),[b,s]),d||p?c.createElement(c.Fragment,null):null},Ge=l()(We(),Ee.d),qe=n("./src/components/susi/RedirectToSignIn.tsx"),$e=n("./src/framework/error/ErrorTypes.ts"),Ye=n("./src/screens/ContentErrorScreen.tsx"),Ke=n("./src/screens/ErrorScreen.tsx"),Qe=n("./src/screens/LoadingScreen.tsx"),Je=n("./src/screens/NotFoundScreen.tsx"),Ze=n("./src/screens/SuspendedScreen.tsx");function et(){var e=i()(["\n  fragment UnavailableForLegalReasonsScreen_unavailableForLegalReasons on UnavailableForLegalReasons {\n    lumenId\n  }\n"]);return et=function(){return e},e}function tt(e){var t=e.errorData;return c.createElement(Ye.a,{code:451,title:"451 Not available — Medium",description:"This story is subject to a DMCA copyright or other legal or government claim.",lumenId:t.lumenId})}var nt=l()(et());function rt(){var e=i()(["\n  fragment WithheldInCountryScreen_withheldInCountry on WithheldInCountry {\n    lumenId\n  }\n"]);return rt=function(){return e},e}function ot(e){var t=e.errorData;return c.createElement(Ye.a,{code:451,title:"451 Not available in your country — Medium",description:"This page is not available in your country.",lumenId:t.lumenId})}var at=l()(rt()),it=n("./src/util/routes.ts");function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(){var e=i()(["\n  fragment SharedPostHandler_meteringInfo on MeteringInfo {\n    ...MeterController_meteringInfo\n  }\n  ","\n"]);return lt=function(){return e},e}function ct(){var e=i()(["\n  fragment SharedPostHandler_postResult on PostResult {\n    ...HandlePostResultErrors_postResult\n    ... on Post {\n      ...FreePostSusiController_post\n      ...MeterController_post\n      ...PostCanonicalizer_post\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return ct=function(){return e},e}function ut(){var e=i()(["\n  fragment HandlePostResultErrors_postResult on PostResult {\n    ... on WithheldInCountry {\n      ...WithheldInCountryScreen_withheldInCountry\n    }\n    ... on UnavailableForLegalReasons {\n      ...UnavailableForLegalReasonsScreen_unavailableForLegalReasons\n    }\n  }\n  ","\n  ","\n"]);return ut=function(){return e},e}n.d(t,"b",(function(){return mt})),n.d(t,"e",(function(){return dt})),n.d(t,"d",(function(){return pt})),n.d(t,"a",(function(){return gt})),n.d(t,"c",(function(){return ft}));var mt=l()(ut(),at,nt),dt=l()(ct(),mt,Ge,Me,He),pt=l()(lt(),Te),gt=function(e){var t=e.children,n=e.postResult;switch(n.__typename){case"Post":return t;case"NotFound":return c.createElement(Je.a,null);case"AccountDeleted":return c.createElement(Ye.a,{code:410,title:"410 Deleted by author — Medium",description:"User deactivated or deleted their account."});case"AccountSuspended":return c.createElement(Ze.a,{suspension:"account"});case"PostSuspended":return c.createElement(Ze.a,{suspension:"post"});case"RemovedByUser":return c.createElement(Ye.a,{code:410,title:"410 Deleted by author — Medium",description:"The author deleted this Medium story."});case"UnavailableForLegalReasons":return c.createElement(tt,{errorData:n});case"WithheldInCountry":return c.createElement(ot,{errorData:n});default:return c.createElement(Ke.a,{error:new Error("Unsupported postResult: ".concat(n.__typename))})}},ft=Object(m.c)((function(e){return{source:e.navigation.referrerSource||void 0,referrer:e.navigation.referrer,shareKey:e.navigation.shareKey}}))((function(e){var t=e.children,n=e.match,r=e.query,a=e.referrer,i=e.shareKey,s=e.source,l=e.extraVariables,m=void 0===l?{}:l,d=Object(it.kb)(n);if(!d)return c.createElement(Je.a,null);var p=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({postId:d,postMeteringOptions:{referrer:a,source:s,sk:i}},m);return c.createElement(D.b,null,(function(e){return c.createElement(u.b,{query:r,variables:p},(function(r){var o=r.loading,a=r.error,i=r.data,s=(i=void 0===i?{}:i).meterPost,l=i.postResult;return o?c.createElement(Qe.a,null):a?c.createElement(Ke.a,{error:a}):l?l.latestPublishedVersion||e||"Post"!==l.__typename?c.createElement(gt,{postResult:l},c.createElement(Fe,{post:l,matchedPath:n.url,key:d},l.isLocked?c.createElement(Ie,{meteringInfo:s,post:l}):c.createElement(Ve,{post:l}),t({meterPost:s,postId:d,postResult:l,viewer:e}))):c.createElement(qe.a,{opt_isDraft:!0}):c.createElement(Ke.a,{error:new $e.a})}))}))}))},"./src/screens/ContentErrorScreen.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),a=n("./node_modules/react/index.js"),i=n("./node_modules/react-helmet-async/lib/index.module.js"),s=n("./node_modules/react-router/esm/react-router.js"),l=n("./src/components/metabar/Metabar.tsx"),c=n("./src/framework/design-system/components/index.ts"),u=n("./src/framework/design-system/util/type/toRule.ts"),m=n("./src/framework/style/index.ts"),d=n("./src/styles/font.ts");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var g={fontSize:"20px",textTransform:"uppercase"},f=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(u.a)((function(e){return{font:e.font.marketing,fontSize:192,lineHeight:200,display:"block"}}))(e))},h={fontSize:"24px"};function b(e){var t=e.code,n=e.title,r=e.description,o=e.lumenId,u=Object(m.useCx)();return a.createElement(s.b,{render:function(e){var s=e.staticContext;return s&&(s.statusCode=t),a.createElement(c.M,null,(function(e){return a.createElement("div",null,a.createElement(i.a,null,a.createElement("title",null,n)),a.createElement(l.a,null),a.createElement(c.b,{tag:"section",paddingTop:"60px",paddingBottom:"60px"},a.createElement(c.B,{columns:8},a.createElement(c.b,{display:"flex",alignItems:"flex-start",flexWrap:"wrap"},a.createElement(c.b,{display:"flex",flexDirection:"column"},a.createElement("div",{className:u(g)},"Error"),a.createElement("div",{className:u(f)},t)),a.createElement("div",{className:u(Object(d.l)())},a.createElement(c.b,{marginBottom:"28px"},a.createElement("div",{className:u(h)},r)),o?a.createElement("div",{className:u(h)},"A report is available on"," ",a.createElement(c.u,{href:"https://lumendatabase.org/notices/".concat(o),display:"inline-block",inline:!0,target:"_blank",linkStyle:"OBVIOUS"},"Lumen"),"."):null)))))}))}})}},"./src/screens/PostScreen.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(a),s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),l=n.n(s),c=n("./node_modules/graphql-tag/src/index.js"),u=n.n(c),m=n("./node_modules/react/index.js"),d=n.n(m),p=n("./node_modules/react-redux/es/index.js"),g=n("./src/WatchBounds.tsx"),f=n("./src/components/analytics/ParselyReporter.tsx"),h=n("./src/components/branch-banner/helpers/index.ts"),b=n("./src/components/collection/CollectionMetabar.tsx"),y=n("./src/components/collection/package/collectionIdToNameMaps.ts"),x=n("./src/components/collection/package/interim-components/CollectionFontController.tsx"),v=n("./src/components/collection/package/packageTheme.ts"),E=n("./src/components/collection/theming/CustomThemeWrapper.tsx"),S=n("./src/components/collection/theming/customStyleSheet.ts"),C=n("./src/components/collection/theming/customTheme.ts"),w=n("./src/components/debug/GoogleAnalytics.tsx"),O=n("./src/components/footer/GlobalFooter.tsx"),_=n("./src/components/metabar/Metabar.tsx"),j=n("./src/components/metabar/MetabarLayout.tsx"),L=n("./src/components/meter/PayWall.tsx"),k=n("./src/components/meter/RegWall.tsx"),P=n("./node_modules/lodash/flowRight.js"),I=n.n(P),M=n("./node_modules/@apollo/react-hoc/lib/react-hoc.esm.js"),T=n("./src/components/session/WithViewer.tsx");function B(){var e=o()(["\n  mutation addCollaborator($postId: ID!) {\n    addCollaborator(postId: $postId)\n  }\n"]);return B=function(){return e},e}function R(){var e=o()(["\n  fragment AddCollaborator_post on Post {\n    isPublished\n    id\n  }\n"]);return R=function(){return e},e}var A=u()(R()),D=u()(B()),N=I()(Object(M.a)(D,{name:"AddCollaborator_mutation",props:function(e){var t=e.ownProps,n=e.AddCollaborator_mutation;return{addCollaborator:function(){!t.post.isPublished&&t.viewerId&&n({variables:{postId:t.post.id}})}}}}))((function(e){var t=e.addCollaborator;return m.useEffect(t,[]),null})),z=function(e){return m.createElement(T.b,null,(function(t){return m.createElement(N,i()({viewerId:t?t.id:""},e))}))},H=n("./src/components/optimizely/helpers/index.ts"),F=n("./src/components/post/MaybeRedirectToEditor.tsx"),U=n("./src/components/post/PostBodyInserts.tsx"),X=n("./src/components/post/PostHeader.tsx"),W=n("./src/components/post/PostMetadata.tsx"),V=n("./src/components/post/PostPublishedDialog.tsx"),G=n("./src/components/post/PostSidebar.tsx"),q=n("./src/components/post/body/InteractivePostBody.tsx"),$=n("./src/components/post/bookmark/PostPageBookmarkContext.tsx"),Y=n("./src/components/post/footer/PostFooter.tsx"),K=n("./src/components/post/helpers/loggedOutHistory.ts"),Q=n("./src/components/responses/ResponsesSidebar.tsx"),J=n("./src/components/session/RequireFlag.tsx"),Z=n("./src/components/session/useFlag.tsx"),ee=n("./src/components/style/BaseThemeProvider.tsx"),te=n("./src/framework/design-system/components/index.ts"),ne=n("./src/framework/design-system/type/index.ts"),re=n("./src/store/actions/navigation.ts"),oe=n("./src/styles/colors.ts");function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ie=d.a.createElement("path",{fill:"#fff",d:"M0 0h49v57H0z"}),se=d.a.createElement("path",{d:"M45.95 17.53v-.04l-.05-1.55a5.32 5.32 0 0 0-5.04-5.17c-5.8-.32-10.3-2.2-14.13-5.89l-.03-.03a3.26 3.26 0 0 0-4.4 0l-.03.03c-3.84 3.7-8.33 5.57-14.13 5.89-2.79.15-5 2.42-5.04 5.18l-.05 1.54v.1c-.11 5.84-.25 13.12 2.21 19.73 1.36 3.63 3.41 6.79 6.1 9.38 3.07 2.96 7.09 5.3 11.94 6.98a3.74 3.74 0 0 0 2.4 0c4.85-1.68 8.86-4.03 11.93-6.98 2.69-2.6 4.74-5.76 6.1-9.39 2.47-6.63 2.33-13.92 2.22-19.78zm-5 18.77c-2.6 6.96-7.9 11.74-16.23 14.62a.67.67 0 0 1-.45 0c-8.32-2.87-13.63-7.65-16.23-14.61-2.27-6.1-2.14-12.78-2.03-18.67v-.03c.03-.5.04-1.04.05-1.62.02-1.22 1-2.23 2.24-2.3 3.29-.18 6.17-.81 8.83-1.92 2.64-1.1 5-2.67 7.19-4.77.1-.1.25-.1.36 0a23.11 23.11 0 0 0 7.2 4.77 26.27 26.27 0 0 0 8.82 1.92 2.36 2.36 0 0 1 2.24 2.3c0 .58.02 1.12.05 1.62.11 5.9.24 12.59-2.04 18.69z",fill:"#757575"}),le=d.a.createElement("path",{d:"M24.5 17.76c-7.11 0-12.9 5.4-12.9 12.04 0 6.64 5.79 12.04 12.9 12.04s12.9-5.4 12.9-12.04c0-6.64-5.79-12.04-12.9-12.04zm0 21.25c-5.44 0-9.86-4.13-9.86-9.2 0-5.08 4.42-9.21 9.86-9.21 5.44 0 9.86 4.13 9.86 9.2 0 5.08-4.42 9.2-9.86 9.2z",fill:"#757575"}),ce=d.a.createElement("path",{d:"M28.08 25.1l-5.64 6.12-1.53-1.66c-.56-.6-1.46-.6-2.02 0-.55.6-.55 1.59 0 2.2l2.54 2.75c.28.3.65.45 1.01.45.37 0 .73-.15 1.01-.45l6.65-7.22c.55-.6.55-1.59 0-2.2-.56-.6-1.47-.6-2.02 0z",fill:"#757575"}),ue=function(e){return d.a.createElement("svg",ae({width:49,height:57,viewBox:"0 0 49 57",fill:"none"},e),ie,se,le,ce)};var me=Object(p.c)()((function(e){var t=e.dispatch,n=e.isVisible,r=e.hide;return m.createElement(ee.b,null,m.createElement(te.j,{isVisible:n,hide:r,withCloseButton:!1,withTransparentOverlay:!0},m.createElement(te.b,{display:"flex",justifyContent:"center",paddingTop:"100px"},m.createElement(te.b,{display:"flex",flexDirection:"column",justifyContent:"center",position:"relative",textAlign:"center",background:oe.D,boxShadow:"0 2px 10px ".concat(Object(oe.y)(.15)),borderRadius:"4px",height:"550px",width:"900px",paddingBottom:"14px",md:{width:"600px",height:"auto",padding:"14px 8px"},sm:{width:"95vw !important",padding:"14px 8px"}},m.createElement(te.b,{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%"},m.createElement(te.b,{paddingBottom:"24px"},m.createElement(ue,null)),m.createElement(te.b,{paddingBottom:"24px",paddingRight:"24px",paddingLeft:"24px"},m.createElement(ne.b,{scale:"L"},"The following content was reported as a potential violation of Medium’s rules and is under investigation.")),m.createElement(te.b,{padding:"0 0 24px 0"},m.createElement(te.c,{buttonStyle:"BRAND",size:"REGULAR",onClick:function(){r(),t(Object(re.k)({duration:"FOREVER",message:"",toastStyle:"LIMITED_STATE_BANNER"}))}},"I understand and want to proceed anyways"),m.createElement(te.J,null,(function(e){var t=e.isVisible,n=e.toggle,r=e.hide;return m.createElement(te.x,{isVisible:t,hide:r,display:"block",customZIndex:800,popoverRenderFn:function(){return m.createElement(te.b,{padding:"15px 20px",width:"400px"},m.createElement(ne.a,{scale:"S"},"Anyone can publish on Medium, provided the content adheres to Medium’s rules and policies. When Medium is made aware of potential violations, the content is manually evaluated and appropriate action taken. Some features may be disabled while the content is under review."))},placement:"top",targetDistance:15},m.createElement(te.b,{paddingTop:"10px"},m.createElement(te.u,{onClick:n},m.createElement("u",null,m.createElement(ne.a,{scale:"S"},"Why am I seeing this?")))))})))),m.createElement(te.b,{display:"flex",justifyContent:"center"},m.createElement(te.d,null,"View our"," ",m.createElement(te.u,{href:"https://medium.com/policy/medium-rules-30e5502c4eb4",linkStyle:"OBVIOUS",inline:!0},"Rules,")," ",m.createElement(te.u,{href:"https://medium.com/policy/medium-terms-of-service-9db0094a1e0f",linkStyle:"OBVIOUS",inline:!0},"Terms of Service")," ","&"," ",m.createElement(te.u,{href:"https://medium.com/policy/medium-partner-program-terms-fcfe9cf777b8",linkStyle:"OBVIOUS",inline:!0},"Partner Program Terms")))))))})),de=n("./src/framework/style/index.ts");function pe(){var e=o()(["\n  fragment LimitedStateInterstitial_post on Post {\n    creator {\n      id\n    }\n    isLimitedState\n  }\n"]);return pe=function(){return e},e}var ge=function(e){return function(t){return{filter:e?"blur(10px)":"blur(0)"}}};function fe(e){var t=e.post,n=t.creator,r=t.isLimitedState,o=e.viewerId,a=e.children,i=Object(de.useCx)(),s=m.useState(!1),c=l()(s,2),u=c[0],d=c[1];return m.useEffect((function(){d(!0)}),[]),r&&(n&&n.id)!==o?m.createElement(te.J,{initialVisibility:!0},(function(e){var t=e.isVisible,n=e.hide;return m.createElement(m.Fragment,null,m.createElement("div",{className:i(ge(t))},a),u&&m.createElement(me,{isVisible:t,hide:n}))})):a}var he=u()(pe()),be=n("./src/components/tns/SuspendedBannerLoader.tsx"),ye=n("./src/framework/reporter/index.ts"),xe=n("./src/framework/track/index.ts"),ve=n("./src/schema-types/globalTypes.ts"),Ee=n("./src/screens/helpers/visits.ts"),Se=n("./src/store/actions/branch.ts"),Ce=n("./node_modules/serialize-javascript/index.js"),we=n.n(Ce);function Oe(e){var t={__html:'<script type="application/json">'.concat(we()(e.json,{isJSON:!0}),"<\/script>")};return m.createElement("amp-analytics",{id:"medium-analytics",dangerouslySetInnerHTML:t})}var _e=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),je=n.n(_e);function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){je()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pe=Object(p.c)((function(e){return{googleAnalyticsCode:e.config.googleAnalyticsCode}}))((function(e){var t=e.googleAnalyticsCode,n=e.collectionGoogleAnalyticsId,r={triggers:ke({},{trackPageview:{on:"visible",request:"pageview",vars:{account:t}}},{},n?{trackCollectionPageview:{on:"visible",request:"pageview",vars:{account:n}}}:{})},o={__html:'<script type="application/json">'.concat(we()(r,{isJSON:!0}),"<\/script>")};return m.createElement("amp-analytics",{type:"googleanalytics",id:"google-analytics",dangerouslySetInnerHTML:o})}));function Ie(){var e={__html:'<script type="application/json">'.concat(we()({vars:{apikey:"medium.com"}},{isJSON:!0}),"<\/script>")};return m.createElement("amp-analytics",{type:"parsely",id:"parsely-amp-analytics",dangerouslySetInnerHTML:e})}var Me=n("./src/util/routes.ts"),Te=n("./src/util/theme.ts");function Be(){var e=o()(["\n  fragment PostScreen_post on Post {\n    id\n    canonicalUrl\n    collection {\n      id\n      auroraAlphaEnabled\n      domain\n      googleAnalyticsId\n      slug\n      auroraTheme @include(if: $enableThemeEditor)\n      customStyleSheet @include(if: $enableThemeEditor) {\n        postBody {\n          ...SupportedContainerStyles_styleNode\n        }\n      }\n      ...CollectionMetabar_collection\n      ...Metabar_collection\n      ...RegWall_collection\n      ...ThemeUtilAccent_collection\n    }\n    # please note that the postMeteringOptions are defined in the postHandler file\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n      validatedShareKey\n    }\n    creator {\n      ...SuspendedBannerLoader_user\n    }\n    firstPublishedAt\n    isLocked\n    isPublished\n    layerCake\n    primaryTopic {\n      name\n      slug\n    }\n    title\n    ...AddCollaborator_post\n    ...InteractivePostBody_post\n    ...LimitedStateInterstitial_post\n    ...MaybeRedirectToEditor_post\n    ...Metabar_post\n    ...PayWall_post\n    ...PostBodyInserts_post\n    ...PostFooter_post\n    ...PostHeader_post\n    ...PostMetadata_post\n    ...PostPublishedDialog_prerequisite_post\n    ...PostReadTracker_post\n    ...PostResponses_post\n    ...PostScrollTracker_post\n    ...PostSidebar_post\n    ...RegWall_post\n    ...SuspendedBannerLoader_post\n    ...buildBranchViewData_post\n    ...optimizelyData_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Be=function(){return e},e}function Re(){var e=o()(["\n  fragment PostScreen_meteringInfo on MeteringInfo {\n    __typename\n    postIds\n    maxUnlockCount\n    unlocksRemaining\n    ...RegWall_meteringInfo\n    ...buildBranchViewData_meteringInfo\n  }\n  ","\n  ","\n"]);return Re=function(){return e},e}n.d(t,"a",(function(){return Ne})),n.d(t,"b",(function(){return ze}));var Ae=function(e){return e.experimentalContainers.postPage.postBody},De=function(e){return Object(S.c)(null==e?void 0:e.postBody)};t.c=Object(p.c)((function(e){var t=e.client,n=e.config.authDomain,r=e.navigation,o=e.theme;return{authDomain:n,currentHash:r.currentHash,isBot:t.isBot,postPublishedType:r.postPublishedType,referrer:r.referrer,referrerSource:r.referrerSource,theme:o}}))((function(e){var t=e.authDomain,n=e.currentHash,r=e.dispatch,o=e.isAmp,a=void 0!==o&&o,s=e.isBot,c=e.isLoggedIn,u=e.meteringInfo,d=e.post,p=e.viewer,S=e.postPublishedType,P=e.enableMoreBranchDataFlag,I=e.referrer,M=e.referrerSource,T=d.id,B=d.isPublished,R=d.isLocked,A=d.content,D=d.layerCake,N=d.primaryTopic,ee=d.collection,ne=d.canonicalUrl,oe=ee||{},ae=oe.id,ie=oe.slug,se=oe.colorPalette,le=oe.googleAnalyticsId,ce=A||{},ue=ce.isLockedPreviewOnly,me=ce.validatedShareKey,de=m.useState(!1),pe=l()(de,2),ge=pe[0],he=pe[1],Ce=m.useState(d.readingList===ve.j.READING_LIST_QUEUE||d.readingList===ve.j.READING_LIST_ARCHIVE),we=l()(Ce,2),_e=we[0],je=we[1],Le=m.useRef(null),ke=Object(ye.c)(),Be=le?[le]:null;Object(w.b)(Be,s,a),Object(xe.h)(Le,d),Object(xe.g)(!!c,Le,d);var Re=Object(U.b)(d),Ne=D&&(1===D||2===D||3===D),ze=Ne?N:null,He=Object(Z.a)("enable_responses_2"),Fe=m.useState(!1),Ue=l()(Fe,2),Xe=Ue[0],We=Ue[1],Ve=Object(Z.a)("enable_theme_editor")?null==ee?void 0:ee.customStyleSheet:null;m.useEffect((function(){if(B){var e=P?Object(h.a)({post:d,meteringInfo:u,referrer:I,referrerSource:M,viewer:p}):{data:{}};ee&&ee.domain&&(e.data.$canonical_url=Object(Me.mb)(t,d.id)),Object(H.b)({post:d}),Object(h.f)(e),r(Object(Se.h)(e)),r(Object(Se.j)()),c||Object(Ee.i)(),ke.event("post.clientViewed",{postId:T,collectionId:ae,collectionSlug:ie,context:1,isFriendLink:!!me})}else ke.event("post.draftViewed",{postId:T});switch(c||Object(K.b)(T),S){case"initial":he(!0),r(Object(re.i)());break;case"repub":r(Object(re.k)({duration:3e3,message:"Your changes have been published."})),r(Object(re.i)())}return function(){r(Object(Se.g)())}}),[T,B]);var Ge,qe,$e=ue&&(c?m.createElement(L.a,{post:d}):m.createElement(k.a,{post:d,collection:ee,meteringInfo:u})),Ye=R?{className:"meteredContent"}:{};if(n){var Ke=n.split("-");Ge=Ke[0],qe=Ke[1]}return m.createElement(m.Fragment,null,m.createElement(f.a,null),m.createElement(z,{post:d}),m.createElement(F.a,{post:d},m.createElement(W.b,{isAmp:a,post:d}),m.createElement(J.a,{name:"can_view_blacklisted_posts"},m.createElement(be.c,{post:d,user:d.creator})),m.createElement(te.M,null,(function(e){var n=d.collection,o=n||{},s=o.id,l=o.auroraTheme,c=d.collection&&d.collection.auroraAlphaEnabled&&Object(y.a)(t,s),u=function(e){if(se){var t=se.defaultBackgroundSpectrum,n=se.highlightSpectrum;return Object(Te.c)(t,n,e)}return e}(e);if(c&&(u=Object(Te.d)(v.c[c].newFonts,u)),l)try{var f=Object(C.e)(l);u=Object(C.d)(f,u)}catch(e){"undefined"!=typeof window&&r(Object(re.k)({message:"error parsing theme: "+e}))}var h={behavior:j.b.Aggressive,isAmp:a,isFixed:!0,post:d};return m.createElement(te.G,{theme:u},c&&"vanilla"!==c&&m.createElement(x.a,{isPostScreen:!0,pubName:c}),n?m.createElement(b.a,i()({},h,{collection:n})):m.createElement(_.a,i()({},h,{isMonogramOnly:!Ne,marginBottom:0,marginBottomSm:0,topic:ze})),He&&m.createElement(Q.b,{isResponsesSidebarVisible:Xe,setIsResponsesSidebarVisible:We}),m.createElement(E.a,{rule:Ae,styles:De(Ve)},m.createElement(g.c,null,m.createElement($.a.Provider,{value:{isFirstLoadAndInReadingList:_e,setIsFirstLoadAndInReadingList:je}},m.createElement("article",Ye,m.createElement(X.a,{post:d}),m.createElement(fe,{post:d,viewerId:null==p?void 0:p.id},m.createElement(q.b,{activeGrafId:Ge,activeNoteId:qe,post:d,postBodyInserts:Re,ref:Le}))),!ue&&!!B&&m.createElement(G.a,{post:d}),$e,m.createElement(Y.b,{post:d,setIsResponsesSidebarVisible:We})))),m.createElement(V.a,{hide:function(){return he(!1)},isVisible:ge,post:d}),!!B&&m.createElement(O.a,null))})),a&&m.createElement(m.Fragment,null,m.createElement(Oe,{json:{requests:{base:Object(Me.f)(t),pageview:Object(Me.c)(t),scrollPing:Object(Me.e)(t)},vars:{postId:T,collectionId:ae,canonicalUrl:ne},triggers:{defaultPageview:{on:"visible",request:"pageview"},scrollDepths:{on:"scroll",scrollSpec:{verticalBoundaries:[0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100]},request:"scrollPing"}},transport:{beacon:!1,xhrpost:!1,image:!0}}}),m.createElement(Pe,{collectionGoogleAnalyticsId:le}),m.createElement(Ie,null))))}));var Ne=u()(Re(),k.c,h.b),ze=u()(Be(),A,b.c,_.b,q.a,he,F.b,_.c,L.b,U.a,Y.a,X.b,W.a,V.b,xe.d,Q.a,xe.e,G.b,k.b,k.d,S.a,be.a,be.b,Te.a,h.c,H.a)},"./src/screens/SuspendedScreen.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("./node_modules/react/index.js"),o=n("./src/components/session/WithFlag.tsx"),a=n("./src/framework/design-system/components/index.ts"),i=n("./src/framework/design-system/type/index.ts"),s=n("./src/framework/reporter/index.ts"),l=n("./src/screens/ContentErrorScreen.tsx"),c=n("./src/util/routes.ts"),u=function(e){var t=e.suspension,n=Object(s.c)();return r.createElement(l.a,{code:410,title:"410 ".concat(t," suspended — Medium"),description:r.createElement(o.a,{name:"enable_new_suspended_page"},(function(e){return e?r.createElement(r.Fragment,null,r.createElement(a.b,{display:"flex",marginTop:"-30px"},r.createElement(i.f,{scale:"S"},"This ",t," is under investigation or was found in violation of the Medium Rules."," ")),r.createElement(a.b,{display:"flex",marginTop:"80px"},r.createElement(i.f,{color:"DARKER",scale:"M"},"There are thousands of stories to read on Medium. Visit our homepage ",r.createElement("br",null)," to find one that’s right for you.")),r.createElement(a.b,{display:"flex",marginTop:"15px"},r.createElement(a.c,{buttonStyle:"SUBTLE",href:Object(c.S)(),onClick:function(){n.event("suspendedPage.backToHomeClicked",{})}},"Take me to Medium"))):r.createElement(r.Fragment,null,"This ",t," is under investigation or was found in violation of the"," ",r.createElement(a.u,{href:"https://medium.com/policy/30e5502c4eb4",display:"inline-block",inline:!0,target:"_blank",linkStyle:"OBVIOUS"},"Medium Rules"))}))})}},"./src/svg/arrow-down-19px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=o.a.createElement("path",{d:"M3.9 6.77l5.2 5.76.43.47.43-.47 5.15-5.7-.85-.77-4.73 5.25L4.75 6z",fillRule:"evenodd"});t.a=function(e){return o.a.createElement("svg",a({width:19,height:19},e),i)}},"./src/svg/arrow-down-21px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=o.a.createElement("path",{d:"M4 7.33L10.03 14l.5.55.5-.55 5.96-6.6-.98-.9-5.98 6.6h1L4.98 6.45z",fillRule:"evenodd"});t.a=function(e){return o.a.createElement("svg",a({width:21,height:21,viewBox:"0 0 21 21"},e),i)}},"./src/svg/audio-21px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=o.a.createElement("g",{strokeLinecap:"round",strokeLinejoin:"round"},o.a.createElement("path",{d:"M17.4 7s2.64 3.56 0 6.88M15 8.56s1.6 2.38 0 4.4"})),s=o.a.createElement("path",{d:"M11.9 3.01a.19.19 0 0 0-.19.04L6.47 7.7H3.2c-.09 0-.21.06-.21.14v5.28c0 .08.12.3.21.3h3.14L11.72 18h.18a.17.17 0 0 0 .1-.15V3.14a.14.14 0 0 0-.1-.14z"});t.a=function(e){return o.a.createElement("svg",a({width:21,height:21},e),i,s)}},"./src/svg/bookmark-25px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=o.a.createElement("path",{d:"M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z",fillRule:"evenodd"});t.a=function(e){return o.a.createElement("svg",a({width:25,height:25,viewBox:"0 0 25 25"},e),i)}},"./src/svg/bookmark-archive-25px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.47 9.95h17v-3h-17v3zm16 1h1a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-17a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h1v9a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1v-9zm-1 0h-13v9h13v-9z",fill:"#757575"}),s=o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.47 12.45c0-.28.21-.5.48-.5h6.04c.27 0 .48.22.48.5 0 .27-.21.5-.48.5H9.95a.49.49 0 0 1-.48-.5z",fill:"#757575"});t.a=function(e){return o.a.createElement("svg",a({width:25,height:25,viewBox:"0 1 25 25",fill:"none"},e),i,s)}},"./src/svg/bookmark-filled-25px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=o.a.createElement("path",{d:"M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13c.2.18.52.17.71-.03a.5.5 0 0 0 .12-.29H19V6z"});t.a=function(e){return o.a.createElement("svg",a({width:25,height:25,viewBox:"0 0 25 25"},e),i)}},"./src/svg/bookmark-remove-25px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=o.a.createElement("g",{clipPath:"url(#bookmark-remove-25px_svg__clip0)"},o.a.createElement("path",{d:"M20.48 7.45H3.46v10.13H16a.47.47 0 1 1 0 .94H3.46c-.54 0-.99-.42-.99-.94V7.45c0-.52.45-.93 1-.93h17c.55 0 1 .41 1 .93v5.57a.5.5 0 0 1-1 0V7.45z",fill:"#757575"}),o.a.createElement("path",{opacity:.9,fillRule:"evenodd",clipRule:"evenodd",d:"M5.47 10.02c0-.28.22-.5.5-.5h9.11a.5.5 0 1 1 0 1H5.97a.5.5 0 0 1-.5-.5z",fill:"#757575"}),o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.47 13.02c0-.28.23-.5.51-.5h5.98a.5.5 0 0 1 .51.5.5.5 0 0 1-.51.5H5.98a.5.5 0 0 1-.51-.5z",fill:"#757575"}),o.a.createElement("path",{stroke:"#757575",strokeLinecap:"round",d:"M18.85 15.9l4.24 4.24M23.09 15.9l-4.24 4.24"})),s=o.a.createElement("defs",null,o.a.createElement("clipPath",{id:"bookmark-remove-25px_svg__clip0"},o.a.createElement("path",{fill:"#fff",transform:"translate(.47 .52)",d:"M0 0h25v25H0z"})));t.a=function(e){return o.a.createElement("svg",a({width:25,height:25,viewBox:"0 0 25 25",fill:"none"},e),i,s)}},"./src/svg/clap-25px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("path",{d:"M11.74 0l.76 2.97.76-2.97zM14.81 3.78l1.84-2.56-1.42-.47zM8.38 1.22l1.84 2.56L9.8.75zM20.38 21.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M7.1 21.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L4.1 14.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L4.4 10.26 3.22 9.08a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L9.96 13a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L6.43 8.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L18.63 14c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM11 5.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 21 22.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"}));t.a=function(e){return o.a.createElement("svg",a({width:25,height:25,viewBox:"0 0 25 25"},e),i)}},"./src/svg/clap-filled-25px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("path",{d:"M11.74 0l.76 2.97.76-2.97zM16.63 1.22L15.2.75l-.4 3.03zM9.79.75l-1.43.47 1.84 2.56zM22.47 13.3L19.45 8c-.29-.43-.69-.7-1.12-.78a1.16 1.16 0 0 0-.91.22c-.3.23-.48.52-.54.84l.05.07 2.85 5c1.95 3.56 1.32 6.97-1.85 10.14a8.46 8.46 0 0 1-.55.5 5.75 5.75 0 0 0 3.36-1.76c3.26-3.27 3.04-6.75 1.73-8.91M12.58 9.89c-.16-.83.1-1.57.7-2.15l-2.5-2.49c-.5-.5-1.38-.5-1.88 0-.18.18-.27.4-.33.63l4.01 4z"}),o.a.createElement("path",{d:"M15.81 9.04a1.37 1.37 0 0 0-.88-.6.81.81 0 0 0-.64.15c-.18.13-.72.55-.24 1.56l1.43 3.03a.54.54 0 1 1-.87.61L7.2 6.38a.99.99 0 1 0-1.4 1.4l4.4 4.4a.54.54 0 1 1-.76.76l-4.4-4.4L3.8 7.3a.99.99 0 0 0-1.4 0 .98.98 0 0 0 0 1.39l1.25 1.24 4.4 4.4a.54.54 0 0 1 0 .76.54.54 0 0 1-.76 0l-4.4-4.4a1 1 0 0 0-1.4 0 .98.98 0 0 0 0 1.4l1.86 1.85 2.76 2.77a.54.54 0 0 1-.76.76L2.58 14.7a.98.98 0 0 0-1.4 0 .99.99 0 0 0 0 1.4l5.33 5.32c3.37 3.37 6.64 4.98 10.49 1.12 2.74-2.74 3.27-5.54 1.62-8.56l-2.8-4.94z"}));t.a=function(e){return o.a.createElement("svg",a({width:25,height:25},e),i)}},"./src/svg/creative-commons-by-21px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=o.a.createElement("path",{d:"M10.48 2c2.4 0 4.4.82 6.04 2.46A8.2 8.2 0 0 1 19 10.5c0 2.39-.81 4.38-2.43 5.96A8.4 8.4 0 0 1 10.49 19c-2.3 0-4.3-.83-5.98-2.5C2.84 14.82 2 12.83 2 10.5s.83-4.34 2.5-6.04A8.14 8.14 0 0 1 10.48 2zm.03 1.53c-1.93 0-3.56.68-4.9 2.04a6.84 6.84 0 0 0-.01 9.82 6.71 6.71 0 0 0 4.92 2.06c1.89 0 3.54-.69 4.94-2.07a6.47 6.47 0 0 0 2-4.87c0-1.93-.67-3.57-2.03-4.93a6.72 6.72 0 0 0-4.91-2.03zM12.8 8.4v3.48h-.97v4.12H9.18v-4.12h-.97V8.39A.53.53 0 0 1 8.37 8a.53.53 0 0 1 .39-.16h3.49c.14 0 .27.06.38.16a.52.52 0 0 1 .16.39zM9.32 6.2c0-.8.39-1.2 1.18-1.2.79 0 1.18.4 1.18 1.2 0 .8-.4 1.19-1.18 1.19-.79 0-1.18-.4-1.18-1.18z",fillRule:"evenodd"});t.a=function(e){return o.a.createElement("svg",a({width:21,height:21},e),i)}},"./src/svg/creative-commons-nc-21px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=o.a.createElement("path",{d:"M10.48 2c2.4 0 4.4.82 6.04 2.46C18.18 6.1 19 8.11 19 10.5s-.81 4.38-2.43 5.96A8.4 8.4 0 0 1 10.49 19c-2.31 0-4.3-.84-5.98-2.52A8.16 8.16 0 0 1 2 10.5c0-2.33.83-4.34 2.5-6.04A8.14 8.14 0 0 1 10.48 2zM3.91 8.2a6.68 6.68 0 0 0-.38 2.3c0 1.88.7 3.51 2.07 4.89a6.77 6.77 0 0 0 4.92 2.05c1.9 0 3.56-.7 4.94-2.08a6.2 6.2 0 0 0 1.17-1.5l-3.2-1.42c-.1.54-.38.98-.8 1.32a2.8 2.8 0 0 1-1.53.58v1.3h-.98v-1.3a3.95 3.95 0 0 1-2.58-1.02l1.16-1.18c.56.51 1.19.77 1.9.77.3 0 .54-.07.75-.2.2-.13.31-.35.31-.65a.66.66 0 0 0-.23-.52l-.82-.35-1-.45-1.35-.6L3.92 8.2zm6.6-4.68a6.6 6.6 0 0 0-4.9 2.05 8 8 0 0 0-.94 1.14l3.25 1.45c.14-.44.41-.8.8-1.07a2.68 2.68 0 0 1 1.39-.44V5.33h.98v1.3c.78.04 1.49.3 2.13.8L12.1 8.56c-.48-.33-.96-.5-1.46-.5-.26 0-.5.05-.7.15-.21.1-.31.28-.31.52 0 .07.02.14.07.2l1.08.49.75.33 1.37.6 4.36 1.94c.14-.6.22-1.21.22-1.83 0-1.95-.67-3.6-2.03-4.93a6.64 6.64 0 0 0-4.92-2.05z",fillRule:"evenodd"});t.a=function(e){return o.a.createElement("svg",a({width:21,height:21},e),i)}},"./src/svg/creative-commons-nd-21px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=o.a.createElement("path",{d:"M10.48 2c2.38 0 4.4.82 6.04 2.47A8.17 8.17 0 0 1 19 10.5a8.1 8.1 0 0 1-2.43 5.98A8.39 8.39 0 0 1 10.49 19c-2.3 0-4.3-.83-5.99-2.5a8.18 8.18 0 0 1-2.5-6 8.3 8.3 0 0 1 2.5-6.03A8.15 8.15 0 0 1 10.48 2zm.03 1.53a6.6 6.6 0 0 0-4.9 2.05 6.78 6.78 0 0 0-2.08 4.92c0 1.9.7 3.52 2.07 4.89a6.71 6.71 0 0 0 4.91 2.06c1.9 0 3.55-.69 4.95-2.07a6.5 6.5 0 0 0 2-4.87c0-1.94-.67-3.58-2.03-4.9a6.67 6.67 0 0 0-4.91-2.06zm3.2 4.97v1.45H7.55V8.5h6.18zm0 2.73v1.45H7.55v-1.45h6.18z",fillRule:"evenodd"});t.a=function(e){return o.a.createElement("svg",a({width:21,height:21},e),i)}},"./src/svg/creative-commons-sa-21px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=o.a.createElement("path",{d:"M10.48 2c2.38 0 4.4.82 6.04 2.47A8.17 8.17 0 0 1 19 10.5a8.1 8.1 0 0 1-2.43 5.98A8.39 8.39 0 0 1 10.49 19c-2.3 0-4.3-.83-5.99-2.5a8.18 8.18 0 0 1-2.5-6c0-2.32.83-4.33 2.5-6.03A8.15 8.15 0 0 1 10.48 2zm.03 1.53a6.6 6.6 0 0 0-4.9 2.05 6.79 6.79 0 0 0-2.08 4.92c0 1.9.7 3.52 2.07 4.89a6.71 6.71 0 0 0 4.92 2.06c1.89 0 3.54-.7 4.94-2.08a6.5 6.5 0 0 0 2-4.87c0-1.94-.67-3.58-2.03-4.92a6.64 6.64 0 0 0-4.91-2.05zM6.72 9.3a3.8 3.8 0 0 1 1.26-2.42 3.7 3.7 0 0 1 2.47-.86c1.34 0 2.4.43 3.2 1.3a4.7 4.7 0 0 1 1.18 3.3c0 1.3-.41 2.4-1.23 3.26a4.2 4.2 0 0 1-3.2 1.3 3.8 3.8 0 0 1-2.48-.87 3.7 3.7 0 0 1-1.26-2.46H8.8c.05 1.03.67 1.55 1.87 1.55.6 0 1.08-.26 1.44-.78.36-.52.54-1.21.54-2.07 0-.9-.17-1.6-.5-2.06a1.68 1.68 0 0 0-1.45-.71c-1.14 0-1.77.5-1.92 1.5h.62l-1.68 1.68-1.68-1.68h.66z",fillRule:"evenodd"});t.a=function(e){return o.a.createElement("svg",a({width:21,height:21},e),i)}},"./src/svg/creative-commons-zero-21px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("path",{d:"M10.5 5.68c-2.76 0-3.46 2.61-3.46 4.82 0 2.21.7 4.82 3.46 4.82s3.46-2.6 3.46-4.82c0-2.21-.7-4.82-3.46-4.82zm0 1.82c.11 0 .21 0 .31.04.2.17.3.4.1.73l-1.83 3.38A9.1 9.1 0 0 1 9 10.49c0-.98.07-3 1.5-3zm1.38 1.55c.1.52.1 1.06.1 1.44 0 .97-.06 3-1.48 3-.11 0-.22-.01-.31-.04l-.06-.02-.1-.03c-.31-.14-.51-.38-.22-.81l2.06-3.55z"}),o.a.createElement("path",{d:"M10.48 2c-2.36 0-4.34.82-5.96 2.47a8.6 8.6 0 0 0-1.88 2.8A8.35 8.35 0 0 0 2 10.5c0 1.13.21 2.21.64 3.23a8.58 8.58 0 0 0 1.85 2.76 8.84 8.84 0 0 0 2.76 1.87 8.4 8.4 0 0 0 3.23.64c1.13 0 2.22-.22 3.27-.66a8.7 8.7 0 0 0 2.82-1.88 7.72 7.72 0 0 0 1.81-2.68A8.62 8.62 0 0 0 19 10.5a8.6 8.6 0 0 0-.62-3.27 8.12 8.12 0 0 0-1.82-2.74A8.3 8.3 0 0 0 10.48 2zm.04 1.53a6.7 6.7 0 0 1 4.93 2.05 6.81 6.81 0 0 1 1.5 2.25 6.97 6.97 0 0 1 .52 2.67c0 1.95-.67 3.57-2 4.87a7.33 7.33 0 0 1-2.31 1.54 6.92 6.92 0 0 1-5.29 0 7.17 7.17 0 0 1-2.26-1.51 7.33 7.33 0 0 1-1.55-2.27 6.8 6.8 0 0 1 0-5.3 7.3 7.3 0 0 1 1.55-2.28 6.6 6.6 0 0 1 4.9-2.03z"}));t.a=function(e){return o.a.createElement("svg",a({width:21,height:21},e),i)}},"./src/svg/twitter-filled-21px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=o.a.createElement("path",{d:"M18.5 4.43a6.9 6.9 0 0 1-2.18.88 3.45 3.45 0 0 0-2.55-1.12 3.49 3.49 0 0 0-3.49 3.48c0 .28.03.55.07.81a9.91 9.91 0 0 1-7.17-3.67 3.9 3.9 0 0 0-.5 1.74 3.6 3.6 0 0 0 1.56 2.92 3.36 3.36 0 0 1-1.55-.44.15.15 0 0 0 0 .06c0 1.67 1.2 3.08 2.8 3.42-.3.06-.6.1-.94.12l-.62-.06A3.5 3.5 0 0 0 7.17 15a7.33 7.33 0 0 1-4.36 1.49L2 16.44A9.96 9.96 0 0 0 7.36 18c6.4 0 9.91-5.32 9.9-9.9v-.5A6.55 6.55 0 0 0 19 5.79a6.18 6.18 0 0 1-2 .56 3.33 3.33 0 0 0 1.5-1.93"});t.a=function(e){return o.a.createElement("svg",a({width:21,height:21,viewBox:"0 0 21 21"},e),i)}},"./src/svg/unlisted-19px.svg":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("path",{d:"M4.13 12.21a15.4 15.4 0 0 1-2.54-2.28 6.61 6.61 0 0 1-.16-.2l-.25-.3.25-.3a13.08 13.08 0 0 1 .63-.7 15.4 15.4 0 0 1 1.7-1.51C5.55 5.54 7.5 4.7 9.51 4.7c.62 0 1.28.13 1.98.37l-.8.78a4.54 4.54 0 0 0-1.18-.18c-1.76 0-3.52.76-5.18 2.02-.58.45-1.12.93-1.58 1.41-.28.3-.28.36 0 .65a14.43 14.43 0 0 0 2.08 1.77l-.71.7zm3.05 1.57a6.32 6.32 0 0 0 4.61-.11c1-.38 2.04-.98 3.1-1.72a25.27 25.27 0 0 0 2.68-2.17l.37-.35-.37-.36a23.05 23.05 0 0 0-.76-.68 25.26 25.26 0 0 0-2.28-1.73l-.72.7a24.05 24.05 0 0 1 2.37 1.77c.2.17.2.42 0 .59-.57.49-1.2.97-1.84 1.43-1.01.7-2 1.26-2.9 1.61a5.4 5.4 0 0 1-1.92.42A6.6 6.6 0 0 1 8 13l-.81.78z"}),o.a.createElement("path",{d:"M12.05 9.06a2.68 2.68 0 0 1-2.7 3A2.74 2.74 0 0 1 9 12l3.06-2.96zM9.72 6.79a2.83 2.83 0 0 0-.37-.02 2.68 2.68 0 0 0-2.7 3l3.07-2.98zM3.6 14.3l-.35.34.68.7.35-.34 10.4-10.08.36-.34-.68-.7-.35.34z"}));t.a=function(e){return o.a.createElement("svg",a({width:19,height:19,viewBox:"0 0 19 19"},e),i)}},"./src/util/hooks/useIsRecircSSREnabled.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("./node_modules/react-redux/es/index.js"),o=n("./src/store/selectors/session.ts");function a(e){var t=Object(r.e)((function(e){var t;return null===(t=e.session.user)||void 0===t?void 0:t.id}));if(!e)return!1;return function(e,t){var n=e&&e.length?e.split(","):[];return!!t&&n.some((function(e){return t.substring(t.length-e.length)===e}))}("0,1",e)&&(!t||!Object(o.a)(t))}},"./src/util/hooks/useTimer.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./node_modules/react/index.js"),o=function(){var e=r.useRef(),t=function(){e.current&&clearTimeout(e.current)};return r.useEffect((function(){return t})),function(n,r){return t(),e.current=setTimeout(n,r),t}}},"./src/util/post/claps.ts":function(e,t,n){"use strict";function r(e,t){return t[e.id]||{clapCount:e.clapCount||0,viewerClapCount:e.viewerClapCount||0,viewerHasClappedSinceFetch:!1}}n.d(t,"a",(function(){return r}))},"./src/util/post/metaDescription.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/graphql-tag/src/index.js"),i=n.n(a),s=n("./src/util/string.ts");function l(){var e=o()(["\n  fragment postMetaDescription_post on Post {\n    id\n    title\n    seoDescription\n    metaDescription\n    creator {\n      id\n      name\n    }\n    collection {\n      id\n      name\n    }\n    previewContent {\n      subtitle\n    }\n    content(postMeteringOptions: $postMeteringOptions) {\n      bodyModel {\n        paragraphs {\n          type\n          text\n        }\n      }\n    }\n  }\n"]);return l=function(){return e},e}var c=function(e){var t=e.metaDescription,n=e.seoDescription,r=e.title||"";if(n)return n;if(t)return t;var o=function(e){var t="";if(e.content&&e.content.bodyModel&&e.content.bodyModel.paragraphs){for(var n=e.content.bodyModel.paragraphs,r=0;r<n.length;r++){var o=n[r];if("P"===o.type&&o.text&&o.text.length>100&&(t+=" ".concat(o.text)),t.length>250)break}return Object(s.b)(t,200)}return t}(e);if(o.length>150)return o;var a=e.previewContent&&e.previewContent.subtitle||"";if(a.length>140)return a;a.length>0&&(a+=".");var i=(r.length?r+". ":"")+a;if(i.length>140)return i;var l="“".concat(r,"” is published");return e.creator&&e.creator.name&&(l+=" by ".concat(e.creator.name)),e.collection&&e.collection.name&&(l+=" in ".concat(e.collection.name)),"".concat(a," ").concat(l,".")},u=function(e){return c(e).trim()},m=i()(l())},"./src/util/post/titleHelpers.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r=function(e){return e||"Untitled story"},o=function(e,t,n){return t?"".concat(e," | ").concat(t):n?"".concat(e," | ").concat(n):e}},"./src/util/quote.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return d}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),o=n.n(r),a=n("./node_modules/lodash/cloneDeep.js"),i=n.n(a),s=n("./node_modules/graphql-tag/src/index.js"),l=n.n(s),c=n("./src/schema-types/globalTypes.ts");function u(){var e=o()(["\n  fragment buildQuotePreviewParagraph_quote on Quote {\n    paragraphs {\n      id\n      text\n      type\n      markups {\n        end\n        start\n        type\n      }\n    }\n    startOffset\n    endOffset\n  }\n"]);return u=function(){return e},e}var m=function(e){if(1!==e.paragraphs.length)return null;var t=i()(e.paragraphs[0]),n=t.text||"",r=0,o=e.startOffset||0,a=e.endOffset||n.length;if(n.length-a>100&&(n=n.substring(0,a+100)+"…"),o>100){var s=o-100;n="…"+n.substring(s),r=s-1}t.text=n,t.type=c.e.P,t.markups.unshift({end:a,start:o,type:c.d.HIGHLIGHT});var l=!0,u=!1,m=void 0;try{for(var d,p=t.markups[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var g=d.value;g.start-=r,g.end-=r}}catch(e){u=!0,m=e}finally{try{l||null==p.return||p.return()}finally{if(u)throw m}}return t},d=l()(u())},"./src/util/string.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(e){return/^[\s\xa0]*$/.test(e)},o=function(e,t){if(e.length<t)return e;var n=e.substr(0,t),r=n.charCodeAt(n.length-1),o=n.charCodeAt(n.length-2);return r>=55296&&r<=57343&&!(o>=55296&&o<=57343)&&(n=n.substr(0,n.length-1)),(n=(n=n.replace(/(\s+\S+|\s+)$/,"")).replace(/[.,:;?!-]+$/,""))+"…"}},"./src/util/typeGuards.ts":function(e,t,n){"use strict";function r(e){return null!=e}n.d(t,"a",(function(){return r}))}}]);
//# sourceMappingURL=screen.post.4de2c933.chunk.js.map